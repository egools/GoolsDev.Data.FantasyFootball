!function(e){function t(t){for(var r,s,o=t[0],u=t[1],l=t[2],d=0,h=[];d<o.length;d++)s=o[d],a[s]&&h.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(c&&c(t);h.length;)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={2:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;i.push([666,0]),n()}([,,,,,,function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(118)),a=s(n(65)),i=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},,,function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(59));t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(207)),i=r(n(68)),s=r(n(208)),o=r(n(13)),u=n(0),l=r(u),c=r(n(55)),d=r(n(112)),h=r(n(215)),f={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,i=a&&n[0].slice(-1),s=a&&n[0].slice(-2);return t?1==i&&11!=s?"one":2==i&&12!=s?"two":3==i&&13!=s?"few":"other":1==e&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(Array.isArray(e)?e:[e]).forEach(function(e){e&&e.locale&&(i.__addLocaleData(e),s.__addLocaleData(e))})}function y(e){var t=e&&e.toLowerCase();return!(!i.__localeData__[t]||!s.__localeData__[t])}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=(function(){function e(e){this.value=e}function t(t){var n,r;function a(n,r){try{var s=t[n](r),o=s.value;o instanceof e?Promise.resolve(o.value).then(function(e){a("next",e)},function(e){a("throw",e)}):i(s.done?"return":"normal",s.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?a(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(i,s){var o={key:e,arg:t,resolve:i,reject:s,next:null};r?r=r.next=o:(n=r=o,a(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},S=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},U=o.bool,A=o.number,N=o.string,M=o.func,I=o.object,w=o.oneOf,k=o.shape,T=o.any,O=o.oneOfType,R=w(["best fit","lookup"]),L=w(["narrow","short","long"]),P=w(["numeric","2-digit"]),D=M.isRequired,x={locale:N,timeZone:N,formats:I,messages:I,textComponent:T,defaultLocale:N,defaultFormats:I,onError:M},H={formatDate:D,formatTime:D,formatRelative:D,formatNumber:D,formatPlural:D,formatMessage:D,formatHTMLMessage:D},F=k(E({},x,H,{formatters:I,now:D})),G=(N.isRequired,O([N,I]),{localeMatcher:R,formatMatcher:w(["basic","best fit"]),timeZone:N,hour12:U,weekday:L,era:L,year:P,month:w(["numeric","2-digit","narrow","short","long"]),day:P,hour:P,minute:P,second:P,timeZoneName:w(["short","long"])}),j={localeMatcher:R,style:w(["decimal","currency","percent"]),currency:N,currencyDisplay:w(["symbol","code","name"]),useGrouping:U,minimumIntegerDigits:A,minimumFractionDigits:A,maximumFractionDigits:A,minimumSignificantDigits:A,maximumSignificantDigits:A},B={style:w(["best fit","numeric"]),units:w(["second","minute","hour","day","month","year","second-short","minute-short","hour-short","day-short","month-short","year-short"])},q={style:w(["cardinal","ordinal"])},z=Object.keys(x),W={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Q=/[&><"']/g;function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce(function(t,r){return e.hasOwnProperty(r)?t[r]=e[r]:n.hasOwnProperty(r)&&(t[r]=n[r]),t},{})}function K(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intl;d(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function Y(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":m(e))||null===e||"object"!==(void 0===t?"undefined":m(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),i=0;i<n.length;i++)if(!a(n[i])||e[n[i]]!==t[n[i]])return!1;return!0}function J(e,t,n){var r=e.props,a=e.state,i=e.context,s=void 0===i?{}:i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=s.intl,l=void 0===u?{}:u,c=o.intl,d=void 0===c?{}:c;return!Y(t,r)||!Y(n,a)||!(d===l||Y(V(d,z),V(l,z)))}function Z(e,t){return"[React Intl] "+e+(t?"\n"+t:"")}function X(e){0}var $=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,e);var r="ordinal"===n.style,a=function(e){return i.prototype._findPluralRuleFunction(e)}(function(e){return i.prototype._resolveLocale(e)}(t));this.format=function(e){return a(e,r)}},ee=Object.keys(G),te=Object.keys(j),ne=Object.keys(B),re=Object.keys(q),ae={second:60,minute:60,hour:24,day:30,month:12};function ie(e){var t=s.thresholds;t.second=e.second,t.minute=e.minute,t.hour=e.hour,t.day=e.day,t.month=e.month,t["second-short"]=e["second-short"],t["minute-short"]=e["minute-short"],t["hour-short"]=e["hour-short"],t["day-short"]=e["day-short"],t["month-short"]=e["month-short"]}function se(e,t,n,r){var a=e&&e[t]&&e[t][n];if(a)return a;r(Z("No "+t+" format named: "+n))}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.locale,i=e.formats,s=e.messages,o=e.defaultLocale,u=e.defaultFormats,l=n.id,c=n.defaultMessage;d(l,"[React Intl] An `id` must be provided to format a message.");var h=s&&s[l];if(!(Object.keys(r).length>0))return h||c||l;var f=void 0,p=e.onError||X;if(h)try{f=t.getMessageFormat(h,a,i).format(r)}catch(e){p(Z('Error formatting message: "'+l+'" for locale: "'+a+'"'+(c?", using default message as fallback.":""),e))}else(!c||a&&a.toLowerCase()!==o.toLowerCase())&&p(Z('Missing message: "'+l+'" for locale: "'+a+'"'+(c?", using default message as fallback.":"")));if(!f&&c)try{f=t.getMessageFormat(c,o,u).format(r)}catch(e){p(Z('Error formatting the default message for: "'+l+'"',e))}return f||p(Z('Cannot format message: "'+l+'", using message '+(h||c?"source":"id")+" as fallback.")),f||h||c||l}var ue=Object.freeze({formatDate:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.locale,i=e.formats,s=e.timeZone,o=r.format,u=e.onError||X,l=new Date(n),c=E({},s&&{timeZone:s},o&&se(i,"date",o,u)),d=V(r,ee,c);try{return t.getDateTimeFormat(a,d).format(l)}catch(e){u(Z("Error formatting date.",e))}return String(l)},formatTime:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.locale,i=e.formats,s=e.timeZone,o=r.format,u=e.onError||X,l=new Date(n),c=E({},s&&{timeZone:s},o&&se(i,"time",o,u)),d=V(r,ee,c);d.hour||d.minute||d.second||(d=E({},d,{hour:"numeric",minute:"numeric"}));try{return t.getDateTimeFormat(a,d).format(l)}catch(e){u(Z("Error formatting time.",e))}return String(l)},formatRelative:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.locale,i=e.formats,o=r.format,u=e.onError||X,l=new Date(n),c=new Date(r.now),d=o&&se(i,"relative",o,u),h=V(r,ne,d),f=E({},s.thresholds);ie(ae);try{return t.getRelativeFormat(a,h).format(l,{now:isFinite(c)?c:t.now()})}catch(e){u(Z("Error formatting relative time.",e))}finally{ie(f)}return String(l)},formatNumber:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.locale,i=e.formats,s=r.format,o=e.onError||X,u=s&&se(i,"number",s,o),l=V(r,te,u);try{return t.getNumberFormat(a,l).format(n)}catch(e){o(Z("Error formatting number.",e))}return String(n)},formatPlural:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.locale,i=V(r,re),s=e.onError||X;try{return t.getPluralFormat(a,i).format(n)}catch(e){s(Z("Error formatting plural.",e))}return"other"},formatMessage:oe,formatHTMLMessage:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return oe(e,t,n,Object.keys(r).reduce(function(e,t){var n=r[t];return e[t]="string"==typeof n?function(e){return(""+e).replace(Q,function(e){return W[e]})}(n):n,e},{}))}}),le=Object.keys(x),ce=Object.keys(H),de={formats:{},messages:{},timeZone:null,textComponent:"span",defaultLocale:"en",defaultFormats:{},onError:X},he=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));d("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var a=n.intl,o=void 0;o=isFinite(e.initialNow)?Number(e.initialNow):a?a.now():Date.now();var u=(a||{}).formatters,l=void 0===u?{getDateTimeFormat:h(Intl.DateTimeFormat),getNumberFormat:h(Intl.NumberFormat),getMessageFormat:h(i),getRelativeFormat:h(s),getPluralFormat:h($)}:u;return r.state=E({},l,{now:function(){return r._didDisplay?Date.now():o}}),r}return C(t,e),_(t,[{key:"getConfig",value:function(){var e=this.context.intl,t=V(this.props,le,e);for(var n in de)void 0===t[n]&&(t[n]=de[n]);if(!function(e){for(var t=(e||"").split("-");t.length>0;){if(y(t.join("-")))return!0;t.pop()}return!1}(t.locale)){var r=t,a=r.locale,i=r.defaultLocale,s=r.defaultFormats;(0,r.onError)(Z('Missing locale data for locale: "'+a+'". Using default locale: "'+i+'" as fallback.')),t=E({},t,{locale:i,formats:s,messages:de.messages})}return t}},{key:"getBoundFormatFns",value:function(e,t){return ce.reduce(function(n,r){return n[r]=ue[r].bind(null,e,t),n},{})}},{key:"getChildContext",value:function(){var e=this.getConfig(),t=this.getBoundFormatFns(e,this.state),n=this.state,r=n.now,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["now"]);return{intl:E({},e,t,{formatters:a,now:r})}}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,[this].concat(t))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return u.Children.only(this.props.children)}}]),t}(u.Component);he.displayName="IntlProvider",he.contextTypes={intl:F},he.childContextTypes={intl:F.isRequired};var fe=function(e){function t(e,n){g(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return K(n),r}return C(t,e),_(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatDate,n=e.textComponent,r=this.props,a=r.value,i=r.children,s=t(a,this.props);return"function"==typeof i?i(s):l.createElement(n,null,s)}}]),t}(u.Component);fe.displayName="FormattedDate",fe.contextTypes={intl:F};var pe=function(e){function t(e,n){g(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return K(n),r}return C(t,e),_(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatTime,n=e.textComponent,r=this.props,a=r.value,i=r.children,s=t(a,this.props);return"function"==typeof i?i(s):l.createElement(n,null,s)}}]),t}(u.Component);pe.displayName="FormattedTime",pe.contextTypes={intl:F};var ye=1e3,me=6e4,ge=36e5,_e=864e5,ve=2147483647;var Ee=function(e){function t(e,n){g(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));K(n);var a=isFinite(e.initialNow)?Number(e.initialNow):n.intl.now();return r.state={now:a},r}return C(t,e),_(t,[{key:"scheduleNextUpdate",value:function(e,t){var n=this;clearTimeout(this._timer);var r=e.value,a=e.units,i=e.updateInterval,s=new Date(r).getTime();if(i&&isFinite(s)){var o=s-t.now,u=function(e){switch(e){case"second":return ye;case"minute":return me;case"hour":return ge;case"day":return _e;default:return ve}}(a||function(e){var t=Math.abs(e);return t<me?"second":t<ge?"minute":t<_e?"hour":"day"}(o)),l=Math.abs(o%u),c=o<0?Math.max(i,u-l):Math.max(i,l);this._timer=setTimeout(function(){n.setState({now:n.context.intl.now()})},c)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(e){(function(e,t){if(e===t)return!0;var n=new Date(e).getTime(),r=new Date(t).getTime();return isFinite(n)&&isFinite(r)&&n===r})(e.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,[this].concat(t))}},{key:"componentWillUpdate",value:function(e,t){this.scheduleNextUpdate(e,t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var e=this.context.intl,t=e.formatRelative,n=e.textComponent,r=this.props,a=r.value,i=r.children,s=t(a,E({},this.props,this.state));return"function"==typeof i?i(s):l.createElement(n,null,s)}}]),t}(u.Component);Ee.displayName="FormattedRelative",Ee.contextTypes={intl:F},Ee.defaultProps={updateInterval:1e4};var Ce=function(e){function t(e,n){g(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return K(n),r}return C(t,e),_(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatNumber,n=e.textComponent,r=this.props,a=r.value,i=r.children,s=t(a,this.props);return"function"==typeof i?i(s):l.createElement(n,null,s)}}]),t}(u.Component);Ce.displayName="FormattedNumber",Ce.contextTypes={intl:F};var be=function(e){function t(e,n){g(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return K(n),r}return C(t,e),_(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatPlural,n=e.textComponent,r=this.props,a=r.value,i=r.other,s=r.children,o=t(a,this.props),u=this.props[o]||i;return"function"==typeof s?s(u):l.createElement(n,null,u)}}]),t}(u.Component);be.displayName="FormattedPlural",be.contextTypes={intl:F},be.defaultProps={style:"cardinal"};var Se=function(e,t){return oe({},{getMessageFormat:h(i)},e,t)},Ue=function(e){function t(e,n){g(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.defaultMessage||K(n),r}return C(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values;if(!Y(e.values,t))return!0;for(var n=E({},e,{values:t}),r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return J.apply(void 0,[this,n].concat(a))}},{key:"render",value:function(){var e=this.context.intl||{},t=e.formatMessage,n=void 0===t?Se:t,r=e.textComponent,a=void 0===r?"span":r,i=this.props,s=i.id,o=i.description,l=i.defaultMessage,c=i.values,d=i.tagName,h=void 0===d?a:d,f=i.children,p=void 0,y=void 0,m=void 0;if(c&&Object.keys(c).length>0){var g=Math.floor(1099511627776*Math.random()).toString(16),_=function(){var e=0;return function(){return"ELEMENT-"+g+"-"+(e+=1)}}();p="@__"+g+"__@",y={},m={},Object.keys(c).forEach(function(e){var t=c[e];if(u.isValidElement(t)){var n=_();y[e]=p+n+p,m[n]=t}else y[e]=t})}var v=n({id:s,description:o,defaultMessage:l},y||c),E=void 0;return E=m&&Object.keys(m).length>0?v.split(p).filter(function(e){return!!e}).map(function(e){return m[e]||e}):[v],"function"==typeof f?f.apply(void 0,S(E)):u.createElement.apply(void 0,[h,null].concat(S(E)))}}]),t}(u.Component);Ue.displayName="FormattedMessage",Ue.contextTypes={intl:F},Ue.defaultProps={values:{}};var Ae=function(e){function t(e,n){g(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return K(n),r}return C(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values;if(!Y(e.values,t))return!0;for(var n=E({},e,{values:t}),r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return J.apply(void 0,[this,n].concat(a))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatHTMLMessage,n=e.textComponent,r=this.props,a=r.id,i=r.description,s=r.defaultMessage,o=r.values,u=r.tagName,c=void 0===u?n:u,d=r.children,h=t({id:a,description:i,defaultMessage:s},o);if("function"==typeof d)return d(h);var f={__html:h};return l.createElement(c,{dangerouslySetInnerHTML:f})}}]),t}(u.Component);Ae.displayName="FormattedHTMLMessage",Ae.contextTypes={intl:F},Ae.defaultProps={values:{}},p(f),p(a),t.addLocaleData=p,t.intlShape=F,t.injectIntl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.intlPropName,r=void 0===n?"intl":n,a=t.withRef,i=void 0!==a&&a,s=function(t){function n(e,t){g(this,n);var r=b(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return K(t),r}return C(n,t),_(n,[{key:"getWrappedInstance",value:function(){return d(i,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this._wrappedInstance}},{key:"render",value:function(){var t=this;return l.createElement(e,E({},this.props,v({},r,this.context.intl),{ref:i?function(e){return t._wrappedInstance=e}:null}))}}]),n}(u.Component);return s.displayName="InjectIntl("+function(e){return e.displayName||e.name||"Component"}(e)+")",s.contextTypes={intl:F},s.WrappedComponent=e,c(s,e)},t.defineMessages=function(e){return e},t.IntlProvider=he,t.FormattedDate=fe,t.FormattedTime=pe,t.FormattedRelative=Ee,t.FormattedNumber=Ce,t.FormattedPlural=be,t.FormattedMessage=Ue,t.FormattedHTMLMessage=Ae},,,,,function(e,t,n){e.exports={Icon:n(71)}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGIN_SUCCESS="login_success",t.LOGIN_FAIL="login_fail",t.NEW_GROUP_CHANNEL_LIST_SUCCESS="new_group_channel_list_success",t.GROUP_CHANNEL_LIST_SUCCESS="group_channel_list_success",t.GROUP_CHANNEL_LIST_FAIL="group_channel_list_fail",t.INIT_CHAT_SCREEN="init_chat_screen",t.CREATE_CHAT_HANDLER_SUCCESS="create_chat_handler_success",t.CREATE_CHAT_HANDLER_FAIL="create_chat_handler_fail",t.MESSAGE_LIST_SUCCESS="message_list_success",t.MESSAGE_LIST_FAIL="message_list_fail",t.MESSAGE_RECEIVED="message_received",t.MESSAGE_UPDATED="message_updated",t.MESSAGE_DELETED="message_deleted",t.SEND_MESSAGE_TEMPORARY="send_message_temporary",t.SEND_MESSAGE_SUCCESS="send_message_success",t.SEND_MESSAGE_FAIL="send_message_fail",t.OPEN_CHAT_SUCCESS="open_chat_success",t.OPEN_CHAT_FAILURE="open_chat_failure",t.CLOSE_CHAT_SUCCESS="close_chat_success",t.INIT_SUCCESS="init_success",t.START_NEW_CHAT_SUCCESS="start_chat_success",t.START_NEW_CHAT_FAILURE="start_chat_failure",t.RESET_TOUT="reset_tout",t.REPORT_MESSAGE_SUCCESS="report_message_success",t.REPORT_MESSAGE_FAILURE="report_message_failure",t.UNBLOCK_USER="unblock_user",t.UNBLOCK_USER_FAILURE="unblock_user_failure",t.BLOCK_USER="block_user",t.BLOCK_USER_FAILURE="block_user_failure",t.MARK_AS_READ="mark_as_read",t.TOGGLE_CHAT_MINIMIZE_SUCCESS="toggle_chat_minimize_success",t.DELETE_MESSAGE_SUCCESS="delete_message_success",t.DELETE_MESSAGE_FAILURE="delete_message_failure",t.GIF_LIST_SUCCESS="gif_list_success",t.GIF_LIST_FAILURE="gif_list_failure",t.USER_IS_TYPING="user_is_typing",t.USER_IS_DONE_TYPING="user_is_done_typing",t.TYPING_STATUS_UPDATED="typing_status_updated"},,,,,,,,,,,function(e,t,n){"use strict";t.__esModule=!0,t.connect=t.Provider=void 0;var r=i(n(177)),a=i(n(178));function i(e){return e&&e.__esModule?e:{default:e}}t.Provider=r.default,t.connect=a.default},function(e,t,n){var r=n(47),a=n(146),i=n(30),s="[object Object]",o=Function.prototype,u=Object.prototype,l=o.toString,c=u.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!i(e)||r(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},,,,function(e,t,n){"use strict";t.extend=function(e){var t,n,a,i,s=Array.prototype.slice.call(arguments,1);for(t=0,n=s.length;t<n;t+=1)if(a=s[t])for(i in a)r.call(a,i)&&(e[i]=a[i]);return e};var r=Object.prototype.hasOwnProperty;t.hop=r},,function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(235));t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},,function(e,t,n){"use strict";t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var r=u(n(109)),a=u(n(183)),i=u(n(184)),s=u(n(185)),o=u(n(111));u(n(110));function u(e){return e&&e.__esModule?e:{default:e}}t.createStore=r.default,t.combineReducers=a.default,t.bindActionCreators=i.default,t.applyMiddleware=s.default,t.compose=o.default},,,,,function(e,t,n){e.exports={default:n(60),__esModule:!0}},function(e,t,n){n(61),e.exports=n(14).Object.assign},function(e,t,n){var r=n(18);r(r.S+r.F,"Object",{assign:n(62)})},function(e,t,n){"use strict";var r=n(23),a=n(49),i=n(92),s=n(63),o=n(38),u=n(114),l=Object.assign;e.exports=!l||n(36)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=o(e),l=arguments.length,c=1,d=i.f,h=s.f;l>c;)for(var f,p=u(arguments[c++]),y=d?a(p).concat(d(p)):a(p),m=y.length,g=0;m>g;)f=y[g++],r&&!h.call(p,f)||(n[f]=p[f]);return n}:l},,,function(e,t,n){e.exports={default:n(66),__esModule:!0}},function(e,t,n){n(67);var r=n(14).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(18);r(r.S,"Object",{create:n(93)})},function(e,t,n){"use strict";var r=n(119).default;n(126),(t=e.exports=r).default=t},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,i,s,o,u,l,c,d,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function f(){return a=v(n(0))}function p(){return i=n(0)}function y(){return o=v(n(73))}function m(){return u=v(n(76))}function g(){return l=v(n(77))}function _(){return c=v(n(80))}function v(e){return e&&e.__esModule?e:{default:e}}var E="SVG",C=void 0,b=void 0;"undefined"!=typeof window&&(C=document,b=window,E=(0,(c||_()).default)(b,C));var S=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={basisHeight:48,basisWidth:48},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(i||p()).Component),h(t,[{key:"isLazy",value:function(){return this.props.name&&!this.props.asset&&!this.state.asset}},{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.name,a=t.host;this.isLazy()&&((l||g()).default.componentDidMount(),(l||g()).default.loadScript({link:a+"/yicons/"+(d||(d=n(81))).version+"/"+r+".js",namespace:"YIcons."+r},function(){if(!e.state.asset){var t=b.YIcons&&b.YIcons[r]||(s||(s=v(n(72)))).default;e.setState({asset:t,basisWidth:t.width,basisHeight:t.height})}}))}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,(u||m()).default)(t,this.state)||!(0,(u||m()).default)(e,this.props)}},{key:"render",value:function(){var e=this.context.session,t=e&&e.userAgent||{},n=this.props,r=n.className,i=n.color,s=n.cursorClass,u=n.enableDefaultColor,l=n.height,d=n.name,h=n.asset,p=n.pointerEvents,m=n.style,g=n.width,v=this.state,S=v.basisHeight,U=v.basisWidth,A=E;"ie"===(t.browserName||"").toLowerCase()&&parseInt(t.browserVersion||"",10)<=8?A="VML":void 0!==b&&void 0!==C&&(A=(0,(c||_()).default)(b,C));var N=[{basisHeight:S,basisWidth:U,className:r,color:i,cursorClass:s,enableDefaultColor:u,height:l,name:d,asset:this.state.asset||h,renderMethod:A,pointerEvents:p,style:m,width:g||l}];return"VML"===A?(a||f()).default.createElement("div",{className:"D(i)"},(a||f()).default.createElement("span",{dangerouslySetInnerHTML:{__html:'<style>v\\:shape { behavior:url(#default#VML); display:inline-block }</style><style>v\\:shapetype { behavior:url(#default#VML); display:inline-block }</style><xml:namespace ns="urn:schemas-microsoft-com:vml" prefix="v" />'}}),(o||y()).default.apply(this,N)):(o||y()).default.apply(this,N)}}]),t}();S.displayName="Icon",S.defaultProps={cursorClass:"Cur(p)",enableDefaultColor:!0,host:"https://s.yimg.com/aaq"},S.contextTypes={session:(r||(r=v(n(13)))).default.object},t.default=S,e.exports=t.default},function(e,t){if(void 0===n)var n={};n.attention={name:"attention",height:48,width:48,path:"M24.993 46.424c-12.13 0-22-9.87-22-22s9.87-22 22-22 22 9.87 22 22-9.87 22-22 22zm0-40c-9.925 0-18 8.075-18 18 0 9.926 8.075 18 18 18s18-8.074 18-18c0-9.924-8.075-18-18-18zM24.993 27.424c-1.104 0-2-.895-2-2v-10c0-1.104.896-2 2-2s2 .896 2 2v10c0 1.105-.895 2-2 2zM22.993 33.424a2 2 0 1 0 4 0 2 2 0 1 0-4 0z"},void 0!==e&&e.exports&&(e.exports=n.attention)},function(e,t,n){"use strict";var r,a,i;function s(){return r=o(n(0))}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){var t=e.asset,u=void 0===t?{}:t,l=e.color,c=void 0===l?"#000":l,d=e.renderMethod,h=void 0===d?"SVG":d,f=e.name,p=e.className,y=e.cursorClass,m=e.pointerEvents,g=e.enableDefaultColor,_=u.height,v=u.width,E=parseInt(e.height||_,10)||32,C=parseInt(e.basisWidth||e.width||v,10),b=parseInt(e.basisHeight||E,10),S=parseInt(e.width,10)||C/b*E,U=u.name||f,A=u.path,N=e.style?Object.assign({},e.style):{};N.fill=N.fill||(g?c:void 0),N.stroke=N.stroke||N.fill,N.strokeWidth=N.strokeWidth||0,N.verticalAlign=N.verticalAlign||"bottom";var M=parseInt(N.strokeWidth,10),I=M/2,w=[p,y].filter(function(e){return!!e}).join(" "),k="D(ib)"+(w?" "+w:"");if("SVG"===h){if(f&&!e.asset)return N.width=S,N.height=E,(r||s()).default.createElement("div",{className:k,style:N,"data-icon":U});var T=-I+" "+-I+" "+(parseInt(v,10)+M)+" "+(parseInt(_,10)+M);return(r||s()).default.createElement("svg",{className:w,width:S,style:N,height:E,viewBox:T,"data-icon":U,pointerEvents:m},(r||s()).default.createElement("path",{d:A}))}return S=E||u.width/u.height*E,A=""+(0,(a||(a=o(n(74)))).default)(A),(r||s()).default.createElement("div",{className:k,"data-icon":U,dangerouslySetInnerHTML:{__html:'<v:shape style="height:'+E+"px; width:"+S+'px;" coordsize="'+10*u.width+","+10*u.height+'" id="'+U+'" strokecolor="'+N.stroke+'" fillcolor="'+N.fill+'" path="'+(0,(i||(i=o(n(75)))).default)(A)+'" ></v:shape>'}})};u.defaultProps={enableDefaultColor:!0},t.default=u,e.exports=t.default},function(e,t){var n=Math,r=n.max,a=parseFloat,i=String,s=i.prototype.toLowerCase,o="apply",u=n.PI,l={},c="hasOwnProperty",d=i.prototype.toUpperCase,h="concat",f=n.abs,p="split",y=/,?([achlmqrstvxz]),?/gi,m=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,g=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi;function _(e,t,n){return function r(){var a=Array.prototype.slice.call(arguments,0),i=a.join("‚êÄ"),s=r.cache=r.cache||{},u=r.count=r.count||[];return s[c](i)?(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}(u,i),n?n(s[i]):s[i]):(u.length>=1e3&&delete s[u.shift()],u.push(i),s[i]=e[o](t,a),n?n(s[i]):s[i])}}function v(e){var t=function e(t){if(Object(t)!==t)return t;var n=new t.constructor;for(var r in t)t[c](r)&&(n[r]=e(t[r]));return n}(e);return t.toString=l._path2string,t}l._path2string=function(){return this.join(",").replace(y,"$1")},l.is=function(e,t){return"finite"==(t=s.call(t))?!isnan[c](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||objectToString.call(e).slice(8,-1).toLowerCase()==t};var E=l._path2curve=_(function(e,t){var i=!t&&b(e);if(!t&&i.curve)return v(i.curve);for(var s=S(e),l=t&&S(t),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},y=function(e,t){if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][h](function e(t,r,a,i,s,o,l,c,d,y){var m=120*u/180;var g=u/180*(+s||0);var v=[];var E;var C=_(function(e,t,r){var a=e*n.cos(r)-t*n.sin(r),i=e*n.sin(r)+t*n.cos(r);return{x:a,y:i}});if(y)k=y[0],T=y[1],I=y[2],w=y[3];else{E=C(t,r,-g),t=E.x,r=E.y,E=C(c,d,-g),c=E.x,d=E.y;n.cos(u/180*s),n.sin(u/180*s);var b=(t-c)/2,S=(r-d)/2,U=b*b/(a*a)+S*S/(i*i);U>1&&(U=n.sqrt(U),a*=U,i*=U);var A=a*a,N=i*i,M=(o==l?-1:1)*n.sqrt(f((A*N-A*S*S-N*b*b)/(A*S*S+N*b*b))),I=M*a*S/i+(t+c)/2,w=M*-i*b/a+(r+d)/2,k=n.asin(((r-w)/i).toFixed(9)),T=n.asin(((d-w)/i).toFixed(9));k=t<I?u-k:k,T=c<I?u-T:T,k<0&&(k=2*u+k),T<0&&(T=2*u+T),l&&k>T&&(k-=2*u),!l&&T>k&&(T-=2*u)}var O=T-k;if(f(O)>m){var R=T,L=c,P=d;T=k+m*(l&&T>k?1:-1),c=I+a*n.cos(T),d=w+i*n.sin(T),v=e(c,d,a,i,s,0,l,L,P,[T,R,I,w])}O=T-k;var D=n.cos(k);var x=n.sin(k);var H=n.cos(T);var F=n.sin(T);var G=n.tan(O/4);var j=4/3*a*G;var B=4/3*i*G;var q=[t,r];var z=[t+j*x,r-B*D];var W=[c+j*F,d-B*H];var Q=[c,d];z[0]=2*q[0]-z[0];z[1]=2*q[1]-z[1];if(y)return[z,W,Q][h](v);for(var V=[],K=0,Y=(v=[z,W,Q][h](v).join()[p](",")).length;K<Y;K++)V[K]=K%2?C(v[K-1],v[K],g).y:C(v[K],v[K+1],g).x;return V}[o](0,[t.x,t.y][h](e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))][h](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][h](A(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][h](A(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][h](U(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][h](U(t.x,t.y,e[1],t.y));break;case"V":e=["C"][h](U(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][h](U(t.x,t.y,t.X,t.Y))}return e},m=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)e.splice(t++,0,["C"][h](n.splice(0,6)));e.splice(t,1),C=r(s.length,l&&l.length||0)}},g=function(e,t,n,a,i){e&&t&&"M"==e[i][0]&&"M"!=t[i][0]&&(t.splice(i,0,["M",a.x,a.y]),n.bx=0,n.by=0,n.x=e[i][1],n.y=e[i][2],C=r(s.length,l&&l.length||0))},E=0,C=r(s.length,l&&l.length||0);E<C;E++){s[E]=y(s[E],c),m(s,E),l&&(l[E]=y(l[E],d)),l&&m(l,E),g(s,l,c,d,E),g(l,s,d,c,E);var N=s[E],M=l&&l[E],I=N.length,w=l&&M.length;c.x=N[I-2],c.y=N[I-1],c.bx=a(N[I-4])||c.x,c.by=a(N[I-3])||c.y,d.bx=l&&(a(M[w-4])||d.x),d.by=l&&(a(M[w-3])||d.y),d.x=l&&M[w-2],d.y=l&&M[w-1]}return l||(i.curve=v(s)),l?[s,l]:s},null,v);function C(e,t){for(var n=[],r=0,a=e.length;a-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?a-4==r?i[3]={x:+e[0],y:+e[1]}:a-2==r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[a-2],y:+e[a-1]}:a-4==r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}var b=function(e){var t=b.ps=b.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[c](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]},S=l._pathToAbsolute=function(e){var t=b(e);if(t.abs)return v(t.abs);if(l.is(e,"array")&&l.is(e&&e[0],"array")||(e=l.parsePathString(e)),!e||!e.length)return[["M",0,0]];var n=[],r=0,a=0,i=0,s=0,o=0;"M"==e[0][0]&&(i=r=+e[0][1],s=a=+e[0][2],o++,n[0]=["M",r,a]);for(var u,c,f=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),p=o,y=e.length;p<y;p++){if(n.push(u=[]),(c=e[p])[0]!=d.call(c[0]))switch(u[0]=d.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+r),u[7]=+(c[7]+a);break;case"V":u[1]=+c[1]+a;break;case"H":u[1]=+c[1]+r;break;case"R":for(var m=[r,a][h](c.slice(1)),g=2,_=m.length;g<_;g++)m[g]=+m[g]+r,m[++g]=+m[g]+a;n.pop(),n=n[h](C(m,f));break;case"M":i=+c[1]+r,s=+c[2]+a;default:for(g=1,_=c.length;g<_;g++)u[g]=+c[g]+(g%2?r:a)}else if("R"==c[0])m=[r,a][h](c.slice(1)),n.pop(),n=n[h](C(m,f)),u=["R"][h](c.slice(-2));else for(var E=0,S=c.length;E<S;E++)u[E]=c[E];switch(u[0]){case"Z":r=i,a=s;break;case"H":r=u[1];break;case"V":a=u[1];break;case"M":i=u[u.length-2],s=u[u.length-1];default:r=u[u.length-2],a=u[u.length-1]}}return n.toString=l._path2string,t.abs=v(n),n};function U(e,t,n,r){return[e,t,n,r,n,r]}function A(e,t,n,r,a,i){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*a+2/3*n,1/3*i+2/3*r,a,i]}l.parsePathString=function(e){if(!e)return null;var t=b(e);if(t.arr)return v(t.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return l.is(e,"array")&&l.is(e[0],"array")&&(r=pathclone(e)),r.length||i(e).replace(m,function(e,t,a){var i=[],s=t.toLowerCase();if(a.replace(g,function(e,t){t&&i.push(+t)}),"m"==s&&i.length>2&&(r.push([t][h](i.splice(0,2))),s="l",t="l"),"r"==s)r.push([t][h](i));else for(;i.length>=n[s]&&(r.push([t][h](i.splice(0,n[s]))),n[s]););}),r.tostring=l._path2string,t.arr=v(r),r},e.exports=E},function(e,t){e.exports=function(e){var t="",n=e.split(/([-, MCczvhls])/).map(function(e){return e}).reduce(function(e,n){if(function(e){return e!=e}(parseFloat(n))){if("c"===n)return e+"v";if("C"===n)return e+"c";if("M"===n)return e+"m";if("v"===n)return e+"r 0 ";if("V"===n)return e+"l 0 ";if("h"===n)return t=" 0 ",e+"r ";if("-"===n||" "===n||""===n||","===n)return e+n;if("z"===n)return e+"x";if("l"===n)return e+"r";if("s"===n)return e+"hf ";throw"L"===n?"unimplemented command L":"V"===n?"unimplemented command V":"unknown command"}var r=t;return t="",e+Math.round(10*Number(n))+r},"");return n+="e"}},function(e,t){var n=function(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;var r,a,i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var o=i.length-1;o>=0;o--)if(r=e[i[o]],a=t[i[o]],"object"==typeof r){if(!n(r,a))return!1}else if(r!==a)return!1;return!0};e.exports=n},function(e,t,n){e.exports=n(78)},function(e,t,n){"use strict";var r,a,i=n(42)("LoadScriptMixin"),s=n(9),o=n(70),u={},l={attachToWindowEvent:n(79),_deferLoadScript:function(e,t){var n,s=e.link;u[s]||(u[s]=new Promise(function(t,o){(n=r.createElement("script")).async=e.async||!1,n.src=s,n.type="text/javascript",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(setTimeout(function(){t()},0),n.onload=n.onreadystatechange=null,n.parentNode&&a.removeChild(n))},n.onerror=function(e){i("Error loading script",e),o(new Error("Error loading script"))},a.appendChild(n,a.firstChild)})),u[s].then(function(){t&&t()}).catch(function(e){t&&t(e)})},loadScript:function(e,t){var n=this;if("undefined"!=typeof window){if(!e.link)return i("A Link is required to load the script"),t&&t(new Error("A Link is required to load the script"));if(e.namespace||i("No namespace provided, the same script might loads multiple times"),e.namespace&&s(window,e.namespace))return t&&t();r&&a&&(e.lazyload&&"complete"!==r.readyState&&"loaded"!==r.readyState?n.attachToWindowEvent(window,function(){o(function(){n._deferLoadScript(e,t)})}):n._deferLoadScript(e,t))}},componentDidMount:function(){r=window.document,a=r.head||r.getElementsByTagName("head")[0]}};e.exports=l},function(e,t,n){"use strict";e.exports=function(e,t){var n=!1,r=e.document,a=r.addEventListener,i=a?"addEventListener":"attachEvent",s=a?"removeEventListener":"detachEvent",o=a?"":"on",u=function a(i){"readystatechange"===i.type&&"complete"!==r.readyState||(("load"===i.type?e:r)[s](o+i.type,a,!1),!n&&(n=!0)&&t&&t())};r[i](o+"DOMContentLoaded",u,!1),r[i](o+"readystatechange",u,!1)}},function(e,t){e.exports=function(e,t){return e.SVGAngle||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML"}},function(e,t){e.exports={version:"5.1.80"}},,,,,function(e,t,n){var r=n(37),a=n(17)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";var r=n(56);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r;function a(){return r=function(e){return e&&e.__esModule?e:{default:e}}(n(335))}Object.defineProperty(t,"__esModule",{value:!0}),t.autoExpandTextArea=t.removeChatFromLocalStorage=t.toggleChatMinStateLocalStorage=t.addChatToLocalStorage=t.getChatsMapFromLocalStorage=t.getActiveChatListFromLocalStorage=t.isChatListOpen=t.positionUnreadCount=t.toggleChatList=t.positionChatList=void 0;var i=t.positionChatList=function(e){var t=document.getElementById("ChatList"),n=document.getElementById("FantasyChatButton");if(n&&t){var r=s(n),a=n.getBoundingClientRect().width,i=r.y+30+"px",o=r.x+a/2,u=t.getBoundingClientRect()||{};t.style.top=i,t.style.left=Math.abs(o-u.width/2)+"px"}};t.toggleChatList=function(e){e&&(e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation());var t=document.getElementById("ChatList");t&&(t.classList.contains("D(n)!")?t.classList.remove("D(n)!"):t.classList.add("D(n)!"),i(e))},t.positionUnreadCount=function(e){var t=document.getElementById("ChatUnreadIndicator"),n=document.getElementById("FantasyChatButton");if(n&&t){var r=s(n),a=n.getBoundingClientRect().width,i=r.y,o=r.x+a-5,u=t.getBoundingClientRect()||{};t.style.top=i-5+"px",t.style.left=Math.abs(o-u.width/2)+"px"}},t.isChatListOpen=function(){return!document.getElementById("ChatList").classList.contains("D(n)!")};function s(e){for(var t=0,n=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:n}}var o=t.getActiveChatListFromLocalStorage=function(){var e=(0,(r||a()).default)(localStorage.getItem("activeChats"));return e||(localStorage.setItem("activeChats",JSON.stringify([])),e=[]),e},u=t.getChatsMapFromLocalStorage=function(){var e=(0,(r||a()).default)(localStorage.getItem("chatsMap"));return e||(localStorage.setItem("chatsMap",JSON.stringify({})),e={}),e};t.addChatToLocalStorage=function(e){if(e){var t=o(),n=u();t.indexOf(e)>-1?(t=t.filter(function(t){return t!==e})).unshift(e):t.unshift(e),n[e]={isMinimized:!1},localStorage.setItem("activeChats",JSON.stringify(t)),localStorage.setItem("chatsMap",JSON.stringify(n))}},t.toggleChatMinStateLocalStorage=function(e){if(e){var t=u(),n=t[e]||{},r=n.isMinimized;n.isMinimized=!r,localStorage.setItem("chatsMap",JSON.stringify(t))}},t.removeChatFromLocalStorage=function(e){if(e){var t=o(),n=u();t.indexOf(e)>-1&&(t=t.filter(function(t){return t!==e})),delete n[e],localStorage.setItem("activeChats",JSON.stringify(t)),localStorage.setItem("chatsMap",JSON.stringify(n))}},t.autoExpandTextArea=function(e){e.style.height="auto";var t=e.scrollHeight;e.style.height=t+"px"}},,,,,,,,,,,function(e,t,n){var r=n(21);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(39),a=n(17)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[a]===e)}},function(e,t,n){var r=n(86),a=n(17)("iterator"),i=n(39);e.exports=n(14).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(17)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},function(e,t,n){(function(t){e.exports=function(e,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&h(a,n.prototype),a}).apply(null,arguments)}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?y(e):t}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function _(e){throw new Error('"'+e+'" is read-only')}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var C=function(){function e(){a(this,e)}return s(e,null,[{key:"OS_VERSION",get:function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}},{key:"SDK_VERSION",get:function(){return"3.0.117"}},{key:"SDK_MAJOR_VERSION",get:function(){return e.SDK_VERSION.split(".")[0]}},{key:"COMMAND_ACK_TIMEOUT",get:function(){return 1e4}}]),e}();function b(){try{return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&-1<navigator.userAgent.indexOf("MSIE 10")}catch(e){return!1}}function S(){try{return document&&9===document.documentMode}catch(e){return!1}}function U(){try{return document&&document.documentMode<=8}catch(e){return!1}}function A(){return"undefined"==typeof window&&void 0!==t}function N(e){return"object"===r(e)&&!!e}function M(e,t){var n=["prototype","caller","arguments","length"],r=Object.getOwnPropertyNames(e);for(var a in r){var i=r[a];n.indexOf(i)<0&&(t[i]||("function"==typeof e[i]?t[i]=e[i].bind(t):Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))))}return t}var I=function(){function e(){a(this,e),this._field={}}return s(e,[{key:"has",value:function(e){if(N(e))return e.__wk&&"string"==typeof e.__wk&&this._field.hasOwnProperty(e.__wk);throw new Error("Invalid value used as weak map key")}},{key:"get",value:function(e){if(N(e))return e.__wk&&"string"==typeof e.__wk?this._field[e.__wk]:null;throw new Error("Invalid value used as weak map key")}},{key:"set",value:function(e,t){if(!N(e))throw new Error("Invalid value used as weak map key");e.__wk&&"string"==typeof e.__wk||(e.__wk="__".concat((new Date).getTime(),"-").concat(parseInt(1e8*Math.random()))),this._field[e.__wk]=t}},{key:"delete",value:function(e){if(!N(e))throw new Error("Invalid value used as weak map key");this.has(e)&&delete this._field[e.__wk]}},{key:"length",get:function(){return 0}}]),e}(),w=b()||S()||U()||A()?I:WeakMap,k={},T=new w,O=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),T.set(this,"object"===r(t)&&t?t:{})}return s(e,[{key:"get",value:function(e){return T.get(this)[e]}},{key:"set",value:function(e,t){T.get(this)[e]=t}},{key:"remove",value:function(e){var t=T.get(this);t.hasOwnProperty(e)&&delete t[e]}},{key:"container",get:function(){return T.get(this)}}],[{key:"create",value:function(t,n){return k[t]=new e(n),k[t]}},{key:"get",value:function(e){return e=e||gt.getInstance()._iid,k[e]}}]),e}(),R=function(){function e(t,n){var r;return a(this,e),(r=m(this,d(e).call(this,n))).name="SendBirdException",r.code=n||0,r.message=t,r}return c(e,p(Error)),s(e,null,[{key:"INVALID_INITIALIZATION",get:function(){return 800100}},{key:"CONNECTION_REQUIRED",get:function(){return 800101}},{key:"CONNECTION_CANCELED",get:function(){return 800102}},{key:"INVALID_PARAMETER",get:function(){return 800110}},{key:"NETWORK_ERROR",get:function(){return 800120}},{key:"NETWORK_ROUTING_ERROR",get:function(){return 800121}},{key:"MALFORMED_DATA",get:function(){return 800130}},{key:"MALFORMED_ERROR_DATA",get:function(){return 800140}},{key:"WRONG_CHANNEL_TYPE",get:function(){return 800150}},{key:"MARK_AS_READ_RATE_LIMIT_EXCEEDED",get:function(){return 800160}},{key:"QUERY_IN_PROGRESS",get:function(){return 800170}},{key:"ACK_TIMEOUT",get:function(){return 800180}},{key:"LOGIN_TIMEOUT",get:function(){return 800190}},{key:"WEBSOCKET_CONNECTION_CLOSED",get:function(){return 800200}},{key:"WEBSOCKET_CONNECTION_FAILED",get:function(){return 800210}},{key:"REQUEST_FAILED",get:function(){return 800220}},{key:"FILE_UPLOAD_CANCEL_FAILED",get:function(){return 800230}},{key:"REQUEST_CANCELED",get:function(){return 800240}},{key:"REQUEST_DUPLICATED",get:function(){return 800250}}]),e}(),L=function(){function e(){a(this,e),this.sessionKey=null,this.eKey=null}return s(e,[{key:"hasSession",value:function(){return!!this.sessionKey}}]),e}(),P={DEBUG:"debug",PRODUCTION:"production"},D=P.PRODUCTION,x=function(){function e(){a(this,e)}return s(e,null,[{key:"log",value:function(){var e;(e=console).log.apply(e,arguments)}},{key:"debug",value:function(){D===e.Mode.DEBUG&&e.log.apply(e,arguments)}},{key:"Mode",get:function(){return P}},{key:"mode",get:function(){return D},set:function(t){-1<Object.keys(e.Mode).map(function(t){return e.Mode[t]}).indexOf(t)&&(D=t)}}]),e}(),H={},F=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};for(var r in a(this,e),this._iid=t,n){var i=n[r];"function"==typeof i&&(this[r]=this.getClonedClass(i))}H[t]=this}return s(e,[{key:"getClonedClass",value:function(e){var t=this._iid;if(b()||S()){var n=function(){Object.defineProperty(this,"_iid",{get:function(){return t}}),e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))};return(n.prototype=Object.create(e.prototype)).constructor=n,Object.defineProperty(n,"_iid",{get:function(){return t}}),M(e,n),n}return function(){function n(){return a(this,n),m(this,d(n).apply(this,arguments))}return c(n,e),s(n,[{key:"_iid",get:function(){return t}}],[{key:"_iid",get:function(){return t}},{key:"_name",get:function(){return e.name}}]),n}()}}],[{key:"get",value:function(e){return e?H[e]:{}}}]),e}(),G=function(){function e(t){a(this,e),this.sb=t,this.pingTimer=null,this.pingTimeoutTimer=null}return s(e,[{key:"ping",value:function(){var e=this,t=F.get(this.sb._iid).Command.bPing(),n=O.get(this.sb._iid).container,r=n.wsAdapter,a=n.pongTimeout;r.ws.send(t),x.debug("PING"),this.pingTimeoutTimer=setTimeout(function(){x.debug("PING timeout"),e.stop(),r.ws.handler&&r.ws.handler.onError()},a)}},{key:"pong",value:function(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null}},{key:"start",value:function(){var e=this,t=O.get(this.sb._iid).container.pingInterval;this.stop(),this.ping(),this.pingTimer=setInterval(function(){e.ping()},t)}},{key:"stop",value:function(){clearInterval(this.pingTimer),this.pingTimer=null,clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null}}]),e}(),j=function(){function e(){a(this,e),this._fields=[]}return s(e,[{key:"append",value:function(e,t){this._fields.push({key:e,value:t})}},{key:"toString",value:function(){var e="--------FormData"+Math.random(),t="";for(var n in this._fields){var r=this._fields[n];if(t+=(_("body"),"--"+e+"\r\n"),r[1].name){var a=r[1];t+=(_("body"),'Content-Disposition: form-data; name="'+r[0]+'"; filename="'+a.name+'"\r\n'),t+=(_("body"),"Content-Transfer-Encoding: base64\r\n"),t+=(_("body"),"Content-Type: "+a.type+"\r\n\r\n"),t+=(_("body"),a.base64+"\r\n")}else t+=(_("body"),'Content-Disposition: form-data; name="'+r[0]+'";\r\n\r\n'),t+=(_("body"),r[1]+"\r\n")}return t+=(_("body"),"--"+e+"--")}}]),e}(),B=S()||U()||A()?j:FormData,q=[800101,800120,800180,800200,800210],z=function(){function e(){a(this,e)}return s(e,null,[{key:"deepEqual",value:function(e,t){if(e===t)return!0;var n=l({},e),r=l({},t);return!(n.messageId&&r.messageId&&n.messageId!==r.messageId||n.reqId&&r.reqId&&n.reqId!==r.reqId||(n.hasOwnProperty("messageId")&&delete n.messageId,n.hasOwnProperty("reqId")&&delete n.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(n)!==JSON.stringify(r)))}},{key:"isVideoChatSignalingMessage",value:function(e){try{return!(!e.isUserMessage()||"string"!=typeof e.customType||0!==e.customType.indexOf("SB_VIDEOCHAT")||"SGNL"!==e.data.substring(0,4))}catch(e){return!1}}},{key:"isResendableError",value:function(e){return 0<e&&0<=q.indexOf(e)}},{key:"isFile",value:function(e){var t="object"===r(e)&&null!==e&&"string"==typeof e.name&&"string"==typeof e.uri&&"string"==typeof e.type;if(!t){if("undefined"!=typeof Blob)return e instanceof Blob;if("undefined"!=typeof File)return e instanceof File}return t}}]),e}(),W=function(){function e(t){if(a(this,e),this.fields={},t)for(var n in t)this.fields[n]={value:t[n]},z.isFile(t[n])&&(this.fields[n].filename=t[n].name);this.upload={requestId:null,deleteRequest:null,progressHandler:null}}return s(e,[{key:"add",value:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:null;this.fields[e]={value:t,filename:r}}},{key:"remove",value:function(e){this.fields.hasOwnProperty(e)&&delete this.fields[e]}},{key:"yield",value:function(){var e=!1;for(var t in this.fields)if(z.isFile(this.fields[t].value)){e=!0;break}if(e){var n=new B;for(var r in this.fields){var a=this.fields[r];z.isFile(a.value)?n.append(r,a.value,a.filename):n.append(r,a.value)}return n}var i={};for(var s in this.fields)i[s]=this.fields[s].value;return i}}]),e}(),Q=A()?e:XMLHttpRequest,V=function(){function e(t){a(this,e),this.sb=t,this.cls=F.get(this.sb._iid)}return s(e,[{key:"checkRouting",value:function(e){if(this.sb.customApiHost&&this.sb.customWsHost)"function"==typeof e&&e(null,{apiHost:this.sb.customApiHost,wsHost:this.sb.customWsHost});else{var t=this.sb.getApplicationId();e(null,{apiHost:"https://api-".concat(t,".sendbird.com"),wsHost:"wss://ws-".concat(t,".sendbird.com")})}}},{key:"_parseError",value:function(e){try{var t=JSON.parse(e.response),n=t?t.message:"Request failed.",r=t?t.code:R.REQUEST_FAILED;return new R(n,r)}catch(t){return e instanceof R?e:new R("Request failed.",R.REQUEST_FAILED)}}},{key:"_setDefaultHeader",value:function(e,t){try{var n=O.get(this.sb._iid).container,r=n.appId,a=n.auth;e.setRequestHeader("SendBird","JS,".concat(C.OS_VERSION,",").concat(C.SDK_VERSION,",").concat(r)),t&&e.setRequestHeader("Session-Key",a.sessionKey),e.setRequestHeader("Request-Sent-Timestamp",(new Date).getTime().toString())}catch(e){x.debug("setting default header is failed. - ",e)}}},{key:"_setRequestEvent",value:function(e,t,n){var r=this;try{t&&"function"==typeof t&&(e.upload.onprogress=function(e){n&&"function"==typeof n&&n(e),e.lengthComputable&&e.loaded>=e.total&&t()}),e.onreadystatechange=function(){if(e&&e.readyState===Q.DONE){var n=e.status,a=null;if(200<=n&&n<400){var i=!0;try{a=JSON.parse(e.responseText)}catch(n){i=!1,a=null}i?e.callback(null,a):e.callback(new R("Request failed.",R.REQUEST_FAILED),null),t&&"function"==typeof t&&t(),e=null}else{var s={status:n,statusText:e.statusText,response:e.responseText};x.debug(s),e&&e.isAbort?e.onabort():(e.callback(r._parseError(s),null),e=null)}}},e.onabort=function(){e&&(e.callback(new R("Request has been canceled.",R.REQUEST_CANCELED),null),t&&"function"==typeof t&&t()),e=null},e.onerror=function(){e&&(e.callback(new R("There was a network error.",R.NETWORK_ERROR),null),t&&"function"==typeof t&&t()),e=null},e.ontimeout=function(){e&&(e.callback(new R("Request is timeout.",R.REQUEST_FAILED),null),t&&"function"==typeof t&&t()),e=null}}catch(e){x.debug("setting request event is failed. - ",e)}}},{key:"_createWithEncodedGetParams",value:function(e){try{var t="";for(var n in e.data)if(e.data.hasOwnProperty(n)){var a=e.data[n];null!=a&&(t+=n+"="+("object"===r(a)?Array.isArray(a)?a.map(function(e){return encodeURIComponent(e)}).join(","):encodeURIComponent(JSON.stringify(a)):encodeURIComponent(a))+"&")}t&&(e.url=e.url+"?"+t.substring(0,t.length-1))}catch(e){x.debug("createWithEncodedGetParams is failed. - ",e)}}},{key:"_sendRequest",value:function(e,t){try{switch(e){case"GET":t.send();break;default:void 0!==B&&B&&t.data instanceof B?S()||U()?(t.setRequestHeader("Content-Type","multipart/form-data; boundary="+t.data.boundary),t.send(t.data.toString())):t.send(t.data):(t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.send(JSON.stringify(t.data)))}}catch(e){x.debug("sending a request is failed. - ",e)}}},{key:"get",value:function(e,t,n){var r=this;this.checkRouting(function(a,i){if(a)n(new R("Request failed.",R.REQUEST_FAILED),null);else if(Q){var s=new Q;s.url="".concat(i.apiHost,"/v").concat(C.SDK_MAJOR_VERSION).concat(e),s.data=t?t.yield():{},s.callback=n,r._createWithEncodedGetParams(s),s.open("GET",s.url,!0);var o=O.get(r.sb._iid).container.auth;r._setRequestEvent(s),r._setDefaultHeader(s,o.sessionKey),r._sendRequest("GET",s)}else n(new R("Request failed. XMLHttpRequest not found.",R.REQUEST_FAILED),null)})}},{key:"dummyCall",value:function(e){var t=this;this.checkRouting(function(n,r){if(n)e(new R("Request failed.",R.REQUEST_FAILED),null);else if(Q){var a=new Q;a.url="".concat(r.apiHost),a.data={},a.callback=e,t._createWithEncodedGetParams(a),a.open("GET",a.url,!0);var i=O.get(t.sb._iid).container.auth;t._setRequestEvent(a),t._setDefaultHeader(a,i.sessionKey),t._sendRequest("GET",a)}else e(new R("Request failed. XMLHttpRequest not found.",R.REQUEST_FAILED),null)})}},{key:"post",value:function(e,t,n){var r=this;this.checkRouting(function(a,i){if(a)n(new R("Request failed.",R.REQUEST_FAILED),null);else if(Q){var s=new Q;s.url="".concat(i.apiHost,"/v").concat(C.SDK_MAJOR_VERSION).concat(e),s.data=t?t.yield():{},s.callback=n,s.open("POST",s.url,!0),t.upload||(t.upload={});var o=r.cls.FileMessageQueue,u=t.upload.reqId;u&&(o.uploadRequest[u]=s);var l=O.get(r.sb._iid).container.auth;r._setRequestEvent(s,t.upload.deleteRequest,t.upload.progressHandler),r._setDefaultHeader(s,l.sessionKey),r._sendRequest("POST",s)}else n(new R("Request failed. XMLHttpRequest not found.",R.REQUEST_FAILED),null)})}},{key:"put",value:function(e,t,n){var r=this;this.checkRouting(function(a,i){if(a)n(new R("Request failed.",R.REQUEST_FAILED),null);else if(Q){var s=new Q;s.url="".concat(i.apiHost,"/v").concat(C.SDK_MAJOR_VERSION).concat(e),s.data=t?t.yield():{},s.callback=n,s.open("PUT",s.url,!0);var o=O.get(r.sb._iid).container.auth;r._setRequestEvent(s),r._setDefaultHeader(s,o.sessionKey),r._sendRequest("PUT",s)}else n(new R("Request failed. XMLHttpRequest not found.",R.REQUEST_FAILED),null)})}},{key:"delete",value:function(e,t,n){var r=this;this.checkRouting(function(a,i){if(a)n(new R("Request failed.",R.REQUEST_FAILED),null);else if(Q){var s=new Q;s.url="".concat(i.apiHost,"/v").concat(C.SDK_MAJOR_VERSION).concat(e),s.data=t?t.yield():{},s.callback=n,r._createWithEncodedGetParams(s),s.open("DELETE",s.url,!0);var o=O.get(r.sb._iid).container.auth;r._setRequestEvent(s),r._setDefaultHeader(s,o.sessionKey),r._sendRequest("DELETE",s)}else n(new R("Request failed. XMLHttpRequest not found.",R.REQUEST_FAILED),null)})}},{key:"updateCurrentUserInfo",value:function(t,n){var r=this,a=t.nickname,i=t.profileUrl,s=t.profileImage,o=t.preferredLanguages;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=e.Path.USERS_USERID.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),c=new W;a&&c.add("nickname",a),i&&c.add("profile_url",i),s&&c.add("profile_file",s,s.name),o&&c.add("preferred_languages",o),r.put(l,c,n)}})}},{key:"getMyGroupChannelChangeLogs",value:function(t,n){var r=this,a=t.ts,i=t.token,s=t.customTypes,o=t.includeEmpty;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=e.Path.USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS.replace("%s",encodeURIComponent(u.userId)),c=new W({show_read_receipt:!0,show_member:!0});i&&c.add("token",i),a&&c.add("change_ts",a),s&&0<s.length&&c.add("custom_types",s),"boolean"==typeof o&&c.add("show_empty",o),r.get(l,c,n)}})}},{key:"getChannelInvitationPreference",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(a.userId));r.get(i,null,n)}})}},{key:"getGroupChannelCount",value:function(t,n){var r=this,a=t.memberStateFilter;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=r.cls.GroupChannel,o=e.Path.USERS_USERID_GROUP_CHANNEL_COUNT.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),u="";switch(a){case s.MemberStateFilter.JOINED:u="joined";break;case s.MemberStateFilter.INVITED:u="invited";break;case s.MemberStateFilter.INVITED_BY_FRIEND:u="invited_by_friend";break;case s.MemberStateFilter.INVITED_BY_NON_FRIEND:u="invited_by_non_friend";break;default:u="all"}var l=new W({state:u});r.get(o,l,n)}})}},{key:"getUnreadItemCount",value:function(t,n){var r=this,a=t.keys;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_UNREAD_ITEM_COUNT.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W({item_keys:a});r.get(s,o,n)}})}},{key:"getTotalUnreadMessageCount",value:function(t,n){var r=this,a=t.customTypesFilter,i=t.superChannelFilter;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.USERS_USERID_UNREAD_MESSAGE_COUNT.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),u=new W({super_mode:i});null!==a&&0<a.length&&u.add("custom_types",a),r.get(o,u,n)}})}},{key:"getTotalUnreadChannelCount",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_UNREAD_CHANNEL_COUNT.replace("%s",encodeURIComponent(r.sb.currentUser.userId));r.get(i,null,n)}})}},{key:"searchMessages",value:function(t,n){var r=this,a=t.keyword,i=t.limit,s=t.reverse,o=t.exactMatch,u=t.channelUrl,l=t.channelCustomType,c=t.messageTimestampFrom,d=t.messageTimestampTo,h=t.order,f=t.nextToken;this.sb.ConnectionManager.ready(function(t,p){if(t)n(t,null);else{var y=e.Path.SEARCH_MESSAGE,m=new W({limit:i,reverse:s,query:a,custom_type:l});c&&m.add("message_ts_from",c),d&&m.add("message_ts_to",d),u&&m.add("channel_url",u),h&&m.add("sort_field",h),"boolean"==typeof o&&m.add("exact_match",o),null!==f&&0<f.length&&m.add("after",f),r.get(y,m,n)}})}},{key:"markAsReadAll",value:function(t,n){var r=this,a=t.channelUrls;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_MARKASREADALL.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W;a&&o.add("channel_urls",a),r.put(s,o,n)}})}},{key:"markAsDelivered",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED.replace("%s",encodeURIComponent(a)),u=new W;i&&u.add("user_id",i),r.put(o,u,n)}})}},{key:"setChannelInvitationPreference",value:function(t,n){var r=this,a=t.isAutoAccept;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(i.userId)),o=new W({auto_accept:a});r.put(s,o,n)}})}},{key:"blockUser",value:function(t,n){var r=this,a=t.blockedUserId;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W({target_id:a});r.post(s,o,n)}})}},{key:"unblockUser",value:function(t,n){var r=this,a=t.unblockedUserId;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_BLOCK_TARGETID.replace("%s",encodeURIComponent(r.sb.currentUser.userId)).replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"getPushTriggerOption",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(a.userId));r.get(i,null,n)}})}},{key:"setPushTriggerOption",value:function(t,n){var r=this,a=t.pushTriggerOption;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId)),o=new W({push_trigger_option:a});r.put(s,o,n)}})}},{key:"getPushTokens",value:function(t,n){var r=this,a=t.ts,i=t.token,s=t.type;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=e.Path.USERS_USERID_PUSH_DEVICE_TOKENS.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(s)),l=new W;i&&l.add("token",i),a&&l.add("created_ts",a),r.get(u,l,n)}})}},{key:"getPushTemplate",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(a.userId));r.get(i,null,n)}})}},{key:"setPushTemplate",value:function(t,n){var r=this,a=t.templateName;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(i.userId)),o=new W({name:a});r.put(s,o,n)}})}},{key:"getDoNotDisturb",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(r.sb.currentUser.userId));r.get(i,null,n)}})}},{key:"setDoNotDisturb",value:function(t,n){var r=this,a=t.doNotDisturbOn,i=t.startHour,s=t.startMin,o=t.endHour,u=t.endMin,l=t.timezone;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),h=new W({do_not_disturb:a,start_hour:i,start_min:s,end_hour:o,end_min:u,timezone:l});r.put(d,h,n)}})}},{key:"getSnoozePeriod",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(r.sb.currentUser.userId));r.get(i,null,n)}})}},{key:"setSnoozePeriod",value:function(t,n){var r=this,a=t.snoozeOn,i=t.startTs,s=t.endTs;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=e.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),l=new W({snooze_enabled:a,snooze_start_ts:i,snooze_end_ts:s});r.put(u,l,n)}})}},{key:"registerGCMPushToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W({gcm_reg_token:a,always_push:!0});r.post(s,o,n)}})}},{key:"unregisterGCMPushToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_GCM_TOKEN.replace("%s",encodeURIComponent(r.sb.currentUser.userId)).replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"unregisterAllGCMPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(r.sb.currentUser.userId));r.delete(i,null,n)}})}},{key:"registerAPNSPushToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W({apns_device_token:a,always_push:!0});r.post(s,o,n)}})}},{key:"unregisterAPNSPushToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSH_APNS_TOKEN.replace("%s",encodeURIComponent(r.sb.currentUser.userId)).replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"unregisterAllAPNSPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(r.sb.currentUser.userId));r.delete(i,null,n)}})}},{key:"unregisterAllPushTokens",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_PUSH.replace("%s",encodeURIComponent(r.sb.currentUser.userId));r.delete(i,null,n)}})}},{key:"loadFriendList",value:function(t,n){var r=this,a=t.token,i=t.limit;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.FRIENDS.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),u=new W({limit:i,token:a});r.get(o,u,n)}})}},{key:"getFriendChangeLogsByToken",value:function(t,n){var r=this,a=t.token;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS_CHANGE_LOGS.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W;a&&o.add("token",a),r.get(s,o,n)}})}},{key:"addFriends",value:function(t,n){var r=this,a=t.userIds;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W({user_ids:a});r.post(s,o,n)}})}},{key:"deleteFriends",value:function(t,n){var r=this,a=t.userIds;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W({user_ids:a});r.delete(s,o,n)}})}},{key:"uploadFriendDiscoveries",value:function(t,n){var r=this,a=t.discoveries;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=[];a.forEach(function(e){o.push({friend_discovery_key:e.friendDiscoveryKey,friend_name:"string"==typeof e.friendName||e.friendName?e.friendName:null})});var u=new W({friend_discoveries:o});r.put(s,u,n)}})}},{key:"deleteFriendDiscoveries",value:function(t,n){var r=this,a=t.discoveryKeys;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),o=new W({friend_discovery_keys:a});r.delete(s,o,n)}})}},{key:"loadUserList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.userIdsFilter,o=t.metaDataKeyFilter,u=t.metaDataValuesFilter;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=e.Path.USERS,d=new W({token:a,limit:i});s&&0<s.length&&d.add("user_ids",s),o&&u&&0<u.length&&(d.add("metadatakey",o),d.add("metadatavalues_in",u)),r.get(c,d,n)}})}},{key:"loadBlockedUserList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.userIdsFilter;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=e.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),l=new W({token:a,limit:i});s&&0<s.length&&l.add("user_ids",s),r.get(u,l,n)}})}},{key:"createUserMetaData",value:function(t,n){var r=this,a=t.metaData;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(i.userId)),o=new W({metadata:a});r.post(s,o,n)}})}},{key:"updateUserMetaData",value:function(t,n){var r=this,a=t.metaData,i=t.upsert;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(s.userId)),u=new W({metadata:a,upsert:i});r.put(o,u,n)}})}},{key:"deleteUserMetaData",value:function(t,n){var r=this,a=t.metaDataKey;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_METADATA_KEY.replace("%s",encodeURIComponent(i.userId)).replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"deleteAllUserMetaData",value:function(t,n){var r=this;this.sb.ConnectionManager.ready(function(t,a){if(t)n(t,null);else{var i=e.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(a.userId));r.delete(i,null,n)}})}},{key:"getMessageChangeLogs",value:function(t,n){var r=this,a=t.channelUrl,i=t.ts,s=t.token,o=t.isOpenChannel,u=t.includeMetaArray,l=t.includeReaction;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=o?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(a)),h=new W;s&&h.add("token",s),i&&h.add("change_ts",i),"boolean"==typeof u&&h.add("with_sorted_meta_array",u),"boolean"==typeof l&&h.add("include_reactions",l),r.get(d,h,n)}})}},{key:"getMyMutedInfo",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=s?e.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i));r.get(u,null,n)}})}},{key:"loadBannedUserList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.channelUrl,o=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=o?e.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(s)),c=new W({token:a,limit:i});r.get(l,c,n)}})}},{key:"loadMutedUserList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.channelUrl,o=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=o?e.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(s)),c=new W({token:a,limit:i});r.get(l,c,n)}})}},{key:"getMessageList",value:function(t,n){var r=this,a=t.channel,i=t.token,s=t.tokenType,o=t.isInclusive,u=t.prevResultSize,l=void 0===u?0:u,c=t.nextResultSize,d=void 0===c?0:c,h=t.shouldReverse,f=t.messageType,p=t.customType,y=t.senderUserIds,m=t.includeMetaArray,g=t.includeReaction;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var c=a.isOpenChannel()?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",a.url):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",a.url),_=new W({is_sdk:String(!0),prev_limit:String(l),next_limit:String(d),include:String(o),reverse:String(h)});"timestamp"===s?_.add("message_ts",i):"messageId"===s&&_.add("message_id",String(i)),f&&_.add("message_type",String(f)),p&&_.add("custom_type",String(p)),Array.isArray(y)&&0<y.length&&_.add("sender_ids",y),"boolean"==typeof m&&_.add("with_sorted_meta_array",m),"boolean"==typeof g&&_.add("include_reactions",g),r.get(c,_,n)}})}},{key:"translateUserMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.messageId,o=t.translationTargetLanguages;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(a)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(a)).replace("%s",s),c=new W({target_langs:o});r.post(l,c,n)}})}},{key:"deleteMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.messageId;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s));r.delete(u,null,n)}})}},{key:"muteUser",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.description,o=t.seconds,u=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=u?e.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(a)),d=new W({user_id:i});o&&(0<o||-1!==o)&&d.add("seconds",o),s&&d.add("description",s),r.post(c,d,n)}})}},{key:"unmuteUser",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=s?e.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i));r.delete(u,null,n)}})}},{key:"banUser",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.description,o=t.seconds,u=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=u?e.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(a)),d=new W({user_id:i});s&&d.add("description",s),d.add("seconds",String(o)),r.post(c,d,n)}})}},{key:"unbanUser",value:function(t,n){var r=this,a=t.channelUrl,i=t.userId,s=t.isGroupChannel;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=s?e.Path.GROUPCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i)):e.Path.OPENCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(i));r.delete(u,null,n)}})}},{key:"getMetaCounters",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.keys;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)),l=new W({keys:s});r.get(u,l,n)}})}},{key:"createMetaCounters",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.metaCounter;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)),l=new W({metacounter:s});r.post(u,l,n)}})}},{key:"updateMetaCounters",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.metaCounter,o=t.upsert,u=t.mode;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)),d=new W({metacounter:s,upsert:o,mode:u});r.put(c,d,n)}})}},{key:"deleteMetaCounter",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.key;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(a)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(a)).replace("%s",s);r.delete(u,null,n)}})}},{key:"deleteAllMetaCounters",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=i?e.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(a));r.delete(o,null,n)}})}},{key:"getMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.keys;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)),l=new W({keys:s});r.get(u,l,n)}})}},{key:"createMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.metaData;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)),l=new W({metadata:s});r.post(u,l,n)}})}},{key:"updateMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.metaData,o=t.upsert;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)),c=new W({metadata:s,upsert:o});r.put(l,c,n)}})}},{key:"deleteMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.key;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(a)).replace("%s",s):e.Path.GROUPCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(a)).replace("%s",s);r.delete(u,null,n)}})}},{key:"deleteAllMetaData",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=i?e.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(a));r.delete(o,null,n)}})}},{key:"loadOperatorList",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.token,o=t.limit;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=i?e.Path.OPENCHANNELS_OPERATORS.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_OPERATORS.replace("%s",encodeURIComponent(a)),c=new W({token:s,limit:o});r.get(l,c,n)}})}},{key:"getOpenChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a));r.get(s,null,n)}})}},{key:"loadOpenChannelList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.nameKeyword,o=t.urlKeyword,u=t.customTypes;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=e.Path.OPENCHANNELS,d=new W({token:a,limit:i});s&&d.add("name_contains",s),o&&d.add("url_contains",o),u&&0<u.length&&d.add("custom_types",u),r.get(c,d,n)}})}},{key:"loadParticipantList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.channelUrl;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=e.Path.OPENCHANNELS_CHANNELURL_PARTICIPANTS.replace("%s",encodeURIComponent(s)),l=new W({token:a,limit:i});r.get(u,l,n)}})}},{key:"createOpenChannel",value:function(t,n){var r=this,a=t.name,i=t.coverUrlOrImage,s=t.data,o=t.operatorUserIds,u=t.customType;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=e.Path.OPENCHANNELS,d=new W;"string"==typeof i&&d.add("cover_url",i),z.isFile(i)&&d.add("cover_file",i),null!==a&&"string"==typeof a&&d.add("name",a),s&&d.add("data",s),o&&(Array.isArray(o)?d.add("operators",o):d.add("operators",[o])),u&&d.add("custom_type",u),r.post(c,d,n)}})}},{key:"updateOpenChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.name,s=t.coverUrlOrImage,o=t.data,u=t.operatorUserIds,l=t.customType;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a)),h=new W;"string"==typeof s&&h.add("cover_url",s),z.isFile(s)&&h.add("cover_file",s,s.name),null!==i&&"string"==typeof i&&h.add("name",i),null!==o&&"string"==typeof o&&h.add("data",o),null!==u&&(Array.isArray(u)?h.add("operators",u):h.add("operators",[u])),null!==l&&"string"==typeof l&&h.add("custom_type",l),r.put(d,h,n)}})}},{key:"deleteOpenChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"getGroupChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.showMember,s=t.showReadReceipt;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a)),l=new W({show_member:i,show_read_receipt:s});r.get(u,l,n)}})}},{key:"loadGroupChannelList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.includeEmpty,o=t.order,u=t.userIdsFilter,l=t.nicknameContainsFilter,c=t.channelNameContainsFilter,d=t.channelUrlsFilter,h=t.customTypesFilter,f=t.customTypeStartsWithFilter,p=t.memberStateFilter,y=t.superChannelFilter,m=t.publicChannelFilter,g=t.unreadChannelFilter,_=t.metadataOrderKeyFilter,v=t.hiddenChannelFilter,E=t.searchFilter;this.sb.ConnectionManager.ready(function(t,C){if(t)n(t,null);else{var b=e.Path.MYGROUPCHANNELS.replace("%s",encodeURIComponent(r.sb.currentUser.userId)),S=new W({token:a,limit:i,order:o,show_member:!0,show_read_receipt:!0,show_empty:String(s),member_state_filter:p});h&&0<h.length&&S.add("custom_types",h),l&&S.add("members_nickname_contains",l),c&&S.add("name_contains",c),E.hasOwnProperty("search_query")&&E.hasOwnProperty("search_fields")&&(S.add("search_query",E.search_query),S.add("search_fields",E.search_fields)),u.userIds&&0<u.userIds.length&&(u.includeMode?(S.add("members_include_in",u.userIds),S.add("query_type",u.queryType.toUpperCase())):S.add("members_exactly_in",u.userIds)),d&&0<d.length&&S.add("channel_urls",d),S.add("super_mode",y),S.add("public_mode",m),S.add("unread_filter",g),_&&S.add("metadata_order_key",_),f&&S.add("custom_type_startswith",f),v&&S.add("hidden_mode",v),r.get(b,S,n)}})}},{key:"loadPublicGroupChannelList",value:function(t,n){var r=this,a=t.token,i=t.limit,s=t.includeEmpty,o=t.order,u=t.channelNameContainsFilter,l=t.channelUrlsFilter,c=t.customTypesFilter,d=t.customTypeStartsWithFilter,h=t.superChannelFilter,f=t.membershipFilter,p=t.metadataOrderKeyFilter;this.sb.ConnectionManager.ready(function(t,y){if(t)n(t,null);else{var m=r.cls.GroupChannel,g=e.Path.GROUPCHANNELS,_=new W({token:a,limit:i,order:o,show_member:!0,show_read_receipt:!0,show_empty:String(s),public_mode:m.PublicChannelFilter.PUBLIC,public_membership_mode:f});c&&0<c.length&&_.add("custom_types",c),u&&_.add("name_contains",u),l&&0<l.length&&_.add("channel_urls",l),_.add("super_mode",h),p&&_.add("metadata_order_key",p),d&&_.add("custom_type_startswith",d),r.get(g,_,n)}})}},{key:"createGroupChannel",value:function(t,n){var r=this,a=t.isDistinct,i=t.isSuper,s=t.isPublic,o=t.channelUrl,u=t.isDiscoverable,l=t.isStrict,c=t.name,d=t.data,h=t.customType,f=t.coverUrl,p=t.coverImage,y=t.accessCode,m=t.isEphemeral,g=t._invitedUserIds,_=void 0===g?[]:g,v=t.operatorUserIds;this.sb.ConnectionManager.ready(function(t,g){if(t)n(t,null);else{var C=e.Path.GROUPCHANNELS,b=new W({user_ids:[g.userId].concat(E(_)).filter(function(e,t,n){return t===n.indexOf(e)})});null!==f&&"string"==typeof f&&b.add("cover_url",f),z.isFile(p)&&b.add("cover_file",p,p.name),null!==o&&b.add("channel_url",o),null!==a&&b.add("is_distinct",a),null!==i&&b.add("is_super",i),null!==s&&b.add("is_public",s),null!==u&&b.add("is_discoverable",u),null!==l&&b.add("strict",l),null!==m&&b.add("is_ephemeral",m),y&&b.add("access_code",y),null!==c&&"string"==typeof c&&b.add("name",c),d&&b.add("data",d),h&&b.add("custom_type",h),Array.isArray(v)&&0<v.length&&b.add("operator_ids",v),r.post(C,b,n)}})}},{key:"updateGroupChannel",value:function(t,n){var r=this,a=t.isDistinct,i=t.isPublic,s=t.channelUrl,o=t.isDiscoverable,u=t.name,l=t.data,c=t.customType,d=t.coverUrl,h=t.coverImage,f=t.accessCode;this.sb.ConnectionManager.ready(function(t,p){if(t)n(t,null);else{var y=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(s)),m=new W;null!==a&&m.add("is_distinct",a),null!==i&&m.add("is_public",i),null!==o&&m.add("is_discoverable",o),null!==f&&m.add("access_code",f),null!==d&&"string"==typeof d&&m.add("cover_url",d),z.isFile(h)&&m.add("cover_file",h,h.name),null!==u&&"string"==typeof u&&m.add("name",u),null!==l&&"string"==typeof l&&m.add("data",l),null!==c&&"string"==typeof c&&m.add("custom_type",c),r.put(y,m,n)}})}},{key:"inviteToGroupChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.userIds;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_INVITE.replace("%s",encodeURIComponent(a)),u=new W({user_ids:i});r.post(o,u,n)}})}},{key:"acceptInvitation",value:function(t,n){var r=this,a=t.channelUrl,i=t.accessCode;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION.replace("%s",encodeURIComponent(a)),u=new W({user_id:r.sb.currentUser.userId});i&&u.add("access_code",i),r.put(o,u,n)}})}},{key:"declineInvitation",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION.replace("%s",encodeURIComponent(a)),o=new W({user_id:r.sb.currentUser.userId});r.put(s,o,n)}})}},{key:"joinGroupChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.accessCode;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.GROUPCHANNELS_CHANNELURL_JOIN.replace("%s",encodeURIComponent(a)),u=new W({user_id:r.sb.currentUser.userId});i&&u.add("access_code",i),r.put(o,u,n)}})}},{key:"leaveGroupChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_LEAVE.replace("%s",encodeURIComponent(a)),o=new W({user_id:r.sb.currentUser.userId});r.put(s,o,n)}})}},{key:"hideGroupChannel",value:function(t,n){var r=this,a=t.channelUrl,i=t.hidePreviousMessages,s=t.allowAutoUnhide;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=e.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(a)),l=new W({user_id:r.sb.currentUser.userId,hide_previous_messages:i,allow_auto_unhide:s});r.put(u,l,n)}})}},{key:"unhideGroupChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"freeze",value:function(t,n){var r=this,a=t.channelUrl,i=t.isGroupChannel,s=t.freezing;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=i?e.Path.GROUPCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(a)):e.Path.OPENCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(a)),l=new W({freeze:s});r.put(u,l,n)}})}},{key:"deleteGroupChannel",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(a));r.delete(s,null,n)}})}},{key:"loadMemberList",value:function(t,n){var r=this,a=t.channelUrl,i=t.token,s=t.limit,o=t.mutedMemberFilter,u=t.order,l=t.memberStateFilter,c=t.nicknameStartsWithFilter;this.sb.ConnectionManager.ready(function(t,d){if(t)n(t,null);else{var h=e.Path.GROUPCHANNELS_MEMBERS.replace("%s",encodeURIComponent(a)),f=new W({token:i,limit:s,order:u.toLowerCase(),muted_member_filter:o.toLowerCase(),member_state_filter:l});c&&f.add("nickname_startswith",c),r.get(h,f,n)}})}},{key:"report",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.reportCategory,o=t.reportingUserId,u=t.reportDescription;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=e.Path.REPORT_CHANNELS.replace("%s",encodeURIComponent(i?"open_channels":"group_channels")).replace("%s",encodeURIComponent(a)),d=new W({report_category:s});null!=o&&d.add("reporting_user_id",o),null!=u&&d.add("report_description",u),r.post(c,d,n)}})}},{key:"reportUser",value:function(t,n){var r=this,a=t.offendingUserId,i=t.channelUrl,s=t.isOpenChannel,o=t.reportCategory,u=t.reportingUserId,l=t.reportDescription;this.sb.ConnectionManager.ready(function(t,c){if(t)n(t,null);else{var d=e.Path.REPORT_USERS.replace("%s",encodeURIComponent(a)),h=new W({channel_url:i,channel_type:s?"open_channels":"group_channels",report_category:o});null!=u&&h.add("reporting_user_id",u),null!=l&&h.add("report_description",l),r.post(d,h,n)}})}},{key:"reportMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.messageId,o=t.reportCategory,u=t.reportingUserId,l=t.reportDescription,c=t.offendingUserId;this.sb.ConnectionManager.ready(function(t,d){if(t)n(t,null);else{var h=e.Path.REPORT_MESSAGES.replace("%s",encodeURIComponent(i?"open_channels":"group_channels")).replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)),f=new W({report_category:o,offending_user_id:c});null!=u&&f.add("reporting_user_id",u),null!=l&&f.add("report_description",l),r.post(h,f,n)}})}},{key:"sendUserMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.message,o=t.data,u=t.customType,l=t.translationTargetLanguages,c=t.metaArrays,d=t.mentionType,h=t.mentionedUserIds,f=t.pushNotificationDeliveryOption;this.sb.ConnectionManager.ready(function(t,p){if(t)n(t,null);else{var y=r.cls.FileMessageParams,m=i?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(a)),g=new W({message_type:"MESG",user_id:r.sb.currentUser.userId,message:s,mention_type:d,mentioned_user_ids:[]});null!=o&&g.add("data",o),null!=u&&g.add("custom_type",u),l&&g.add("translation_target_langs",l),c&&0<c.length&&g.add("sorted_metaarray",c.map(function(e){return e.encode()})),d===r.cls.BaseMessageParams.MentionType.CHANNEL?g.add("mentioned_user_ids",[]):Array.isArray(h)&&0<h.length&&g.add("mentioned_user_ids",h),f&&f!==y.PushNotificationDeliveryOption.DEFAULT&&g.add("push_option",f),r.post(m,g,n)}})}},{key:"sendFileMessage",value:function(t,n){var r=this,a=t.channelUrl,i=t.isOpenChannel,s=t.fileUrl,o=t.fileName,u=t.fileSize,l=t.fileType,c=t.data,d=t.customType,h=t.thumbnailSizes,f=t.requireAuth,p=t.metaArrays,y=t.mentionType,m=t.mentionedUserIds,g=t.pushNotificationDeliveryOption;this.sb.ConnectionManager.ready(function(t,_){if(t)n(t,null);else{var v=r.cls.FileMessageParams,E=i?e.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(a)):e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(a)),C=new W({message_type:"FILE",user_id:r.sb.currentUser.userId,url:s,mention_type:y,mentioned_user_ids:[]});null!=o&&C.add("file_name",o),null!=u&&C.add("file_size",u),null!=l&&C.add("file_type",l),null!=c&&C.add("custom_field",c),null!=d&&C.add("custom_type",d),h&&C.add("thumbnails",h),f&&C.add("require_auth",f),p&&0<p.length&&C.add("sorted_metaarray",p.map(function(e){return e.encode()})),y===r.cls.BaseMessageParams.MentionType.CHANNEL?C.add("mentioned_user_ids",[]):Array.isArray(m)&&0<m.length&&C.add("mentioned_user_ids",m),g&&g!==v.PushNotificationDeliveryOption.DEFAULT&&C.add("push_option",g),r.post(E,C,n)}})}},{key:"uploadFile",value:function(t,n){var r=this,a=t.file,i=t.thumbnailSizes,s=t.channelUrl,o=t.progressHandler,u=t.reqId;this.sb.ConnectionManager.ready(function(t,l){if(t)n(t,null);else{var c=e.Path.STORAGE_FILE,d=new W;if(d.add("file",a,a.name),s&&"string"==typeof s&&d.add("channel_url",s),i)for(var h=0;h<i.length;h++)d.add("thumbnail"+(h+1),i[h].maxWidth+","+i[h].maxHeight);d.upload.reqId=u,d.upload.deleteRequest=function(){var e=r.cls.FileMessageQueue;e.uploadRequest[u]&&delete e.uploadRequest[u]},d.upload.progressHandler=function(e){o&&"function"==typeof o&&o(e,u)},r.post(c,d,n)}})}},{key:"registerScheduledUserMessage",value:function(t,n){var r=this,a=t.groupChannelParams,i=t.channelUrl,s=t.isOpenChannel;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=s?e.Path.OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(i)):e.Path.GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(i)),l=new W({scheduled_dt:a._getScheduleString(),user_id:r.sb.currentUser.userId,message:a.message,data:a.data});a.customType&&l.add("custom_type",a.customType),a.metaArrayKeys&&0<Object.keys(a.metaArrayKeys).length&&l.add("metaarray",a.metaArrayKeys),a.mentionType&&l.add("mention_type",a._mentionType),a._mentionType===r.cls.BaseMessageParams.MentionType.CHANNEL?l.add("mentioned_user_ids",[]):Array.isArray(a._mentionedUserIds)&&0<a._mentionedUserIds.length&&l.add("mentioned_user_ids",a._mentionedUserIds),a.translationTargetLanguages&&0<a.translationTargetLanguages.length&&l.add("translation_target_langs",a.translationTargetLanguages),a.pushNotificationDeliveryOption&&a.pushNotificationDeliveryOption!==r.cls.BaseMessageParams.PushNotificationDeliveryOption.DEFAULT&&l.add("push_option",a.pushNotificationDeliveryOption),r.post(u,l,n)}})}},{key:"getMyPushTriggerOption",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(r.sb.currentUser.userId)).replace("%s",encodeURIComponent(a));r.get(s,null,n)}})}},{key:"setMyPushTriggerOption",value:function(t,n){var r=this,a=t.channelUrl,i=t.pushTriggerOption,s=t.enable;this.sb.ConnectionManager.ready(function(t,o){if(t)n(t,null);else{var u=e.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(r.sb.currentUser.userId)).replace("%s",encodeURIComponent(a)),l=new W;i&&l.add("push_trigger_option",i),"boolean"==typeof s&&l.add("enable",s),r.put(u,l,n)}})}},{key:"setMyCountPreference",value:function(t,n){var r=this,a=t.channelUrl,i=t.countPreference;this.sb.ConnectionManager.ready(function(t,s){if(t)n(t,null);else{var o=e.Path.USERS_COUNT_PREFERENCE.replace("%s",encodeURIComponent(r.sb.currentUser.userId)).replace("%s",encodeURIComponent(a)),u=new W({count_preference:i});r.put(o,u,n)}})}},{key:"resetMyHistory",value:function(t,n){var r=this,a=t.channelUrl;this.sb.ConnectionManager.ready(function(t,i){if(t)n(t,null);else{var s=e.Path.GROUPCHANNELS_RESET_USER_HISTORY.replace("%s",encodeURIComponent(a));r.put(s,null,n)}})}},{key:"addReaction",value:function(t,n){var r=this,a=t.isGroupChannel,i=t.channelUrl,s=t.messageId,o=t.key;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=a?e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)):e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)),c=new W({reaction:o});r.post(l,c,n)}})}},{key:"deleteReaction",value:function(t,n){var r=this,a=t.isGroupChannel,i=t.channelUrl,s=t.messageId,o=t.key;this.sb.ConnectionManager.ready(function(t,u){if(t)n(t,null);else{var l=a?e.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)):e.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)),c=new W({reaction:o});r.delete(l,c,n)}})}}],[{key:"Path",get:function(){var e;return o(e={USERS:"/users",USERS_USERID:"/users/%s",USERS_USERID_LOGIN:"/users/%s/login",USERS_USERID_METADATA:"/users/%s/metadata",USERS_USERID_METADATA_KEY:"/users/%s/metadata/%s",USERS_USERID_MARKASREADALL:"/users/%s/mark_as_read_all",USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS:"/users/%s/my_group_channels/changelogs",USERS_USERID_UNREAD_ITEM_COUNT:"/users/%s/unread_item_count",USERS_USERID_UNREAD_MESSAGE_COUNT:"/users/%s/unread_message_count",USERS_USERID_UNREAD_CHANNEL_COUNT:"/users/%s/unread_channel_count",USERS_USERID_PUSH_GCM_TOKEN:"/users/%s/push/gcm/%s",USERS_USERID_PUSH_GCM:"/users/%s/push/gcm",USERS_USERID_PUSH_DEVICE_TOKENS:"/users/%s/push/%s/device_tokens",USERS_USERID_PUSHPREFERENCE_CHANNELURL:"/users/%s/push_preference/%s",USERS_USERID_PUSHPREFERENCE:"/users/%s/push_preference/",USERS_USERID_PUSH_TEMPLATE:"/users/%s/push/template",USERS_USERID_BLOCK:"/users/%s/block",USERS_USERID_BLOCK_TARGETID:"/users/%s/block/%s",USERS_USERID_PUSH_APNS_TOKEN:"/users/%s/push/apns/%s",USERS_USERID_PUSH_APNS:"/users/%s/push/apns",USERS_USERID_PUSH:"/users/%s/push",USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE:"/users/%s/channel_invitation_preference",USERS_USERID_GROUP_CHANNEL_COUNT:"/users/%s/group_channel_count",USERS_COUNT_PREFERENCE:"/users/%s/count_preference/%s",OPENCHANNELS:"/open_channels",OPENCHANNELS_CHANNELURL:"/open_channels/%s",OPENCHANNELS_CHANNELURL_MESSAGES:"/open_channels/%s/messages",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/open_channels/%s/messages/%s",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/open_channels/%s/messages/%s/translation",OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/open_channels/%s/messages/changelogs",OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/open_channels/%s/scheduled_messages",OPENCHANNELS_CHANNELURL_PARTICIPANTS:"/open_channels/%s/participants",OPENCHANNELS_CHANNELURL_METADATA:"/open_channels/%s/metadata",OPENCHANNELS_CHANNELURL_METADATA_KEY:"/open_channels/%s/metadata/%s",OPENCHANNELS_CHANNELURL_METACOUNTER:"/open_channels/%s/metacounter",OPENCHANNELS_CHANNELURL_METACOUNTER_KEY:"/open_channels/%s/metacounter/%s",OPENCHANNELS_CHANNELURL_BAN:"/open_channels/%s/ban",OPENCHANNELS_CHANNELURL_BAN_USERID:"/open_channels/%s/ban/%s",OPENCHANNELS_CHANNELURL_MUTE:"/open_channels/%s/mute",OPENCHANNELS_CHANNELURL_MUTE_USERID:"/open_channels/%s/mute/%s",OPENCHANNELS_CHANNELURL_FREEZE:"/open_channels/%s/freeze",OPENCHANNELS_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/open_channels/%s/messages/%s/reactions",GROUPCHANNELS:"/group_channels",MYGROUPCHANNELS:"/users/%s/my_group_channels",GROUPCHANNELS_CHANNELURL:"/group_channels/%s",GROUPCHANNELS_CHANNELURL_INVITE:"/group_channels/%s/invite",GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION:"/group_channels/%s/accept",GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION:"/group_channels/%s/decline",GROUPCHANNELS_CHANNELURL_HIDE:"/group_channels/%s/hide",GROUPCHANNELS_CHANNELURL_LEAVE:"/group_channels/%s/leave",GROUPCHANNELS_CHANNELURL_JOIN:"/group_channels/%s/join",GROUPCHANNELS_CHANNELURL_MESSAGES:"/group_channels/%s/messages",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASREAD:"/group_channels/%s/messages/mark_as_read",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED:"/group_channels/%s/messages/mark_as_delivered",GROUPCHANNELS_CHANNELURL_MESSAGES_TOTALCOUNT:"/group_channels/%s/messages/total_count",GROUPCHANNELS_CHANNELURL_MESSAGES_UNREADCOUNT:"/group_channels/%s/messages/unread_count",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/group_channels/%s/messages/%s",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/group_channels/%s/messages/%s/translation",GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/group_channels/%s/messages/changelogs",GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/group_channels/%s/scheduled_messages",GROUPCHANNELS_CHANNELURL_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_METADATA:"/group_channels/%s/metadata",GROUPCHANNELS_CHANNELURL_METADATA_KEY:"/group_channels/%s/metadata/%s",GROUPCHANNELS_CHANNELURL_METACOUNTER:"/group_channels/%s/metacounter",GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY:"/group_channels/%s/metacounter/%s",GROUPCHANNELS_RESET_USER_HISTORY:"/group_channels/%s/reset_user_history",GROUPCHANNELS_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_BAN:"/group_channels/%s/ban",GROUPCHANNELS_CHANNELURL_BAN_USERID:"/group_channels/%s/ban/%s",GROUPCHANNELS_CHANNELURL_MUTE:"/group_channels/%s/mute",GROUPCHANNELS_CHANNELURL_MUTE_USERID:"/group_channels/%s/mute/%s",GROUPCHANNELS_CHANNELURL_FREEZE:"/group_channels/%s/freeze",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/group_channels/%s/messages/%s/reactions",STORAGE_FILE:"/storage/file",STORAGE_PROFILE:"/storage/profile_image",FRIENDS:"/users/%s/friends",FRIENDS_CHANGE_LOGS:"/users/%s/friends/changelogs",FRIENDS_DISCOVERIES:"/users/%s/friend_discoveries",SEARCH_MESSAGE:"/search/messages"},"GROUPCHANNELS_OPERATORS","/group_channels/%s/operators"),o(e,"OPENCHANNELS_OPERATORS","/open_channels/%s/operators"),o(e,"REPORT_USERS","/report/users/%s"),o(e,"REPORT_CHANNELS","/report/%s/%s"),o(e,"REPORT_MESSAGES","/report/%s/%s/messages/%s"),e}}]),e}(),K=function(){function e(t,r){a(this,e),this.sb=t,this.ws=null,this.wsHost=null,this.WebSocket=null,this.handler=r||new e.ConnectionHandler,this.explicitDisconnect=!1,this.lastActiveMillis=0;try{this.WebSocket="undefined"==typeof WebSocket?n:WebSocket}catch(t){this.WebSocket=WebSocket}}return s(e,[{key:"connect",value:function(e,t,n){var r=this;x.debug("WSClient connect called");var a=O.get(this.sb._iid).container,i=a.pinger,s=a.auth;this.wsHost=n;try{var o="/?p=JS&pv="+encodeURIComponent(C.OS_VERSION)+"&sv="+encodeURIComponent(C.SDK_VERSION)+"&ai="+encodeURIComponent(this.sb.getApplicationId());if(s.sessionKey?o+="&key="+encodeURIComponent(s.sessionKey):o+="&user_id="+encodeURIComponent(e)+"&access_token="+encodeURIComponent(t),o+="&active=1",o+="&Request-Sent-Timestamp="+(new Date).getTime().toString(),this.ws=new this.WebSocket(this.wsHost+o),!this.ws)return this.sb.isReconnectingOnError=!0,void this.handler.onError("ws does not exist.")}catch(e){return this.sb.isReconnectingOnError=!0,void this.handler.onError(e)}try{this.sb.getDebugMode()&&"undefined"!=typeof window&&(window.ws=this.ws)}catch(e){x.debug("window object does not exist.")}var u=!1;this.ws.onopen=function(e){x.debug("WSClient onopen called"),r.handler.onOpen(e)},this.ws.onmessage=function(e){r.active();var t=e.data.split("\n");for(var n in t){var a=t[n];if(a&&"string"==typeof a){try{if("PONG"===a.substring(0,4)){i.pong();continue}}catch(e){x.debug("ws.onmessage-command check error: ",e)}r.handler.onMessage(a)}}},this.ws.onerror=function(e){x.debug("WSClient ws.onerror called: ",e),i&&i.stop(),u=!0,r.sb.isReconnectingOnError=!0,r.handler.onError(e)},this.ws.onclose=function(e){x.debug("WSClient ws.onclose called - e, explicitDisconnect: ",e,r.explicitDisconnect),i&&i.stop(),r.explicitDisconnect?r.handler.onClose(e):u||r.handler.onError(e),r.explicitDisconnect=!1}}},{key:"disconnect",value:function(e,t){x.debug("WSClient disconnect called [explicit]: ",e);var n=O.get(this.sb._iid).container.pinger;n&&n.stop(),this.explicitDisconnect=!0===e,this.ws&&(this.ws.onopen=function(){},this.ws.onmessage=function(){},this.ws.onclose=function(){t&&t()},this.ws.onerror=function(){},this.ws.close(),this.ws=null),this.explicitDisconnect?this.handler.onClose():this.handler.onError(),this.explicitDisconnect=!1}},{key:"send",value:function(e,t){1!==this.ws.readyState?t&&t(new R("Connection is not valid. Please reconnect.",R.WEBSOCKET_CONNECTION_CLOSED),null):(this.ws.send(e.encode()),t&&t(null,null))}},{key:"active",value:function(){this.lastActiveMillis=(new Date).getTime()}},{key:"getConnectionState",value:function(){try{return 1===this.ws.readyState?this.sb.ConnectionState.OPEN:0===this.ws.readyState?this.sb.ConnectionState.CONNECTING:this.sb.ConnectionState.CLOSED}catch(e){return this.sb.ConnectionState.CLOSED}}}]),e}();K.ConnectionHandler=function e(){a(this,e),this.onReady=function(){},this.onOpen=function(){},this.onClose=function(){},this.onMessage=function(){},this.onError=function(){}};var Y=function(){function e(t){a(this,e),this.sb=t,this.cls=F.get(this.sb._iid),this.ws=new K(this.sb),this.reconnectParams={interval:3,retryCount:3,multiplier:2,maxInterval:24},this.reconnectCount=0,this.reconnectDelay=0}return s(e,[{key:"connect",value:function(e,t){var n=this,r=O.get(this.sb._iid).container,a=r.auth,i=r.apiClient,s=r.commandHandler,o=this.cls.GroupChannel,u=new K.ConnectionHandler;this.ws=new K(this.sb,u),u.onMessage=function(e){s.onRawCommandReceived(e)},this.sb.loginHandler=function(e,t){if(n.sb.connecting=!1,e)n.disconnect({clearSession:!0,err:e},null);else{clearInterval(n.sb.globalTimer);var r=function(){if(o.cachedChannels)for(var e in o.cachedChannels){var t=o.cachedChannels[e];if(t.invalidateTypingStatus())for(var r in n.sb.channelHandlers)n.sb.channelHandlers[r].onTypingStatusUpdated(t)}};r(),n.sb.globalTimer=setInterval(function(){return r()},1e3),n.flushConnectionCallbacks(null,t),n.sb.connecting=!1,n.sb.reconnecting=!1,n.sb.ConnectionManager.processAllReadyHandler(null)}},u.onOpen=function(){n.sb.loginTimer=setTimeout(function(){n.sb.loginTimer=null,n.sb.onLoginTimerCancel=null,n.flushConnectionCallbacks(new R("Connection timeout.",R.LOGIN_TIMEOUT),null),n.sb.disconnect(null)},C.COMMAND_ACK_TIMEOUT),n.sb.onLoginTimerCancel=function(){n.flushConnectionCallbacks(new R("Connection has been canceled.",R.REQUEST_FAILED),null)},n.sb.connecting=!1},u.onError=function(t){x.debug("WebSocketClient.ConnectionHandler.onError",t),a.sessionKey?(n.sb.isReconnectingOnError=!0,n.sb.ConnectionManager.errorAllReadyHandler(),n.reconnect(e,!0)):n.flushConnectionCallbacks(new R("Websocket connection failed.",R.WEBSOCKET_CONNECTION_FAILED),null),n.sb.connecting=!1},u.onClose=function(){x.debug("WebSocketClient.ConnectionHandler.onClose"),n.sb.connecting=!1},i.checkRouting(function(r,a){if(r)return n.sb.connecting=!1,void n.flushConnectionCallbacks(new R("Connection routing failed.",R.REQUEST_FAILED),null);i.dummyCall(function(e){e&&x.log("API dummy call failed",e)}),n.ws.connect(e,t,a.wsHost)})}},{key:"reconnect",value:function(e,t){var n=this,r=!(1<arguments.length&&void 0!==t)||t,a=O.get(this.sb._iid).container,i=a.auth,s=a.apiClient,o=a.commandHandler,u=this.cls.OpenChannel;if(this.sb.reconnecting=!0,this.sb.reconnectTimer)x.debug("still reconnecting");else{if(this.reconnectCount+=1,this.reconnectCount<=1){if(r)for(var l in this.sb.connectionHandlers)this.sb.connectionHandlers[l].onReconnectStarted();this.reconnectDelay=0}else this.reconnectDelay=Math.min(1e3*this.reconnectParams.interval*Math.pow(this.reconnectParams.multiplier,this.reconnectCount-2),0<this.reconnectParams.maxInterval?1e3*this.reconnectParams.maxInterval:Number.MAX_SAFE_INTEGER);if(!e||!i.sessionKey||0<this.reconnectParams.retryCount&&this.reconnectCount>this.reconnectParams.retryCount){for(var c in this.disconnect({clearSession:!1,err:new R("Websocket connection failed.",R.WEBSOCKET_CONNECTION_FAILED)},null),this.reconnectCount=0,this.sb.connectionHandlers)this.sb.connectionHandlers[c].onReconnectFailed();return this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1,void this.sb.ConnectionManager.errorAllReadyHandler()}this.sb.onReconnectTimerCancel=function(){n.reconnectCount=0},this.sb.reconnectTimer=setTimeout(function(){n.sb.reconnectTimer=null,n.sb.onReconnectTimerCancel=null,n.ws&&n.ws.disconnect(!0);var t=new K.ConnectionHandler;n.ws=new K(n.sb,t),n.sb.loginHandler=function(){for(var e in n.reconnectCount=0,n.sb.connecting=!1,n.sb.reconnecting=!1,n.sb.isReconnectingOnError=!1,n.sb.connectionHandlers)n.sb.connectionHandlers[e].onReconnectSucceeded();if(n.sb.ConnectionManager.processAllReadyHandler(null),n.sb.isReconnectingOnError)for(var t in n.sb.ConnectionManager.networkHandlers)n.sb.ConnectionManager.networkHandlers[t].onReconnected();Object.keys(u.enteredChannels).forEach(function(e){u.enteredChannels[e].enter(function(t,r){if(t){var a=n.cls.FileMessageQueue;delete u.enteredChannels[e],a.delete(e)}})})},t.onOpen=function(){x.debug("reconnect onOpen"),n.sb.loginTimer=setTimeout(function(){x.debug("reconnect loginTimer timeout"),n.sb.loginTimer=null,n.reconnect(e,!0)},C.COMMAND_ACK_TIMEOUT),n.sb.onLoginTimerCancel=null,n.sb.reconnecting=!1},t.onMessage=function(e){o.onRawCommandReceived(e)},t.onError=function(t){x.debug("reconnect onError",t),n.sb.isReconnectingOnError=!0,n.sb.ConnectionManager.errorAllReadyHandler(),n.reconnect(e,!0)},t.onClose=function(){x.debug("reconnect onClose"),n.sb.reconnecting=!1},s.checkRouting(function(t,r){t?n.reconnect(e,!0):(n.sb.getCurrentApiHost()!==r.apiHost&&s.get("/",null,function(){}),n.ws.connect(e,null,r.wsHost))})},this.reconnectDelay)}}},{key:"disconnect",value:function(e,t){var n=O.get(this.sb._iid),r=n.container.ackStateMap,a=this.cls,i=a.GroupChannel,s=a.OpenChannel,o=e.clearSession,u=e.err;if(this.sb.loginTimer&&(clearTimeout(this.sb.loginTimer),this.sb.onLoginTimerCancel&&(this.sb.onLoginTimerCancel(),this.sb.onLoginTimerCancel=null),this.sb.loginTimer=null),this.sb.reconnectTimer&&(clearTimeout(this.sb.reconnectTimer),this.sb.onReconnectTimerCancel&&(this.sb.onReconnectTimerCancel(),this.sb.onReconnectTimerCancel=null),this.sb.reconnectTimer=null),this.ws&&(this.reconnectCount=0,this.ws.disconnect(!0),this.ws=null),o){for(var l in s.clearEnteredChannels(),s.clearCache(),i.clearCache(),this.sb.globalTimer&&(clearInterval(this.sb.globalTimer),this.sb.globalTimer=null),r)clearTimeout(r[l].timer);this.sb.currentUser=null,n.set("ackStateMap",{}),n.set("subscribedUnreadMessageCount",{all:0,custom_types:{},ts:0}),n.set("auth",new L)}u&&(this.flushConnectionCallbacks(u,null),this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1),t&&t(null,null)}},{key:"flushConnectionCallbacks",value:function(e,t){var n=this.sb.connectionCallbacks;this.sb.connectionCallbacks=[],n.forEach(function(n){return n(e,t)})}}]),e}(),J=function(){function e(t){var n=t.type,r=t.nullable,i=void 0!==r&&r,s=t.optional,o=void 0!==s&&s,u=t.optionalIf,l=void 0===u?null:u,c=t.ignoreIf,d=void 0===c?null:c,h=t.defaultValue,f=void 0===h?null:h,p=t.constraint,y=void 0===p?null:p;a(this,e),this.type=n,this.nullable=i,this.optional=o,this.optionalIf=l,this.ignoreIf=d,this.defaultValue=f,this.constraint=y}return s(e,[{key:"isMatchingType",value:function(e){function t(t,n){return"string"==typeof n?r(t)===n||"array"===n&&Array.isArray(t)||"file"===n&&z.isFile(t)||"null"===n&&null===t||"date"===n&&t instanceof Date:"function"==typeof n?t instanceof n:"object"===r(n)&&-1<Object.keys(n).map(function(e){return n[e]}).indexOf(e)}return t(e,this.type)||Array.isArray(this.type)&&this.type.some(function(n){return t(e,n)})||this.nullable&&null===e}}],[{key:"parse",value:function(t,n){for(t=e.toArray(t);void 0===t[t.length-1];)t.pop();var r=!1,a=null;"callback"===n[n.length-1].type&&("function"==typeof t[t.length-1]&&(a=t.pop()),n.pop(),r=!0);var i=[],s=null,o=0;for(var u in n){var l=n[u];"function"==typeof l.ignoreIf&&l.ignoreIf(t)?i.push(l.hasOwnProperty("defaultValue")?l.defaultValue:null):l.isMatchingType(t[o])?(l.nullable&&null===t[o]||!l.constraint||l.constraint(t[o])||(s=e.error),i.push(t[o]),o++):l.optional||"function"==typeof l.optionalIf&&l.optionalIf(t)?i.push(l.hasOwnProperty("defaultValue")?l.defaultValue:null):(s=e.error,i.push(t[o]),o++)}return r&&a&&i.push(a),t.length!==o&&(s=e.error),[s].concat(i)}},{key:"toArray",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}},{key:"error",get:function(){return new R("Invalid parameter.",R.INVALID_PARAMETER)}}]),e}(),Z=function(){function e(t){a(this,e),this.sb=t,this.authCount=0,this.readyHandlers=[],this.networkHandlers={},this.authenticateTimer=1e4,this.authInfoRequester=null}return s(e,[{key:"addReadyHandler",value:function(e){e&&"function"==typeof e&&this.readyHandlers.push(e)}},{key:"ready",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t,r=O.get(this.sb._iid).container,a=r.auth,i=r.isInBackground;n&&a.hasSession()?e&&(e(null,this.sb.currentUser),this.sb.getConnectionState()!==this.sb.ConnectionState.CLOSED||i||this.sb.reconnect()):(this.addReadyHandler(e),this.sb.isReconnectingOnError?this.errorAllReadyHandler():this.sb.getConnectionState()===this.sb.ConnectionState.OPEN?this.processAllReadyHandler(null):this.sb.getConnectionState()===this.sb.ConnectionState.CONNECTING||this.errorAllReadyHandler())}},{key:"processAllReadyHandler",value:function(e){var t=this;if(0<this.readyHandlers.length){var n=this.readyHandlers;this.readyHandlers=[],n.forEach(function(n){n&&"function"==typeof n&&n(e,t.sb.currentUser)})}}},{key:"errorAllReadyHandler",value:function(){this.processAllReadyHandler(new R("Connection should be made first.",R.CONNECTION_REQUIRED))}},{key:"NetworkHandler",value:function(){this.onReconnected=function(){}}},{key:"addNetworkHandler",value:function(e,t){this.networkHandlers[e]=t}},{key:"removeNetworkHandler",value:function(e){delete this.networkHandlers[e]}},{key:"removeAllNetworkHandler",value:function(){this.networkHandlers={}}},{key:"authenticate",value:function(e){var t=this;if(this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnecting)this.sb.connecting=!1,e(null,this.sb.currentUser);else if(this.authInfoRequester&&"function"==typeof this.authInfoRequester){this.sb.connecting=!0,this.authCount++;var n=setTimeout(function(){n=null,t.authCount--,0===t.authCount&&0===t.sb.connectionCallbacks.length&&(t.sb.connecting=!1),t.errorAllReadyHandler(),e(new R("Connection should be made first.",R.CONNECTION_REQUIRED),null)},this.authenticateTimer);this.authInfoRequester(function(r){if(n){clearTimeout(n),n=null,t.authCount--;var a=function(n,r){t.sb.connecting=!1,e(n,null)};r&&r.hasOwnProperty("userId")?r.accessToken?r.apiHost&&r.wsHost?t.sb.connect(r.userId,r.accessToken,r.apiHost,r.wsHost,a):t.sb.connect(r.userId,r.accessToken,a):r.apiHost&&r.wsHost?t.sb.connect(r.userId,r.apiHost,r.wsHost,a):t.sb.connect(r.userId,a):e(J.error,null)}})}else e(J.error,null)}}]),e}(),X=function(){function e(t){a(this,e),this.sb=t}return s(e,[{key:"onlineWorker",value:function(){try{if("undefined"!=typeof navigator&&navigator.onLine){var e=O.get(this.sb._iid).container.auth;this.sb.reconnecting||this.sb.connecting||!e.sessionKey||this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnect()}}catch(e){x.debug("There is no window.addEventListener.ononline or navigator.onLine")}}},{key:"offlineWorker",value:function(){try{if("undefined"!=typeof navigator&&!navigator.onLine){var e=O.get(this.sb._iid).container,t=e.auth,n=e.pinger;this.sb.reconnecting||this.sb.connecting||!t.sessionKey||(n&&n.stop(),this.sb.reconnect())}}catch(e){x.debug("There is no window.addEventListener.ononline or navigator.onLine")}}},{key:"start",value:function(){try{"undefined"!=typeof window&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&"boolean"==typeof navigator.onLine&&(window.addEventListener("online",this.onlineWorker),window.addEventListener("offline",this.offlineWorker))}catch(e){x.debug("There is no window.addEventListener.ononline or navigator.onLine")}}},{key:"stop",value:function(){try{window.removeEventListener("online",this.onlineWorker,!1),window.removeEventListener("offline",this.offlineWorker,!1)}catch(e){x.debug("There is no window.addEventListener.ononline or navigator.onLine")}}}]),e}(),$=(new Date).getTime(),ee=function(){function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;switch(a(this,e),this.command=t,this.requestId=r,arguments.length){case 1:if(!t||t.length<=4)this.command="NOOP",this.payload="{}";else if(this.decode(t),this.isRequestIdCommand){var i=this.getJsonElement();i&&(this.requestId=i.req_id||"")}break;case 2:case 3:!this.requestId&&this.isRequestIdCommand&&(this.requestId=e.generateRequestId()),n.req_id=this.requestId||"",this.payload=JSON.stringify(n)}}return s(e,[{key:"encode",value:function(){return this.command+this.payload+"\n"}},{key:"decode",value:function(e){e=e.trim(),this.command=e.substring(0,4),this.payload=e.substring(4)}},{key:"getJsonElement",value:function(){return JSON.parse(this.payload)}},{key:"isRequestIdCommand",get:function(){return this.isAckRequired||"EROR"===this.command}},{key:"isAckRequired",get:function(){return"MESG"===this.command||"FILE"===this.command||"ENTR"===this.command||"EXIT"===this.command||"READ"===this.command||"MEDI"===this.command||"FEDI"===this.command}}],[{key:"bPing",value:function(){return new this("PING",{id:(new Date).getTime(),active:1})}},{key:"bMessage",value:function(e){var t=e.channelUrl,n=e.message,r=e.data,a=e.customType,i=e.metaArrays,s=e.mentionType,o=e.mentionedUserIds,u=e.translationTargetLanguages,l=e.pushNotificationDeliveryOption,c=e.requestId,d=void 0===c?null:c,h=F.get(this._iid),f=h.UserMessageParams,p=h.BaseMessageParams,y={};return y.channel_url=t,y.message=n,y.data=r,i&&0<i.length&&(y.metaarray=i.map(function(e){return e.encode()})),s&&(y.mention_type=s),y.mentioned_user_ids=[],s===p.MentionType.CHANNEL?y.mentioned_user_ids=[]:Array.isArray(o)&&0<o.length&&(y.mentioned_user_ids=o),a&&(y.custom_type=a),u&&0<u.length&&(y.target_langs=u),l&&l!==f.PushNotificationDeliveryOption.DEFAULT&&(y.push_option=l),new this("MESG",y,d)}},{key:"bFile",value:function(e){var t=e.channelUrl,n=e.url,r=e.name,a=e.type,i=e.size,s=e.data,o=e.customType,u=e.thumbnailSizes,l=e.requireAuth,c=e.metaArrays,d=e.mentionType,h=e.mentionedUserIds,f=e.pushNotificationDeliveryOption,p=e.requestId,y=void 0===p?null:p,m=F.get(this._iid),g=m.BaseMessageParams,_=m.FileMessageParams,v={};return v.channel_url=t,v.url=n,v.name=r||"",v.type=a||"",v.size=i||0,v.custom=s,o&&(v.custom_type=o),u&&(v.thumbnails=u),l&&(v.require_auth=l),c&&0<c.length&&(v.metaarray=c.map(function(e){return e.encode()})),d&&(v.mention_type=d),v.mentioned_user_ids=[],d===g.MentionType.CHANNEL?v.mentioned_user_ids=[]:Array.isArray(h)&&0<h.length&&(v.mentioned_user_ids=h),f&&f!==_.PushNotificationDeliveryOption.DEFAULT&&(v.push_option=f),new this("FILE",v,y)}},{key:"bUpdateUserMessage",value:function(e){var t=e.channelUrl,n=e.messageId,r=e.message,a=void 0===r?null:r,i=e.data,s=void 0===i?null:i,o=e.customType,u=void 0===o?null:o,l=e.mentionType,c=void 0===l?null:l,d=e.mentionedUserIds,h=void 0===d?null:d,f=e.metaArrayParams,p=void 0===f?null:f,y=F.get(this._iid).BaseMessageParams,m={};return m.channel_url=t,m.msg_id=n,null!=a&&void 0!==a&&(m.message=a),null!=s&&void 0!==s&&(m.data=s),null!=u&&void 0!==u&&(m.custom_type=u),c&&(m.mention_type=c),c===y.MentionType.CHANNEL?m.mentioned_user_ids=[]:Array.isArray(h)&&0<h.length&&(m.mentioned_user_ids=h),p&&(m.metaarray=p),new this("MEDI",m)}},{key:"bUpdateFileMessage",value:function(e){var t=e.channelUrl,n=e.messageId,r=e.data,a=void 0===r?null:r,i=e.customType,s=void 0===i?null:i,o=e.mentionType,u=void 0===o?null:o,l=e.mentionedUserIds,c=void 0===l?null:l,d=e.metaArrayParams,h=void 0===d?null:d,f=F.get(this._iid).BaseMessageParams,p={};return p.channel_url=t,p.msg_id=n,null!=a&&void 0!==a&&(p.data=a),null!=s&&void 0!==s&&(p.custom_type=s),u&&(p.mention_type=u),u===f.MentionType.CHANNEL?p.mentioned_user_ids=[]:Array.isArray(c)&&0<c.length&&(p.mentioned_user_ids=c),h&&(p.metaarray=h),new this("FEDI",p)}},{key:"bRead",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("READ",n)}},{key:"bMessageAck",value:function(e){var t=e.channelUrl,n=e.messageId,r={};return r.channel_url=t,r.msg_id=n,new this("MACK",r)}},{key:"bTypeStart",value:function(e){var t=e.channelUrl,n=e.time,r={};return r.channel_url=t,r.time=n,new this("TPST",r)}},{key:"bTypeEnd",value:function(e){var t=e.channelUrl,n=e.time,r={};return r.channel_url=t,r.time=n,new this("TPEN",r)}},{key:"bEnter",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("ENTR",n)}},{key:"bExit",value:function(e){var t=e.channelUrl,n={};return n.channel_url=t,new this("EXIT",n)}},{key:"generateRequestId",value:function(){return String(++$)}}]),e}(),te=function(){function e(){a(this,e),this.messageId=null,this.userId=null,this.key=null,this.operation="",this.updatedAt=null}return s(e,null,[{key:"createFromJson",value:function(e){var t=e.msg_id,n=e.user_id,r=e.operation,a=e.reaction,i=e.updated_at;if(("string"==typeof t||"number"==typeof t)&&t&&"string"==typeof n&&"string"==typeof r&&0<=["add","delete"].indexOf(r.toLowerCase())&&"string"==typeof a&&a&&"number"==typeof i){var s=new this;return s.messageId=parseInt(t),s.userId=n,s.key=a,s.operation=r.toLowerCase(),s.updatedAt=i,s}return null}}]),e}();function ne(e,t,n){return void 0===n?new le(function(e,n){t(function(t,r){return t?n(t):e(r)})}):t(function(t,r){n&&(O.get(e).container.isErrorFirstInCallback?n(t,r):n(r,t))})}var re=function(){function e(){a(this,e)}return s(e,null,[{key:"serialize",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,a=JSON.parse(JSON.stringify(e));return n&&n(a),function e(t){return Object.keys(t).forEach(function(n){t[n]&&"object"===r(t[n])&&e(t[n])}),Object.freeze(t)}(a)}},{key:"deserialize",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,r=JSON.parse(JSON.stringify(e));return n&&n(r),r}}]),e}(),ae=function(){function e(t){a(this,e),this.messageId=0,this.messageType=e.MESSAGE_TYPE_BASE,this.channelUrl="",this.data=null,this.customType=null,this.createdAt=0,this.updatedAt=0,this.channelType=null,this.metaArrays=[],this.reactions=[],this.mentionType=null,this.mentionedUsers=[],t&&this.__update(t)}return s(e,[{key:"serialize",value:function(){return re.serialize(this,function(e){e.hasOwnProperty("_sender")&&(e.sender=e._sender,delete e._sender)})}},{key:"isIdentical",value:function(e){return!("object"!==r(e)||!e.hasOwnProperty("messageId"))&&(0!==this.messageId&&0!==e.messageId?this.messageId===e.messageId:this.reqId===e.reqId)}},{key:"isEqual",value:function(e){return z.deepEqual(this,e)}},{key:"isOpenChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isUserMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_USER}},{key:"isAdminMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_ADMIN}},{key:"isFileMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_FILE}},{key:"__update",value:function(e){var t=this,n=F.get(this._iid),r=n.User,a=n.BaseChannel,i=n.BaseMessageParams,s=n.Reaction,o=n.MessageMetaArray;e.hasOwnProperty("msg_id")&&(this.messageId=parseInt(e.msg_id)),e.hasOwnProperty("message_id")&&(this.messageId=parseInt(e.message_id)),this.channelUrl=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?String(e.custom_type):"",this.createdAt=e.hasOwnProperty("ts")?parseInt(e.ts):0,e.hasOwnProperty("created_at")&&(this.createdAt=parseInt(e.created_at)),this.updatedAt=e.hasOwnProperty("updated_at")?parseInt(e.updated_at):0,this.channelType=e.hasOwnProperty("channel_type")?String(e.channel_type):a.CHANNEL_TYPE_GROUP;var u=e.hasOwnProperty("metaarray")?e.metaarray:{},l=e.hasOwnProperty("metaarray_key_order")?e.metaarray_key_order:Object.keys(u).sort(function(e,t){return e.localeCompare(t)});this.metaArrays=[];for(var c=0;c<l.length;c++){var d=l[c];this.metaArrays.push(new o(d,u[d]||[]))}if(this.reactions=[],e.hasOwnProperty("reactions")&&Array.isArray(e.reactions))for(var h in e.reactions){var f=s.createFromJson(e.reactions[h]);f&&this.reactions.push(f)}this.mentionType=e.hasOwnProperty("mention_type")?e.mention_type:i.MentionType.USERS,this.mentionedUsers=[],e.hasOwnProperty("mentioned_users")&&e.mentioned_users.forEach(function(e){var n=new r(e);t.mentionedUsers.push(n)})}},{key:"getMetaArraysByKeys",value:function(e){return Array.isArray(e)?this.metaArrays.filter(function(t){return-1<e.indexOf(t.key)}):[]}},{key:"getMetaArrayByKeys",value:function(e){var t={};return this.getMetaArraysByKeys(e).forEach(function(e){t[e.key]=e.value}),t}},{key:"applyReactionEvent",value:function(e){var t,n=this,r=F.get(this._iid).Reaction,a=v(J.parse(arguments,[new J({type:te,constraint:function(e){return parseInt(e.messageId)===parseInt(n.messageId)}})]),2);if(t=a[0],e=a[1],!t){var i=!1;for(var s in this.reactions)if(this.reactions[s].key===e.key){var o=this.reactions[s].userIds.indexOf(e.userId);switch(e.operation){case"add":o<0&&this.reactions[s].userIds.push(e.userId);case"delete":0<=o&&(this.reactions[s].userIds.splice(o,1),0===this.reactions[s].userIds.length&&this.reactions.splice(s,1))}i=!0;break}if(!i&&"add"===e.operation){var u=new r;u.key=e.key,u.userIds=[e.userId],u.updatedAt=e.updatedAt,this.reactions.push(u)}}}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach(function(t){e[t.key]=t.value}),e},set:function(e){if("object"===r(e)&&e){var t=F.get(this._iid).MessageMetaArray,n=[];for(var a in e)n.push(new t(a,e[a]));this.metaArrays=n}}}],[{key:"MESSAGE_TYPE_BASE",get:function(){return"base"}},{key:"MESSAGE_TYPE_ADMIN",get:function(){return"admin"}},{key:"MESSAGE_TYPE_USER",get:function(){return"user"}},{key:"MESSAGE_TYPE_FILE",get:function(){return"file"}},{key:"MessageRequestState",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",SUCCEEDED:"succeeded"}}}]),e}(),ie=0,se=1,oe=2,ue=function(){function e(t){var n=this;a(this,e),this.state=ie,this._value=null,this._reason=null,t(function(e){n.state===ie&&(n.state=se,n._value=e)},function(e){n.state===ie&&(n.state=oe,n._reason=e)})}return s(e,[{key:"then",value:function(t,n){var r=this,a=this;switch(this.state){case ie:setTimeout(function(){return r.then(t,n)},100);break;case se:t&&"function"==typeof t&&(a=t(this._value));break;case oe:n&&"function"==typeof n&&(a=n(this._reason))}return a instanceof e?a:this}},{key:"catch",value:function(t){var n=this,r=this;switch(this.state){case ie:setTimeout(function(){return n.catch(t)},100);break;case se:break;case oe:r=t(this._reason)}return r instanceof e?r:this}},{key:"finally",value:function(t){var n=this,r=this;switch(this.state){case ie:setTimeout(function(){return n.finally(t)},100);break;case se:case oe:r=t()}return r instanceof e?r:this}},{key:"length",get:function(){return 1}}],[{key:"all",value:function(t){return new e(function(n,a){Array.isArray(t)||"string"==typeof t?function(){var r=[];for(var i in t)t[i]instanceof e?r.push(t[i]):r.push(e.resolve(t[i]));var s=r.length;function o(e,t){--s<=0?n(t):e&&a(e)}for(var u in r)r[u].then(function(e){o(null,e)}).catch(function(e){s++,o(e,null)})}():a(new Error("Uncaught (in promise) TypeError: ".concat(r(t)," ").concat(t," is not iterable")))})}},{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}}]),e}(),le=function(){try{return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&-1<navigator.userAgent.indexOf("Trident/7")}catch(e){return!1}}()||b()||S()||U()?ue:Promise,ce=function(){function e(t){a(this,e),this.nickname="",this.profileUrl="",this.userId="",this.connectionStatus="",this.lastSeenAt=null,this.metaData={},this.isActive=!0,this.friendDiscoveryKey=null,this.friendName=null,this._preferredLanguages=null,t&&this.__update(t)}return s(e,[{key:"__update",value:function(t){t.hasOwnProperty("guest_id")&&(this.userId=String(t.guest_id)),t.hasOwnProperty("user_id")&&(this.userId=String(t.user_id)),t.hasOwnProperty("name")&&(this.nickname=String(t.name)),t.hasOwnProperty("nickname")&&(this.nickname=String(t.nickname)),t.hasOwnProperty("image")&&(this.profileUrl=String(t.image)),t.hasOwnProperty("profile_url")&&(this.profileUrl=String(t.profile_url)),t.hasOwnProperty("is_online")?t.is_online===e.NON_AVAILABLE?this.connectionStatus=e.NON_AVAILABLE:this.connectionStatus=t.is_online?e.ONLINE:e.OFFLINE:this.connectionStatus=e.NON_AVAILABLE,t.hasOwnProperty("last_seen_at")?this.lastSeenAt=parseInt(t.last_seen_at):this.lastSeenAt=0,t.hasOwnProperty("metadata")?this.metaData=t.metadata:this.metaData={},t.hasOwnProperty("is_active")?this.isActive=void 0===t.is_active||t.is_active:this.isActive=!0,t.hasOwnProperty("friend_discovery_key")?this.friendDiscoveryKey=t.friend_discovery_key:this.friendDiscoveryKey=null,t.hasOwnProperty("friend_name")?this.friendName=t.friend_name:this.friendName=null,t.hasOwnProperty("preferred_languages")?this._preferredLanguages=t.preferred_languages:this._preferredLanguages=null}},{key:"_updateMetaData",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t,r=F.get(this._iid).GroupChannel;for(var a in e)n?delete this.metaData[a]:this.metaData[a]=e[a];for(var i in r.cachedChannels)if(r.cachedChannels.hasOwnProperty(i)){var s=r.cachedChannels[i];s.memberMap.hasOwnProperty(this.userId)&&(s.memberMap[this.userId].metaData=this.metaData)}}},{key:"serialize",value:function(){return re.serialize(this,function(e){e.hasOwnProperty("_preferredLanguages")&&(e.preferredLanguages=e._preferredLanguages,delete e._preferredLanguages)})}},{key:"getOriginalProfileUrl",value:function(){var e="";if((-1<(e=(e=-1<this.profileUrl.indexOf("://")?this.profileUrl.split("/")[2]:this.profileUrl.split("/")[0]).split("?")[0]).indexOf("sendbird.com")||-1<e.indexOf("intoz.com"))&&-1<this.profileUrl.indexOf(e+"/profile_images/")){var t=this.profileUrl.replace("profile_images/","");return t===this.profileUrl?"":t}return""}},{key:"createMetaData",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return 0<Object.keys(e).length&&!Array.isArray(e)}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.createUserMetaData({metaData:e},function(e,n){e||r._updateMetaData(n),t(e,n)})},t)}},{key:"updateMetaData",value:function(e,t,n){var r,a=this,i=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"callback"})]),4);return r=i[0],e=i[1],t=i[2],n=i[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.updateUserMetaData({metaData:e,upsert:t},function(e,t){e||a._updateMetaData(t),n(e,t)})},n)}},{key:"deleteMetaData",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){if(n)t(n,null);else{var a={};a[e]="",O.get(r._iid).container.apiClient.deleteUserMetaData({metaDataKey:e},function(e,n){e||r._updateMetaData(a,!0),t(e,n)})}},t)}},{key:"deleteAllMetaData",value:function(e){var t=this;return ne(this._iid,function(e){var n=t.metaData;O.get(t._iid).container.apiClient.deleteAllUserMetaData({},function(r,a){r||t._updateMetaData(n,!0),e(r,a)})},e)}},{key:"preferredLanguages",get:function(){return this._preferredLanguages}}],[{key:"build",value:function(e,t,n,r,a,i,s,o,u,l){return{user_id:e,nickname:t,profile_url:n,is_online:r,last_seen_at:a,metadata:i,is_active:s,friend_discovery_key:o,friend_name:u,preferred_languages:l}}},{key:"buildFromSerializedData",value:function(e){var t=F.get(this._iid).User,n=re.deserialize(e);return new t(t.build.apply(t,E(["userId","nickname","profileUrl","connectionStatus","lastSeenAt","metaData","isActive","friendDiscoveryKey","friendName","preferredLanguages"].map(function(e){return n[e]}))))}},{key:"NON_AVAILABLE",get:function(){return"nonavailable"}},{key:"ONLINE",get:function(){return"online"}},{key:"OFFLINE",get:function(){return"offline"}}]),e}(),de={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},he=function(){function e(t){a(this,e),this.url="",this.channelType=e.CHANNEL_TYPE_BASE,this.name="",this.coverUrl="",this.createdAt=0,this.data=null,this.customType=null,this.isFrozen=!1,this.isEphemeral=!1,t&&(this.__update(t),t.__wk&&(this.__wk=t.__wk))}return s(e,[{key:"__update",value:function(e){this.url=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.name=e.hasOwnProperty("name")?String(e.name):"",this.coverUrl=e.hasOwnProperty("cover_url")?String(e.cover_url):"",this.createdAt=e.hasOwnProperty("created_at")?1e3*e.created_at:0,this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?e.custom_type:"",this.isFrozen=!!e.hasOwnProperty("freeze")&&e.freeze,this.isEphemeral=!!e.hasOwnProperty("is_ephemeral")&&e.is_ephemeral}},{key:"_getMessageList",value:function(e,t,n,r,a,i,s,o,u,l,c,d,h){var f,p=this,y=v(J.parse(arguments,[new J({type:"object"}),new J({type:"number"}),new J({type:de}),new J({type:"boolean"}),new J({type:"number"}),new J({type:"number"}),new J({type:"boolean"}),new J({type:"string",nullable:!0,constraint:function(e){return-1<["","MESG","FILE","ADMM"].indexOf(e)}}),new J({type:"string"}),new J({type:"array",optional:!0,defaultValue:[],constraint:function(e){return e.reduce(function(e,t){return e&&"string"==typeof t},!0)}}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"callback"})]),14);return f=y[0],e=y[1],t=y[2],n=y[3],r=y[4],a=y[5],i=y[6],s=y[7],o=y[8],u=y[9],l=y[10],c=y[11],d=y[12],h=y[13],ne(this._iid,function(h){f?h(f,null):O.get(p._iid).container.apiClient.getMessageList({channel:e,token:t,tokenType:n,isInclusive:r,prevResultSize:a,nextResultSize:i,shouldReverse:s,messageType:o,customType:u,senderUserIds:l,includeMetaArray:c,includeReaction:d},function(e,t){var n=null;if(!e){var r=F.get(p._iid).BaseChannel;n=t.messages.map(function(e){return r.buildMessage(e,p)}).filter(function(e){return null!==e})}h(e,n)})},h)}},{key:"isGroupChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"createOperatorListQuery",value:function(){return new(F.get(this._iid).OperatorListQuery)(this)}},{key:"createMessageListQuery",value:function(){return new(F.get(this._iid).MessageListQuery)(this)}},{key:"createPreviousMessageListQuery",value:function(){return new(F.get(this._iid).PreviousMessageListQuery)(this)}},{key:"serialize",value:function(){return re.serialize(this,function(e){if(null!==e.lastMessage&&"object"===r(e.lastMessage)){var t=e.lastMessage;t.hasOwnProperty("_sender")&&(t.sender=t._sender,delete t._sender,e.lastMessage=t)}e.hasOwnProperty("_messageOffsetTimestamp")&&(e.messageOffsetTimestamp=e._messageOffsetTimestamp,delete e._messageOffsetTimestamp)})}},{key:"getMessageChangeLogsByTimestamp",value:function(e,t,n,r){var a,i=this,s=v(J.parse(arguments,[new J({type:"number",constraint:function(e){return 0<=e}}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"callback"})]),5);return a=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.getMessageChangeLogs({channelUrl:i.url,ts:e,token:null,isOpenChannel:i.isOpenChannel(),includeMetaArray:t,includeReaction:n},function(e,t){var n=null;if(!e){var a=F.get(i._iid).BaseChannel;n={updatedMessages:t.updated.map(function(e){return a.buildMessage(e,i)}),deletedMessageIds:t.deleted.map(function(e){return e.message_id}),hasMore:t.has_more,token:t.next}}r(e,n)})},r)}},{key:"getMessageChangeLogsByToken",value:function(e,t,n,r){var a,i=this,s=v(J.parse(arguments,[new J({type:"string",nullable:!0}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"callback"})]),5);return a=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.getMessageChangeLogs({channelUrl:i.url,ts:null,token:e,isOpenChannel:i.isOpenChannel(),includeMetaArray:t,includeReaction:n},function(e,t){var n=null;if(!e){var a=F.get(i._iid).BaseChannel;n={updatedMessages:t.updated.map(function(e){return a.buildMessage(e,i)}),deletedMessageIds:t.deleted.map(function(e){return e.message_id}),hasMore:t.has_more,token:t.next}}r(e,n)})},r)}},{key:"getMyMutedInfo",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getMyMutedInfo({channelUrl:t.url,userId:gt.getInstance(t._iid).currentUser.userId,isGroupChannel:t.isGroupChannel()},function(t,n){var r=null;t||(r={isMuted:n.is_muted,startAt:n.start_at,endAt:n.end_at,remainingDuration:n.remaining_duration,description:n.description}),e(t,r)})},e)}},{key:"getPreviousMessagesByTimestamp",value:function(e,t,n,r,a,i,s,o,u,l){return this._getMessageList(this,e,de.TIMESTAMP,t,n,0,r,a,i,s,o,u,l)}},{key:"getNextMessagesByTimestamp",value:function(e,t,n,r,a,i,s,o,u,l){return this._getMessageList(this,e,de.TIMESTAMP,t,0,n,r,a,i,s,o,u,l)}},{key:"getPreviousAndNextMessagesByTimestamp",value:function(e,t,n,r,a,i,s,o,u,l){return this._getMessageList(this,e,de.TIMESTAMP,!0,t,n,r,a,i,s,o,u,l)}},{key:"getPreviousMessagesByID",value:function(e,t,n,r,a,i,s,o,u,l){return this._getMessageList(this,e,de.MESSAGE_ID,t,n,0,r,a,i,s,o,u,l)}},{key:"getNextMessagesByID",value:function(e,t,n,r,a,i,s,o,u,l){return this._getMessageList(this,e,de.MESSAGE_ID,t,0,n,r,a,i,s,o,u,l)}},{key:"getPreviousAndNextMessagesByID",value:function(e,t,n,r,a,i,s,o,u,l){return this._getMessageList(this,e,de.MESSAGE_ID,!0,t,n,r,a,i,s,o,u,l)}},{key:"_sendUserMessage",value:function(e){var t=this,n=e.message,r=e.data,a=e.customType,i=e.metaArrays,s=e.mentionType,o=e.mentionedUserIds,u=e.translationTargetLanguages,l=e.pushNotificationDeliveryOption,c=e.reqId,d=e.callback,h=F.get(this._iid),f=h.Command,p=h.GroupChannel,y=h.UserMessage;c=c||f.generateRequestId();var m=gt.getInstance(this._iid),g=y.build(c,0,m.currentUser,this,n,r,a,u,!1,(new Date).getTime(),0,i,s,null,o),_=new y(g);if(_.requestState=m.MessageRequestState.PENDING,_.requestedMentionUserIds=o,!m.currentUser){var v=new R("Connection should be made first.",R.CONNECTION_REQUIRED),E=new y(g);return E.requestState=m.MessageRequestState.FAILED,E.requestedMentionUserIds=o,E.errorCode=v.code,d(v,E),_}var C=f.bMessage({channelUrl:this.url,message:n,data:r,customType:a,metaArrays:i,mentionType:s,mentionedUserIds:o,translationTargetLanguages:u,pushNotificationDeliveryOption:l,requestId:c});return _.reqId=C.requestId,this.isGroupChannel()&&m.getConnectionState()!==m.ConnectionState.OPEN&&m.currentUser&&!m.connecting&&!m.reconnecting&&"string"==typeof a&&0===a.indexOf("SB_VIDEOCHAT")?O.get(m._iid).container.apiClient.sendUserMessage({channelUrl:this.url,isOpenChannel:this.isOpenChannel(),message:n,data:r,customType:a,translationTargetLanguages:u,metaArrays:i,mentionType:s,mentionedUserIds:o,pushNotificationDeliveryOption:l},function(e,t){var n=null;e?((n=new y(g)).requestState=m.MessageRequestState.FAILED,n.requestedMentionUserIds=o,n.errorCode=e.code):(n=new y(t)).requestState=m.MessageRequestState.SUCCEEDED,d(e,n)}):m.sendCommand(C,function(e,n){if(m.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n){var a=new y(g);a.reqId=C.requestId,a.requestState=m.MessageRequestState.FAILED,a.requestedMentionUserIds=o,a.errorCode=n.code,d(new R(n.message,n.code),a)}else{var i=new y(e.getJsonElement()),s=m.currentUser;s&&i._sender&&s.userId===i._sender.userId&&(s.nickname!==i._sender.nickname&&(s.nickname=i._sender.nickname),s.profileUrl!==i._sender.profileUrl&&(s.profileUrl=i._sender.profileUrl),z.deepEqual(s.metaData,i._sender.metaData)||(s.metaData=i._sender.metaData)),t.isGroupChannel()?p.getChannel(t.url,function(e,t){if(m.getErrorFirstCallback()){var n=[e,t];t=n[0],e=n[1]}if(t)i.requestState=m.MessageRequestState.SUCCEEDED,d(t,i);else{if(!z.isVideoChatSignalingMessage(i))for(var r in e.lastMessage=i,m.channelHandlers)m.channelHandlers[r].onChannelChanged(e);i.requestState=m.MessageRequestState.SUCCEEDED,d(null,i)}}):(i.requestState=m.MessageRequestState.SUCCEEDED,d(null,i))}}),_}},{key:"sendUserMessage",value:function(){var e=J.toArray(arguments),t=e.pop(),n=null,r=null,a=F.get(this._iid),i=a.UserMessageParams,s=a.MessageMetaArray;if("function"==typeof t)if(e[0]instanceof i)null===(r=e[0]).data&&(r.data=""),null===r.customType&&(r.customType="");else if("string"==typeof e[0])switch((r=new i).message=e[0],e.length){case 1:break;case 2:r.data=e[1]||"";break;case 3:r.data=e[1]||"",r.customType=e[2]||"";break;case 4:r.data=e[1]||"",r.customType=e[2]||"",r.translationTargetLanguages=Array.isArray(e[3])?e[3]:[e[3]];break;default:n=J.error}else n=J.error;else n=J.error;var o=O.get(this._iid).container.isErrorFirstInCallback;if(!n&&r._validate()&&r.message){for(var u=[],c=0;c<r.metaArrayKeys.length;c++){var d=r.metaArrayKeys[c];u.push(new s(d,[]))}return this._sendUserMessage(l({},r,{metaArrays:u,mentionType:r.mentionType,mentionedUserIds:r._mentionedUserIds,translationTargetLanguages:r._translationTargetLanguages,callback:function(e,n){o?t(e,n):t(n,e)}}))}return o?t(J.error,null):t(null,J.error),null}},{key:"resendUserMessage",value:function(e,t){var n=this,r=F.get(this._iid),a=r.UserMessage,i=r.UserMessageParams,s=null,o=v(J.parse(arguments,[new J({type:a,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===n.url&&"string"==typeof e.message&&"string"==typeof e.data&&"string"==typeof e.customType&&Array.isArray(e.translations)}}),new J({type:"callback"})]),3);return s=o[0],e=o[1],t=o[2],ne(this._iid,function(t){if(s)s.message+=" Please check if the failed message is resend-able with `message.isResendable().`",t(s,null);else{var r=i.PushNotificationDeliveryOption.DEFAULT;n._sendUserMessage(l({},e,{mentionedUserIds:e.requestedMentionUserIds,translationTargetLanguages:e.translations,pushNotificationDeliveryOption:r,reqId:e.reqId,callback:t}))}},t)}},{key:"updateUserMessage",value:function(e,t,n,r,a){var i=this,s=F.get(this._iid),o=s.Command,u=s.UserMessage,c=s.UserMessageParams,d=arguments,h=null,f=null;if("number"==typeof e)switch(d.length){case 3:var p=v(J.parse(d,[new J({type:"number"}),new J({type:c}),new J({type:"callback"})]),4);h=p[0],e=p[1],f=p[2],a=p[3];break;case 5:f=new c;var y=v(J.parse(d,[new J({type:"number"}),new J({type:"string",nullable:!0}),new J({type:"string",nullable:!0}),new J({type:"string",nullable:!0}),new J({type:"callback"})]),6);h=y[0],e=y[1],t=y[2],n=y[3],r=y[4],a=y[5],f.message=t,f.data=n,f.customType=r}return ne(this._iid,function(t){if(!h&&f&&f._validate()){var n=o.bUpdateUserMessage(l({channelUrl:i.url,messageId:e},f,{mentionType:f._mentionType,mentionedUserIds:f._mentionedUserIds})),r=gt.getInstance(i._iid);r.sendCommand(n,function(e,n){if(r.getErrorFirstCallback()){var a=[e,n];n=a[0],e=a[1]}var i=null;n||(i=new u(e.getJsonElement())),t(n,i)})}else t(J.error,null)},a)}},{key:"translateUserMessage",value:function(e,t,n){var r,a=this,i=F.get(this._iid),s=i.BaseMessage,o=i.UserMessage,u=v(J.parse(arguments,[new J({type:o,constraint:function(e){return e.channelUrl===a.url&&e.requestState===s.MessageRequestState.SUCCEEDED}}),new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),4);return r=u[0],e=u[1],t=u[2],n=u[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.translateUserMessage({channelUrl:a.url,isOpenChannel:a.isOpenChannel(),messageId:e.messageId,translationTargetLanguages:t},function(e,t){var r=null;e||(r=new o(t)),n(e,r)})},n)}},{key:"_parseFileMessageArguments",value:function(e){var t=F.get(this._iid),n=t.BaseMessageParams,r=t.FileMessageParams,a=t.MessageMetaArray,i={error:null,file:null,name:null,type:null,size:null,data:"",customType:"",thumbnailSizes:[],metaArrays:[],mentionType:n.MentionType.USERS,mentionedUserIds:[],pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,progressHandler:null,callback:null};if("function"==typeof e[e.length-1]&&(i.callback=e.pop()),"function"==typeof e[e.length-1]&&(i.progressHandler=e.pop()),e[0]instanceof r){if(i.file=e[0].file||e[0].fileUrl,i.name=e[0].fileName,i.type=e[0].mimeType,i.size=e[0].fileSize,i.data=e[0].data,i.customType=e[0].customType,i.thumbnailSizes=e[0].thumbnailSizes,Array.isArray(e[0].metaArrayKeys))for(var s=0;s<e[0].metaArrayKeys.length;s++){var o=e[0].metaArrayKeys[s];"string"==typeof o&&i.metaArrays.push(new a(o,[]))}i.mentionType=e[0]._mentionType,i.mentionedUserIds=e[0]._mentionedUserIds,i.pushNotificationDeliveryOption=e[0].pushNotificationDeliveryOption?e[0].pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,e[0]._validate()||(i.error=J.error)}else if(z.isFile(e[0])||"string"==typeof e[0]){switch(i.file=e[0],e.length){case 1:break;case 2:i.data=e[1];break;case 3:i.data=e[1],i.customType=e[2];break;case 4:i.data=e[1],i.customType=e[2],i.thumbnailSizes=e[3];break;case 5:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4];break;case 6:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4],i.customType=e[5];break;case 7:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4],i.customType=e[5],i.thumbnailSizes=e[6]}var u=v(J.parse([i.file,i.name,i.type,i.size,i.data,i.customType,i.thumbnailSizes],[new J({type:["file","string"]}),new J({type:"string",nullable:!0}),new J({type:"string",nullable:!0}),new J({type:"number",nullable:!0,constraint:function(e){return 0<=e}}),new J({type:"string",nullable:!0}),new J({type:"string",nullable:!0}),new J({type:"array"})]),8);i.error=u[0],i.file=u[1],i.name=u[2],i.type=u[3],i.size=u[4],i.data=u[5],i.customType=u[6],i.thumbnailSizes=u[7]}else i.error=J.error;return z.isFile(i.file)&&(i.name=i.name||i.file.name,i.type=i.type||i.file.type,i.size=i.size||i.file.size),i}},{key:"_createTempFileMessage",value:function(e){try{var t=gt.getInstance(this._iid),n=F.get(this._iid),r=n.Command,a=n.BaseMessage,i=n.FileMessage;return new i(i.build(r.generateRequestId(),0,t.currentUser,this,"string"==typeof e.file?e.file:"",e.name,e.type,e.size,e.data,e.customType,!1,(new Date).getTime(),e.thumbnailSizes.map(function(e){return{url:"",width:e.maxWidth,height:e.maxHeight,real_width:0,real_height:0}}),e.requireAuth,null,e.metaArrays,e.mentionType,null,e.mentionedUserIds,a.MessageRequestState.PENDING))}catch(e){return null}}},{key:"sendFileMessage",value:function(){var e=this._parseFileMessageArguments(J.toArray(arguments)),t=null,n=F.get(this._iid).Command.generateRequestId();e.error||((t=this._createTempFileMessage(e)).requestedMentionUserIds=e.mentionedUserIds,n=t.reqId);var r=gt.getInstance(this._iid);r&&r.currentUser||(e.error=new R("Connection should be made first.",R.CONNECTION_REQUIRED));var a=F.get(this._iid).FileMessageQueue;return a.create(this).addJob(new a.Job({fileInfo:e,pendingMessage:t,requestId:n,error:e.error,response:null})),t}},{key:"sendFileMessages",value:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:{},a=r.progress?r.progress:function(){},i=r.sent?r.sent:function(){},s=r.complete?r.complete:function(){};if(Array.isArray(e)&&0<e.length&&e.length<=20){var o=[];return e.forEach(function(t,r){o.push(n.sendFileMessage(t,a,function(t,n){i(t,n),r===e.length-1&&s(null)}))}),o}return s(J.error),null}},{key:"resendFileMessage",value:function(e,t,n){var r=this,a=F.get(this._iid),i=a.FileMessage,s=a.FileMessageParams,o=null,u=v(J.parse(arguments,[new J({type:i,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===r.url&&"string"==typeof e.data&&"string"==typeof e.customType&&Array.isArray(e.thumbnails)}}),new J({type:"file",optionalIf:function(e){return!!e[0].url},defaultValue:null}),new J({type:"callback"})]),4);return o=u[0],e=u[1],t=u[2],n=u[3],ne(this._iid,function(n){if(o)o.message+=" Please check if the failed message is resend-able with `message.isResendable().`",n(o,null);else{var a=new s;e.url?a.fileUrl=e.url:a.file=t,a.fileName=e.name,a.fileSize=e.size,a.mimeType=e.type,a.data=e.data,a.customType=e.customType,a.mentionType=e.mentionType,a.mentionedUserIds=e.requestedMentionUserIds,a.metaArrayKeys=e.metaArrays.map(function(e){return e.key}),a.thumbnailSizes=e.thumbnails.map(function(e){return{maxWidth:e.width,maxHeight:e.height}}),r.sendFileMessage(a,n)}},n)}},{key:"updateFileMessage",value:function(e,t,n,r){var a=this,i=F.get(this._iid),s=i.Command,o=i.FileMessage,u=i.FileMessageParams,c=arguments,d=null,h=null;if("number"==typeof e)switch(c.length){case 3:var f=v(J.parse(c,[new J({type:"number"}),new J({type:u}),new J({type:"callback"})]),4);d=f[0],e=f[1],h=f[2],r=f[3],h&&(h._isUpdate=!0);break;case 4:h=new u;var p=v(J.parse(c,[new J({type:"number"}),new J({type:"string",nullable:!0}),new J({type:"string",nullable:!0}),new J({type:"callback"})]),5);d=p[0],e=p[1],t=p[2],n=p[3],r=p[4],h.data=t,h.customType=n,h._isUpdate=!0}return ne(this._iid,function(t){if(!d&&h&&h._validate()){var n=s.bUpdateFileMessage(l({channelUrl:a.url,messageId:e},h,{mentionType:h._mentionType,mentionedUserIds:h._mentionedUserIds})),r=gt.getInstance(a._iid);r.sendCommand(n,function(e,n){if(r.getErrorFirstCallback()){var a=[e,n];n=a[0],e=a[1]}var i=null;n||(i=new o(e.getJsonElement())),t(n,i)})}else t(J.error,null)},r)}},{key:"cancelUploadingFileMessage",value:function(e,t){var n,r=v(J.parse(arguments,[new J({type:["number","string"]}),new J({type:"callback"})]),3);n=r[0],e=r[1],t=r[2];var a=O.get(this._iid).container.isErrorFirstInCallback;return n?(a?t(n,null):t(null,n),!1):F.get(this._iid).FileMessageQueue.create(this).cancelUploadItemByRequestId(e,function(e,n){return a?t(e,n):t(n,e)})}},{key:"addReaction",value:function(e,t,n){var r,a=this,i=F.get(this._iid).ReactionEvent,s=v(J.parse(arguments,[new J({type:ae}),new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),4);return r=s[0],e=s[1],t=s[2],n=s[3],ne(this._iid,function(n){r?n(r,null):e.requestState===ae.MessageRequestState.SUCCEEDED?O.get(a._iid).container.apiClient.addReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:t},function(t,r){var a=null;t||(r.success?(r.msg_id=e.messageId,a=i.createFromJson(r)):t=new R("The reaction is already added.",R.REQUEST_DUPLICATED)),n(t,a)}):n(new R("Cannot add reaction to a non-succeeded message.",R.REQUEST_FAILED),null)},n)}},{key:"deleteReaction",value:function(e,t,n){var r,a=this,i=F.get(this._iid).ReactionEvent,s=v(J.parse(arguments,[new J({type:ae}),new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),4);return r=s[0],e=s[1],t=s[2],n=s[3],ne(this._iid,function(n){r?n(r,null):e.requestState===ae.MessageRequestState.SUCCEEDED?O.get(a._iid).container.apiClient.deleteReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:t},function(t,r){var a=null;t||(r.success?(r.msg_id=e.messageId,a=i.createFromJson(r)):t=new R("The reaction is not found.",R.REQUEST_DUPLICATED)),n(t,a)}):n(new R("Cannot remove reaction to a non-succeeded message.",R.REQUEST_FAILED),null)},n)}},{key:"deleteMessage",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return!Array.isArray(e)&&null!==e&&e.hasOwnProperty("messageId")}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.deleteMessage({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),messageId:e.messageId},function(e,n){return t(e,null)})},t)}},{key:"getMetaCounters",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.getMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),keys:e},function(e,n){return t(e,n)})},t)}},{key:"getAllMetaCounters",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getMetaCounters({channelUrl:t.url,isOpenChannel:t.isOpenChannel(),keys:[]},function(t,n){return e(t,n)})},e)}},{key:"createMetaCounters",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.createMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e},function(e,n){return t(e,n)})},t)}},{key:"updateMetaCounters",value:function(e,t,n){var r,a=this,i=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"callback"})]),4);return r=i[0],e=i[1],t=i[2],n=i[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.updateMetaCounters({channelUrl:a.url,isOpenChannel:a.isOpenChannel(),metaCounter:e,upsert:t,mode:"set"},function(e,t){return n(e,t)})},n)}},{key:"increaseMetaCounters",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.updateMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e,upsert:!1,mode:"increase"},function(e,n){return t(e,n)})},t)}},{key:"decreaseMetaCounters",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"number"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.updateMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e,upsert:!1,mode:"decrease"},function(e,n){var r=null;if(!e)for(var a in r={},n)r[a]=n[a];t(e,r)})},t)}},{key:"deleteMetaCounter",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.deleteMetaCounter({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),key:e},function(e,n){return t(e,n)})},t)}},{key:"deleteAllMetaCounters",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.deleteAllMetaCounters({channelUrl:t.url,isOpenChannel:t.isOpenChannel()},function(t,n){return e(t,n)})},e)}},{key:"getMetaData",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.getMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),keys:e},function(e,n){return t(e,n)})},t)}},{key:"getAllMetaData",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getMetaData({channelUrl:t.url,isOpenChannel:t.isOpenChannel(),keys:[]},function(t,n){return e(t,n)})},e)}},{key:"createMetaData",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.createMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaData:e},function(e,n){return t(e,n)})},t)}},{key:"updateMetaData",value:function(e,t,n){var r,a=this,i=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map(function(t){return e[t]}).every(function(e){return"string"==typeof e})}}),new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"callback"})]),4);return r=i[0],e=i[1],t=i[2],n=i[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.updateMetaData({channelUrl:a.url,isOpenChannel:a.isOpenChannel(),metaData:e,upsert:t},function(e,t){return n(e,t)})},n)}},{key:"deleteMetaData",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.deleteMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),key:e},function(e,n){return t(e,n)})},t)}},{key:"deleteAllMetaData",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.deleteAllMetaData({channelUrl:t.url,isOpenChannel:t.isOpenChannel()},function(t,n){return e(t,n)})},e)}},{key:"_updateMessageMetaArray",value:function(e,t,n,r){var a=this;return ne(this._iid,function(r){var i=F.get(a._iid),s=i.Command,o=i.UserMessage,u=i.FileMessage,l=i.AdminMessage,c=null;if(t.isUserMessage()?c=s.bUpdateUserMessage({channelUrl:e,messageId:t.messageId,metaArrayParams:n}):t.isFileMessage()&&(c=s.bUpdateFileMessage({channelUrl:e,messageId:t.messageId,metaArrayParams:n})),c){var d=gt.getInstance(a._iid);d.sendCommand(c,function(e,n){if(d.getErrorFirstCallback()){var a=[e,n];n=a[0],e=a[1]}var i=null;n||(t.isUserMessage()?i=new o(e.getJsonElement()):t.isFileMessage()?i=new u(e.getJsonElement()):t.isAdminMessage()&&(i=new l(e.getJsonElement()))),r(n,i)})}else r(J.error,null)},r)}},{key:"createMessageMetaArrayKeys",value:function(e,t,n){var r,a=F.get(this._iid).MessageMetaArray,i=v(J.parse(arguments,[new J({type:ae}),new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e&&""!==e})}}),new J({type:"callback"})]),4);if(r=i[0],e=i[1],t=i[2],n=i[3],r)return ne(this._iid,function(e){e(r,null)},n);var s=[];if(Array.isArray(t))for(var o=0;o<t.length;o++){var u=t[o];s.push(new a(u,[]))}return this._updateMessageMetaArray(this.url,e,{array:s.map(function(e){return e.encode()}),mode:"add",upsert:!0},n)}},{key:"deleteMessageMetaArrayKeys",value:function(e,t,n){var r,a=F.get(this._iid).MessageMetaArray,i=v(J.parse(arguments,[new J({type:ae}),new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e&&""!==e})}}),new J({type:"callback"})]),4);if(r=i[0],e=i[1],t=i[2],n=i[3],r)return ne(this._iid,function(e){e(r,null)},n);var s=[];if(Array.isArray(t))for(var o=0;o<t.length;o++){var u=t[o];s.push(new a(u,[]))}return this._updateMessageMetaArray(this.url,e,{array:s.map(function(e){return e.encode()}),mode:"remove",upsert:!0},n)}},{key:"addMessageMetaArrayValues",value:function(e,t,n){var r,a=F.get(this._iid).MessageMetaArray,i=v(J.parse(arguments,[new J({type:ae}),new J({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&e.every(function(e){return e instanceof a})||Object.keys(e).every(function(t){return Array.isArray(e[t])&&e[t].every(function(e){return"string"==typeof e&&0<e.length})}))}}),new J({type:"callback"})]),4);if(r=i[0],e=i[1],t=i[2],n=i[3],r)return ne(this._iid,function(e){e(r,null)},n);var s=Array.isArray(t)?t.map(function(e){return e.encode()}):Object.keys(t).map(function(e){return{key:e,value:t[e]}});return this._updateMessageMetaArray(this.url,e,{array:s,mode:"add",upsert:!0},n)}},{key:"removeMessageMetaArrayValues",value:function(e,t,n){var r,a=F.get(this._iid).MessageMetaArray,i=v(J.parse(arguments,[new J({type:ae}),new J({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&e.every(function(e){return e instanceof a})||Object.keys(e).every(function(t){return Array.isArray(e[t])&&e[t].every(function(e){return"string"==typeof e&&0<e.length})}))}}),new J({type:"callback"})]),4);if(r=i[0],e=i[1],t=i[2],n=i[3],r)return ne(this._iid,function(e){e(r,null)},n);var s=Array.isArray(t)?t.map(function(e){return e.encode()}):Object.keys(t).map(function(e){return{key:e,value:t[e]}});return this._updateMessageMetaArray(this.url,e,{array:s,mode:"remove",upsert:!0},n)}},{key:"report",value:function(e,t,n){var r,a=this,i=F.get(this._iid).BaseChannel,s=v(J.parse(arguments,[new J({type:i.ReportCategory}),new J({type:"string"}),new J({type:"callback"})]),4);return r=s[0],e=s[1],t=s[2],n=s[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.report({channelUrl:a.url,isOpenChannel:a.isOpenChannel(),reportCategory:e,reportingUserId:gt.getInstance(a._iid).currentUser.userId,reportDescription:t},function(e,t){n(e,null)})},n)}},{key:"reportUser",value:function(e,t,n,r){var a,i=this,s=F.get(this._iid).BaseChannel,o=v(J.parse(arguments,[new J({type:ce}),new J({type:s.ReportCategory}),new J({type:"string"}),new J({type:"callback"})]),5);return a=o[0],e=o[1],t=o[2],n=o[3],r=o[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.reportUser({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),reportCategory:t,offendingUserId:e.userId,reportingUserId:gt.getInstance(i._iid).currentUser.userId,reportDescription:n},function(e,t){r(e,null)})},r)}},{key:"reportMessage",value:function(e,t,n,r){var a,i=this,s=F.get(this._iid).BaseChannel,o=v(J.parse(arguments,[new J({type:ae}),new J({type:s.ReportCategory}),new J({type:"string"}),new J({type:"callback"})]),5);return a=o[0],e=o[1],t=o[2],n=o[3],r=o[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.reportMessage({messageId:e.messageId,channelUrl:i.url,isOpenChannel:i.isOpenChannel(),reportCategory:t,offendingUserId:e.sender.userId,reportingUserId:gt.getInstance(i._iid).currentUser.userId,reportDescription:n},function(e,t){r(e,null)})},r)}}],[{key:"buildMessage",value:function(e,t){var n=F.get(this._iid),r=n.Sender,a=n.UserMessage,i=n.FileMessage,s=n.AdminMessage,o=n.BaseMessageParams,u=n.MessageMetaArray;if(e)switch(e.type){case"MESG":return new a(a.build(e.req_id,parseInt(e.message_id),new r(e.user),t,e.message,e.data||"",e.custom_type||"",e.translations||{},e.is_global_block||!1,parseInt(e.created_at),parseInt(e.updated_at),e.sorted_metaarray?e.sorted_metaarray.map(function(e){return new u(e.key,e.value||[])}):[],e.reactions,e.mention_type||o.MentionType.USERS,e.mentioned_users||[]));case"FILE":var l=e.file;return new i(i.build(e.req_id,parseInt(e.message_id),new r(e.user),t,String(l.url),String(l.name),String(l.type),parseInt(l.size)||0,l.data||"",e.custom_type||"",e.is_global_block||!1,parseInt(e.created_at),e.thumbnails||[],e.require_auth||!1,parseInt(e.updated_at),e.sorted_metaarray?e.sorted_metaarray.map(function(e){return new u(e.key,e.value||[])}):[],e.reactions,e.mention_type||o.MentionType.USERS,e.mentioned_users||[]));case"BRDM":case"ADMM":return new s(s.build(parseInt(e.message_id),t,e.message,e.data||"",e.custom_type||"",e.translations||{},parseInt(e.created_at),parseInt(e.updated_at),e.sorted_metaarray?e.sorted_metaarray.map(function(e){return new u(e.key,e.value||[])}):[],e.reactions,e.mention_type||o.MentionType.USERS,e.mentioned_users||[]))}return null}},{key:"CHANNEL_TYPE_OPEN",get:function(){return"open"}},{key:"CHANNEL_TYPE_GROUP",get:function(){return"group"}},{key:"CHANNEL_TYPE_BASE",get:function(){return"base"}},{key:"MessageTypeFilter",get:function(){return{ALL:"",USER:"MESG",FILE:"FILE",ADMIN:"ADMM"}}},{key:"ReportCategory",get:function(){return{SPAM:"spam",HARASSING:"harassing",SUSPICIOUS:"suspicious",INAPPROPRIATE:"inappropriate"}}}]),e}(),fe=function(){function e(t){a(this,e),t&&(this.category=t.hasOwnProperty("cat")?parseInt(t.cat):0,this.data=t.hasOwnProperty("data")?t.data:null,this.channelUrl=t.hasOwnProperty("channel_url")?String(t.channel_url):"",this.channelType=t.hasOwnProperty("channel_type")?String(t.channel_type):he.CHANNEL_TYPE_GROUP)}return s(e,[{key:"isGroupChannel",value:function(){return this.channelType===he.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){return this.channelType===he.CHANNEL_TYPE_OPEN}}]),e}();function pe(e){a(this,pe),e&&(this.category=e.hasOwnProperty("cat")?parseInt(e.cat):0)}fe.CATEGORY_NONE=0,fe.CATEGORY_CHANNEL_ENTER=10102,fe.CATEGORY_CHANNEL_EXIT=10103,fe.CATEGORY_USER_CHANNEL_MUTE=10201,fe.CATEGORY_USER_CHANNEL_UNMUTE=10200,fe.CATEGORY_USER_CHANNEL_BAN=10601,fe.CATEGORY_USER_CHANNEL_UNBAN=10600,fe.CATEGORY_CHANNEL_FREEZE=10701,fe.CATEGORY_CHANNEL_UNFREEZE=10700,fe.CATEGORY_TYPING_START=10900,fe.CATEGORY_TYPING_END=10901,fe.CATEGORY_CHANNEL_JOIN=1e4,fe.CATEGORY_CHANNEL_LEAVE=10001,fe.CATEGORY_CHANNEL_INVITE=10020,fe.CATEGORY_CHANNEL_DECLINE_INVITE=10022,fe.CATEGORY_CHANNEL_PROP_CHANGED=11e3,fe.CATEGORY_CHANNEL_DELETED=12e3,fe.CATEGORY_CHANNEL_META_DATA_CHANGED=11100,fe.CATEGORY_CHANNEL_META_COUNTERS_CHANGED=11200,fe.CATEGORY_CHANNEL_HIDE=13e3,fe.CATEGORY_CHANNEL_UNHIDE=13001,pe.CATEGORY_USER_BLOCK=20001,pe.CATEGORY_USER_UNBLOCK=2e4,pe.CATEGORY_FRIEND_DISCOVERED=20900;var ye=function(){function e(t){a(this,e),this.sb=t,this.cls=F.get(this.sb._iid)}return s(e,[{key:"onRawCommandReceived",value:function(e){var t=this,n=this.cls,a=n.Command,i=n.User,s=n.Member,o=n.BaseChannel,u=n.GroupChannel,l=n.OpenChannel,c=n.UserMessage,d=n.FileMessage,h=n.AdminMessage,f=n.BaseMessageParams,p=n.ReactionEvent,y=n.ReadStatus,m=O.get(this.sb._iid),g=m.container,_=g.pinger,v=g.auth,E=g.subscribedUnreadMessageCount,C=g.ackStateMap,b=new a(e),S=b.getJsonElement();if(S.hasOwnProperty("unread_cnt")&&"object"===r(S.unread_cnt)){var U=!1,A=S.unread_cnt.ts;if("number"==typeof A&&A>E.ts){if(E.all!==S.unread_cnt.all&&(U=!0),E.all=0<=S.unread_cnt.all?S.unread_cnt.all:0,S.unread_cnt.custom_types)for(var N in S.unread_cnt.custom_types)E.custom_types[N]!==S.unread_cnt.custom_types[N]&&(U=!0),E.custom_types[N]=S.unread_cnt.custom_types[N];U=U&&0<E.ts,E.ts=A}if(U)for(var M in this.sb.userEventHandlers)this.sb.userEventHandlers[M].onTotalUnreadMessageCountUpdated(E.all,E.custom_types)}var I=b.requestId;if(I){var w=C[I];if(w){clearTimeout(w.timer);var k=w.handler;k&&("EROR"===b.command?k(new R(S.message,S.code),null):k(null,b)),C.hasOwnProperty(I)&&delete C[I]}}else switch(_&&"LOGI"!==b.command&&_.start(),b.command){case"LOGI":this.sb.loginTimer&&(clearTimeout(this.sb.loginTimer),this.sb.loginTimer=null,this.sb.onLoginTimerCancel=null,S.hasOwnProperty("error")?(this.sb.isSessionOpened=!1,this.sb.loginHandler(new R(S.message,S.code),null)):(this.sb.isSessionOpened=!0,S.hasOwnProperty("key")&&(v.sessionKey=S.key),S.hasOwnProperty("ekey")&&(v.eKey=S.ekey),S.hasOwnProperty("user_id")&&(this.sb.currentUser=new i(S)),"number"==typeof S.ping_interval&&0<S.ping_interval&&m.set("pingInterval",1e3*S.ping_interval),"number"==typeof S.pong_timeout&&0<S.pong_timeout&&m.set("pongTimeout",1e3*S.pong_timeout),"number"==typeof S.login_ts&&m.set("connectedAt",1e3*S.login_ts),"number"==typeof S.max_unread_cnt_on_super_group?m.set("maxUnreadCountOfSuperGroupChannel",S.max_unread_cnt_on_super_group):m.set("maxUnreadCountOfSuperGroupChannel",1),_&&_.start(),this.sb.loginHandler(null,this.sb.currentUser)),this.sb.connecting=!1,this.sb.reconnecting=!1);break;case"MESG":case"FILE":case"BRDM":case"ADMM":var T=null,L=!1,P=!1;if("MESG"===b.command?T=new c(S):"FILE"===b.command?T=new d(S):(T=new h(S),S.hasOwnProperty("silent")&&(P=S.silent)),S.hasOwnProperty("force_update_last_message")&&(L=S.force_update_last_message),T){var D=this.sb.currentUser.userId;if(T.isGroupChannel()){if("MESG"===b.command||"FILE"===b.command||"BRDM"===b.command){var H=a.bMessageAck({channelUrl:T.channelUrl,messageId:T.messageId});this.sb.sendCommand(H)}var F=u.cachedChannels.hasOwnProperty(T.channelUrl);u.getChannel(T.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){if(e.isHidden=!1,e.hiddenState=u.HiddenState.UNHIDDEN,u.cachedChannels[e.url]=e,T._sender&&e.memberMap.hasOwnProperty(T._sender.userId)){var a=e.memberMap[T._sender.userId];a.nickname!==T._sender.nickname&&(a.nickname=T._sender.nickname),a.profileUrl!==T._sender.profileUrl&&(a.profileUrl=T._sender.profileUrl),z.deepEqual(a.metaData,T._sender.metaData)||(a.metaData=T._sender.metaData),a.isBlockedByMe!==T._sender.isBlockedByMe&&(a.isBlockedByMe=T._sender.isBlockedByMe)}var i=t.sb.currentUser;i&&T._sender&&D===T._sender.userId&&(i.nickname!==T._sender.nickname&&(i.nickname=T._sender.nickname),i.profileUrl!==T._sender.profileUrl&&(i.profileUrl=T._sender.profileUrl),z.deepEqual(i.metaData,T._sender.metaData)||(i.metaData=T._sender.metaData));var s=!1;if(T.mentionType===f.MentionType.CHANNEL)T.sender&&T.sender.userId===D||(s=!0);else if(T.mentionType===f.MentionType.USERS)for(var o=0;o<T.mentionedUsers.length;o++)if((!T.sender||T.sender.userId!==D)&&T.mentionedUsers[o].userId===D){s=!0;break}if(!z.isVideoChatSignalingMessage(T)&&(P||(e.isEphemeral?((!e.lastMessage||e.lastMessage.createdAt<T.createdAt)&&(e.lastMessage=T),T.sender&&T.sender.userId===D||e._setGroupChannelUnreadCount(e.unreadMessageCount+1,e.unreadMentionCount+(s?1:0))):F&&((!e.lastMessage||e.lastMessage.createdAt<T.createdAt)&&(e.lastMessage=T),T.sender&&T.sender.userId===D||e._setGroupChannelUnreadCount(e.unreadMessageCount+1,e.unreadMentionCount+(s?1:0)))),L&&(!e.lastMessage||e.lastMessage.createdAt<T.createdAt)&&(e.lastMessage=T),!P))for(var l in t.sb.channelHandlers)t.sb.channelHandlers[l].onChannelChanged(e);for(var c in t.sb.channelHandlers){var d=t.sb.channelHandlers[c];d.onMessageReceived(e,T),s&&d.onMentionReceived(e,T)}}})}else T.isOpenChannel()&&l.getChannel(T.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var a=!1;if(T.mentionType===f.MentionType.CHANNEL)a=!0;else if(T.mentionType===f.MentionType.USERS)for(var i=0;i<T.mentionedUsers.length;i++)if(T.mentionedUsers[i].userId===D){a=!0;break}for(var s in t.sb.channelHandlers){var o=t.sb.channelHandlers[s];l.enteredChannels[e.url]&&o.onMessageReceived(e,T),a&&o.onMentionReceived(e,T)}}})}break;case"MEDI":case"FEDI":case"AEDI":var G=null,j=!1;if("MEDI"===b.command?G=new c(S):"FEDI"===b.command?G=new d(S):(G=new h(S),S.hasOwnProperty("silent")&&(j=S.silent)),G){var B=this.sb.currentUser.userId;if(G.isGroupChannel()){var q=u.cachedChannels.hasOwnProperty(G.channelUrl);u.getChannel(G.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var a=e.cachedReadReceiptStatus[B],i=a&&a>=G.createAt,s=t.sb.currentUser;s&&G._sender&&s.userId===G._sender.userId&&(s.nickname!==G._sender.nickname&&(s.nickname=G._sender.nickname),s.profileUrl!==G._sender.profileUrl&&(s.profileUrl=G._sender.profileUrl),z.deepEqual(s.metaData,G._sender.metaData)||(s.metaData=G._sender.metaData));var o=!1;if((!G.sender||G.sender.userId!==B)&&!i&&S&&S.hasOwnProperty("old_values")){var u=S.old_values.mention_type||G.mentionType,l=S.old_values.mentioned_user_ids||G.mentionedUsers.map(function(e){return e.userId});if(u===f.MentionType.USERS&&G.mentionType===f.MentionType.USERS){for(var c=!1,d=!1,h=0;h<l.length;h++)if(l[h]===B){c=!0;break}for(var p=0;p<G.mentionedUsers.length;p++)if(G.mentionedUsers[p].userId===B){d=!0;break}!c&&d&&(o=!0,q&&e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1))}else if(u===f.MentionType.USERS&&G.mentionType===f.MentionType.CHANNEL){for(var y=!1,m=0;m<l.length;m++)if(l[m]===B){y=!0;break}y||(o=!0,q&&e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1))}}var g=!1;if(e.lastMessage&&e.lastMessage.messageId===G.messageId&&(q?e.lastMessage.updatedAt<G.updatedAt&&(e.lastMessage=G,g=!0):g=!0),!j&&(g||o))for(var _ in t.sb.channelHandlers)t.sb.channelHandlers[_].onChannelChanged(e);for(var v in t.sb.channelHandlers){var E=t.sb.channelHandlers[v];E.onMessageUpdated(e,G),o&&E.onMentionReceived(e,G)}}})}else G.isOpenChannel()&&l.getChannel(G.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n)for(var a in t.sb.channelHandlers)t.sb.channelHandlers[a].onMessageUpdated(e,G)})}break;case"DELM":var W=String(S.channel_type),Q=String(S.channel_url),V=String(S.msg_id);switch(W){case o.CHANNEL_TYPE_GROUP:u.getChannel(Q,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command);else for(var a in t.sb.channelHandlers)t.sb.channelHandlers[a].onMessageDeleted(e,V)});break;case o.CHANNEL_TYPE_OPEN:l.getChannel(Q,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command);else for(var a in t.sb.channelHandlers)t.sb.channelHandlers[a].onMessageDeleted(e,V)})}break;case"READ":var K=new y(S),Y=u.cachedChannels.hasOwnProperty(K.channelUrl);u.getChannel(K.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n)if(Y&&e.updateReadReceipt(K.reader.userId,K.timestamp),K.reader.userId===t.sb.currentUser.userId){if(Y){if(0<e.unreadMessageCount||0<e.unreadMentionCount)for(var a in e._setGroupChannelUnreadCount(0,0),t.sb.channelHandlers)t.sb.channelHandlers[a].onChannelChanged(e)}else if(0===e.unreadMessageCount||0===e.unreadMentionCount)for(var i in t.sb.channelHandlers)t.sb.channelHandlers[i].onChannelChanged(e)}else for(var s in t.sb.channelHandlers)t.sb.channelHandlers[s].onReadReceiptUpdated(e)});break;case"MRCT":var J=String(S.channel_type),Z=String(S.channel_url),X=p.createFromJson(S);switch(J){case o.CHANNEL_TYPE_GROUP:u.getChannel(Z,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command);else for(var a in t.sb.channelHandlers)t.sb.channelHandlers[a].onReactionUpdated(e,X)});break;case o.CHANNEL_TYPE_OPEN:l.getChannel(Z,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command);else for(var a in t.sb.channelHandlers)t.sb.channelHandlers[a].onReactionUpdated(e,X)})}break;case"DLVR":var $=String(S.channel_url),ee=S.hasOwnProperty("updated")?S.updated:null,te=u.cachedChannels.hasOwnProperty($);u.getChannel($,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(!n){var a=!1;for(var i in ee)t.sb.currentUser&&i===t.sb.currentUser.userId&&(a=!0),te&&e.updateDeliveryReceipt(i,parseInt(ee[i]));if(u.cachedChannels[e.url]=e,!a||1!==Object.keys(ee).length)for(var s in t.sb.channelHandlers)t.sb.channelHandlers[s].onDeliveryReceiptUpdated(e)}});break;case"SYEV":var ne=new fe(S);switch(ne.category){case fe.CATEGORY_CHANNEL_JOIN:case fe.CATEGORY_CHANNEL_LEAVE:u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=ne.data.hasOwnProperty("member_count")?ne.data.member_count:null,o=ne.data.hasOwnProperty("joined_member_count")?ne.data.joined_member_count:null;if(ne.category===fe.CATEGORY_CHANNEL_JOIN)(ne.data.hasOwnProperty("users")?ne.data.users:[ne.data]).forEach(function(n){e.isSuper?e.setLatestMemberCount(a,o,S.ts):(n.state=s.JOINED,e.addMember(new s(n)),e.updateJoinedMemberCount());var r=new i(n);for(var l in t.sb.currentUser&&r.userId===t.sb.currentUser.userId&&(e.myMemberState="joined",u.cachedChannels[e.url]=e),t.sb.channelHandlers)t.sb.channelHandlers[l].onUserJoined(e,r)});else{var l=new i(ne.data);for(var c in t.sb.currentUser&&l.userId===t.sb.currentUser.userId?(e.isPublic||u.removeCachedChannel(ne.channelUrl),e.myMemberState="none",e.invitedAt=0,e._setGroupChannelUnreadCount(0,0)):u.cachedChannels[e.url]=e,e.isSuper?e.setLatestMemberCount(a,o,S.ts):(e.removeMember(l),e.updateJoinedMemberCount()),t.sb.channelHandlers)t.sb.channelHandlers[c].onUserLeft(e,l)}}});break;case fe.CATEGORY_CHANNEL_INVITE:u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=null;ne.data&&ne.data.inviter&&0<Object.keys(ne.data.inviter).length&&(a=new i(ne.data.inviter));for(var o=[],l=0;l<ne.data.invitees.length;l++){var c=new i(ne.data.invitees[l]);o.push(c),ne.data.invitees[l].state=s.INVITED;var d=new s(ne.data.invitees[l]);if(e.isSuper){var h=ne.data.hasOwnProperty("member_count")?ne.data.member_count:null,f=ne.data.hasOwnProperty("joined_member_count")?ne.data.joined_member_count:null;e.setLatestMemberCount(h,f,S.ts)}else e.addMember(d);t.sb.currentUser&&d.userId===t.sb.currentUser.userId&&(e.isHidden=!1,"joined"!==e.myMemberState&&(e.myMemberState="invited"),e.invitedAt=S.ts,u.cachedChannels[e.url]=e)}for(var p in t.sb.channelHandlers)t.sb.channelHandlers[p].onUserReceivedInvitation(e,a,o)}});break;case fe.CATEGORY_CHANNEL_DECLINE_INVITE:u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=null;ne.data&&ne.data.inviter&&0<Object.keys(ne.data.inviter).length&&(a=new i(ne.data.inviter));var s=new i(ne.data.invitee);if(t.sb.currentUser&&s.userId===t.sb.currentUser.userId&&(e.invitedAt=0,e.myMemberState="none",e.isPublic||u.removeCachedChannel(ne.channelUrl)),e.isSuper){var o=ne.data.hasOwnProperty("member_count")?ne.data.member_count:null,l=ne.data.hasOwnProperty("joined_member_count")?ne.data.joined_member_count:null;e.setLatestMemberCount(o,l,S.ts)}else e.removeMember(s);for(var c in t.sb.currentUser&&s.userId!==t.sb.currentUser.userId&&(u.cachedChannels[e.url]=e),t.sb.channelHandlers)t.sb.channelHandlers[c].onUserDeclinedInvitation(e,a,s)}});break;case fe.CATEGORY_TYPING_START:case fe.CATEGORY_TYPING_END:u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=new i(ne.data);for(var s in ne.category===fe.CATEGORY_TYPING_START?e.updateTypingStatus(a,!0):e.updateTypingStatus(a,!1),t.sb.channelHandlers)t.sb.channelHandlers[s].onTypingStatusUpdated(e)}});break;case fe.CATEGORY_CHANNEL_ENTER:case fe.CATEGORY_CHANNEL_EXIT:l.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{ne.data.hasOwnProperty("participant_count")&&(e.participantCount=ne.data.participant_count);var a=new i(ne.data);if(ne.category===fe.CATEGORY_CHANNEL_ENTER)for(var s in t.sb.channelHandlers)t.sb.channelHandlers[s].onUserEntered(e,a);else for(var o in t.sb.channelHandlers)t.sb.channelHandlers[o].onUserExited(e,a)}});break;case fe.CATEGORY_USER_CHANNEL_MUTE:case fe.CATEGORY_USER_CHANNEL_UNMUTE:ne.isOpenChannel()?l.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=new i(ne.data);if(ne.category===fe.CATEGORY_USER_CHANNEL_MUTE)for(var s in t.sb.channelHandlers)t.sb.channelHandlers[s].onUserMuted(e,a);else for(var o in t.sb.channelHandlers)t.sb.channelHandlers[o].onUserUnmuted(e,a)}}):u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=new i(ne.data);if(t.sb.currentUser&&a.userId===t.sb.currentUser.userId&&(e.myMutedState=ne.category===fe.CATEGORY_USER_CHANNEL_MUTE?"muted":"unmuted"),ne.category===fe.CATEGORY_USER_CHANNEL_MUTE)for(var s in t.sb.channelHandlers)t.sb.channelHandlers[s].onUserMuted(e,a);else for(var o in t.sb.channelHandlers)t.sb.channelHandlers[o].onUserUnmuted(e,a)}});break;case fe.CATEGORY_USER_CHANNEL_BAN:case fe.CATEGORY_USER_CHANNEL_UNBAN:ne.isOpenChannel()?l.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=new i(ne.data);if(ne.category===fe.CATEGORY_USER_CHANNEL_BAN)for(var s in t.sb.currentUser&&a.userId===t.sb.currentUser.userId&&(delete l.enteredChannels[ne.channelUrl],t.cls.FileMessageQueue.delete(ne.channelUrl)),t.sb.channelHandlers)t.sb.channelHandlers[s].onUserBanned(e,a);else for(var o in t.sb.channelHandlers)t.sb.channelHandlers[o].onUserUnbanned(e,a)}}):u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=new i(ne.data);if(ne.category===fe.CATEGORY_USER_CHANNEL_BAN){if(t.sb.currentUser&&a.userId===t.sb.currentUser.userId&&(e.isPublic||u.removeCachedChannel(ne.channelUrl),e.myMemberState="none",e.invitedAt=0,e._setGroupChannelUnreadCount(0,0)),e.isSuper){var s=ne.data.hasOwnProperty("member_count")?ne.data.member_count:null,o=ne.data.hasOwnProperty("joined_member_count")?ne.data.joined_member_count:null;e.setLatestMemberCount(s,o,S.ts)}else e.removeMember(a),e.updateJoinedMemberCount();for(var l in t.sb.channelHandlers)t.sb.channelHandlers[l].onUserBanned(e,a)}else for(var c in t.sb.channelHandlers)t.sb.channelHandlers[c].onUserUnbanned(e,a)}});break;case fe.CATEGORY_CHANNEL_FREEZE:case fe.CATEGORY_CHANNEL_UNFREEZE:ne.isOpenChannel()?l.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else if(e.isFrozen=ne.data.freeze,l.cachedChannels[e.url]=e,ne.category===fe.CATEGORY_CHANNEL_FREEZE)for(var a in t.sb.channelHandlers)t.sb.channelHandlers[a].onChannelFrozen(e);else for(var i in t.sb.channelHandlers)t.sb.channelHandlers[i].onChannelUnfrozen(e)}):u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else if(e.isFrozen=ne.data.freeze,u.cachedChannels[e.url]=e,ne.category===fe.CATEGORY_CHANNEL_FREEZE)for(var a in t.sb.channelHandlers)t.sb.channelHandlers[a].onChannelFrozen(e);else for(var i in t.sb.channelHandlers)t.sb.channelHandlers[i].onChannelUnfrozen(e)});break;case fe.CATEGORY_CHANNEL_DELETED:for(var re in ne.isGroupChannel()?u.removeCachedChannel(ne.channelUrl):l.removeCachedChannel(ne.channelUrl),this.sb.channelHandlers)this.sb.channelHandlers[re].onChannelDeleted(ne.channelUrl,ne.isGroupChannel()?"group":"open");break;case fe.CATEGORY_CHANNEL_PROP_CHANGED:ne.isOpenChannel()?l.getChannelWithoutCache(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else for(var a in t.sb.channelHandlers)t.sb.channelHandlers[a].onChannelChanged(e)}):u.getChannelWithoutCache(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else{var a=e.unreadMessageCount,i=e.unreadMentionCount;for(var s in e.myCountPreference!==u.CountPreference.ALL&&(e.myCountPreference===u.CountPreference.UNREAD_MESSAGE_COUNT_ONLY?i=0:e.myCountPreference===u.CountPreference.UNREAD_MENTION_COUNT_ONLY?a=0:i=a=0),e._setGroupChannelUnreadCount(a,i),t.sb.channelHandlers)t.sb.channelHandlers[s].onChannelChanged(e)}});break;case fe.CATEGORY_CHANNEL_META_DATA_CHANGED:case fe.CATEGORY_CHANNEL_META_COUNTERS_CHANGED:var ae=ne.data.hasOwnProperty("created"),ie=ne.data.hasOwnProperty("updated"),se=ne.data.hasOwnProperty("deleted");ne.isOpenChannel()?l.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else for(var a in t.sb.channelHandlers){var i=t.sb.channelHandlers[a];ne.category===fe.CATEGORY_CHANNEL_META_DATA_CHANGED?(ae&&i.onMetaDataCreated(e,ne.data.created),ie&&i.onMetaDataUpdated(e,ne.data.updated),se&&i.onMetaDataDeleted(e,ne.data.deleted)):(ae&&i.onMetaCountersCreated(e,ne.data.created),ie&&i.onMetaCountersUpdated(e,ne.data.updated),se&&i.onMetaCountersDeleted(e,ne.data.deleted))}}):u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else for(var a in t.sb.channelHandlers){var i=t.sb.channelHandlers[a];ne.category===fe.CATEGORY_CHANNEL_META_DATA_CHANGED?(ae&&i.onMetaDataCreated(e,ne.data.created),ie&&i.onMetaDataUpdated(e,ne.data.updated),se&&i.onMetaDataDeleted(e,ne.data.deleted)):(ae&&i.onMetaCountersCreated(e,ne.data.created),ie&&i.onMetaCountersUpdated(e,ne.data.updated),se&&i.onMetaCountersDeleted(e,ne.data.deleted))}});break;case fe.CATEGORY_CHANNEL_HIDE:case fe.CATEGORY_CHANNEL_UNHIDE:u.getChannel(ne.channelUrl,function(e,n){if(t.sb.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n)x.debug("Discard command",b.command,ne.category);else if(ne.category===fe.CATEGORY_CHANNEL_HIDE)for(var a in e.isHidden=!0,ne.data&&(ne.data.hasOwnProperty("allow_auto_unhide")&&(e.hiddenState=ne.data.allow_auto_unhide?u.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:u.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE),ne.data.hasOwnProperty("hide_previous_messages")&&ne.data.hide_previous_messages&&e._setGroupChannelUnreadCount(0,0)),S.hasOwnProperty("ts_message_offset")&&(e._messageOffsetTimestamp=S.ts_message_offset),u.cachedChannels[e.url]=e,t.sb.channelHandlers)t.sb.channelHandlers[a].onChannelHidden(e);else for(var i in e.isHidden=!1,e.hiddenState=u.HiddenState.UNHIDDEN,u.cachedChannels[e.url]=e,t.sb.channelHandlers)t.sb.channelHandlers[i].onChannelChanged(e)})}break;case"USEV":var oe=new fe(S);switch(oe.category){case pe.CATEGORY_USER_BLOCK:case pe.CATEGORY_USER_UNBLOCK:var ue=oe.data.blocker.user_id,le=oe.data.blockee.user_id;Object.keys(u.cachedChannels).forEach(function(e){var n=u.cachedChannels[e];try{t.sb.currentUser&&(t.sb.currentUser.userId===ue?n.memberMap[le].isBlockedByMe=oe.category===pe.CATEGORY_USER_BLOCK:t.sb.currentUser.userId===le&&(n.memberMap[ue].isBlockingMe=oe.category===pe.CATEGORY_USER_BLOCK))}catch(e){}});break;case pe.CATEGORY_FRIEND_DISCOVERED:var ce=oe.data.friend_discoveries.map(function(e){return new i(e)});for(var de in this.sb.userEventHandlers)this.sb.userEventHandlers[de].onFriendsDiscovered(ce)}break;case"LEAV":case"JOIN":case"PONG":case"MTIO":case"TPST":case"TPEN":break;default:x.debug("Discard command",b.command)}}}]),e}(),me={},ge={},_e=function(){function e(t){a(this,e),this.channel=t,this.uploadQueue=[],this.messageQueue=[],this.latestTimestampToSendMessage=0,F.get(this._iid).FileMessageQueue.queueMap[t.url]=this}return s(e,[{key:"_handleMessageQueueUpdated",value:function(e){var t=this;switch(x.debug("fileMessageQueue message queue updated: ",this.messageQueue),e){case"add":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue();break;case"update":case"remove":if(0<this.messageQueue.length){var n=F.get(this._iid).FileMessageQueue,r=this.messageQueue[0];if(r)if(r.state===n.State.UPLOADED){if(r&&r.state===n.State.UPLOADED){for(r.state=n.State.SENDING,0===this.latestTimestampToSendMessage&&(this.latestTimestampToSendMessage=(new Date).getTime()-200);(new Date).getTime()-this.latestTimestampToSendMessage<200;);this.latestTimestampToSendMessage=(new Date).getTime(),this._sendUploadedMessage(r,function(e,a){r.state=n.State.SENT,r.error=e||null,r.response=a||null,t._handleMessageQueueUpdated("update")})}}else r.state===n.State.SENT&&this._finalizeMessage()}}}},{key:"_handleUploadQueueUpdated",value:function(e,t){var n=this;switch(x.debug("fileMessageQueue upload queue updated: ",this.uploadQueue),e){case"add":var r=F.get(this._iid).FileMessageQueue;t.state=r.State.UPLOADING,t.error?(-1<this.messageQueue.map(function(e){return e.requestId}).indexOf(t.requestId)&&(t.state=r.State.SENT,this._handleMessageQueueUpdated("update")),this._finalizeUpload(t.requestId)):this._uploadFile(t,function(e){t.error&&t.state===r.State.SENT||(t.state=r.State.UPLOADED),t.fileInfo=e,n._handleMessageQueueUpdated("update"),n._finalizeUpload(t.requestId)});break;case"update":break;case"remove":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue()}}},{key:"_moveFirstPendingMessageToUploadQueue",value:function(){var e=F.get(this._iid).FileMessageQueue,t=this.messageQueue.filter(function(t){return t.state===e.State.PENDING});if(0<t.length){var n=t[0];this.uploadQueue.push(n),this._handleUploadQueueUpdated("add",n)}}},{key:"_sendUploadedMessage",value:function(e,t){var n=F.get(this._iid),r=n.Command,a=n.FileMessage,i=e.fileInfo,s=r.bFile(l({},i,{requestId:e.requestId,channelUrl:this.channel.url,url:i.file,metaArrays:i.metaArrays})),o=gt.getInstance(this._iid),u=O.get(this._iid);o.getConnectionState()!==o.ConnectionState.OPEN&&o.currentUser&&!o.connecting?u.container.apiClient.sendFileMessage(l({channelUrl:this.channel.url,isOpenChannel:this.channel.isOpenChannel()},i,{fileUrl:i.file,fileName:i.name,fileSize:i.size,fileType:i.type,metaArrays:i.metaArrays}),function(e,n){var r=new a(e?s.getJsonElement():n);e&&(r.requestedMentionUserIds=i.mentionedUserIds),t(e,r)}):o.sendCommand(s,function(e,n){if(o.getErrorFirstCallback()){var r=[e,n];n=r[0],e=r[1]}if(n){var u=new a(s.getJsonElement());u.requestedMentionUserIds=i.mentionedUserIds,t(n,u)}else{var l=new a(e.getJsonElement());t(null,l)}})}},{key:"_uploadFile",value:function(e,t){var n=e.fileInfo,a=e.pendingMessage;if("string"!=typeof n.file&&n.file){var i=F.get(this._iid).FileMessageQueue;O.get(this._iid).container.apiClient.uploadFile(l({},n,{fileType:n.type,channelUrl:this.channel.url,reqId:a?a.reqId:null}),function(a,s){if(a)e.state=i.State.SENT,e.error=a,e.response=null,t(n);else{var o="object"===r(s)?s:JSON.parse(s);n.file=o.url,n.thumbnailSizes=o.hasOwnProperty("thumbnails")?o.thumbnails:[],n.requireAuth=!!o.hasOwnProperty("require_auth")&&o.require_auth,t(n)}})}else n.thumbnailSizes=[],n.requireAuth=!1,t(n)}},{key:"_finalizeUpload",value:function(e){var t=this.uploadQueue.map(function(e){return e.requestId}).indexOf(e);if(-1<t){var n=this.uploadQueue.splice(t,1);0<n.length&&this._handleUploadQueueUpdated("remove",n[0])}}},{key:"_finalizeMessage",value:function(){var e=this,t=O.get(this._iid).container.isErrorFirstInCallback,n=gt.getInstance(this._iid),r=F.get(this._iid),a=r.GroupChannel,i=r.BaseMessage,s=r.FileMessageQueue,o=this.messageQueue[0];if(o&&o.state===s.State.SENT){o.state=s.State.DONE;var u=o.response,l=o.error,c=o.fileInfo.callback;if(u&&!l){var d=n.currentUser;if(d&&u._sender&&d.userId===u._sender.userId&&(d.nickname!==u._sender.nickname&&(d.nickname=u._sender.nickname),d.profileUrl!==u._sender.profileUrl&&(d.profileUrl=u._sender.profileUrl)),this.channel.isGroupChannel())return void a.getChannel(this.channel.url,function(r,a){if(n.getErrorFirstCallback()){var i=[r,a];a=i[0],r=i[1]}if(a)t?c(null,u):c(u,null),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove");else{for(var s in r.lastMessage=u,n.channelHandlers)n.channelHandlers[s].onChannelChanged(r);t?c(a,u):c(u,a),e.messageQueue.shift(),e._handleMessageQueueUpdated("remove")}})}l&&(u=o.pendingMessage)&&(l.code!==R.INVALID_PARAMETER?(u.requestState=i.MessageRequestState.FAILED,u.requestedMentionUserIds=o.fileInfo.mentionedUserIds,u.errorCode=l.code):u=null),t?c(l,u):c(u,l),this.messageQueue.shift(),this._handleMessageQueueUpdated("remove")}}},{key:"addJob",value:function(e){this.messageQueue.push(e),this._handleMessageQueueUpdated("add")}},{key:"cancelUploadItemByRequestId",value:function(e,t){this._finalizeUpload(e);var n=this.messageQueue.map(function(e){return e.requestId}).indexOf(e);if(-1<n){var r=F.get(this._iid).FileMessageQueue,a=this.messageQueue[n];!a||a.state!==r.State.UPLOADING&&a.state!==r.State.PENDING||(a.state=r.State.SENT,a.response=null,a.error=new R("Uploading has been completed or canceled.",R.FILE_UPLOAD_CANCEL_FAILED),this._handleMessageQueueUpdated("update"));var i=r.uploadRequest[e];if(i)return i.upload.onabort=function(){t(null,!0)},i.isAbort=!0,i.abort(),!0;t(new R("Uploading has been completed or canceled.",R.FILE_UPLOAD_CANCEL_FAILED),!1)}else t(new R("Uploading has been completed or canceled.",R.FILE_UPLOAD_CANCEL_FAILED),!1);return!1}}],[{key:"getByChannelUrl",value:function(e){return F.get(this._iid).FileMessageQueue.queueMap[e]}},{key:"create",value:function(e){var t=F.get(this._iid).FileMessageQueue;return t.queueMap.hasOwnProperty(e.url)||(t.queueMap[e.url]=new t(e)),t.queueMap[e.url]}},{key:"delete",value:function(e){var t=F.get(this._iid).FileMessageQueue;t.queueMap.hasOwnProperty(e)&&delete t.queueMap[e]}},{key:"clear",value:function(){ge[this._iid]={}}},{key:"State",get:function(){return{PENDING:"pending",UPLOADING:"uploading",UPLOADED:"uploaded",SENDING:"sending",SENT:"sent",DONE:"done"}}},{key:"queueMap",get:function(){return ge[this._iid]||(ge[this._iid]={}),ge[this._iid]}},{key:"uploadRequest",get:function(){return me[this._iid]||(me[this._iid]={}),me[this._iid]}}]),e}();_e.Job=function e(t){var n=t.fileInfo,r=t.requestId,i=t.pendingMessage,s=t.state,o=t.error,u=void 0===o?null:o,l=t.response,c=void 0===l?null:l;a(this,e),this.fileInfo=n,this.requestId=r,this.pendingMessage=i,this.state=s||_e.State.PENDING,this.error=u,this.response=c};var ve=function(){function e(){a(this,e)}return s(e,null,[{key:"create",value:function(){return"".concat(parseInt(1e5*Math.random()),"-").concat((new Date).getTime())}}]),e}(),Ee=function(){function e(t){var n;return a(this,e),(n=m(this,d(e).call(this,t))).state="",n.isBlockedByMe=!1,n.isBlockingMe=!1,t&&n._update(t),n}return c(e,ce),s(e,[{key:"_update",value:function(e){this.state=e.state,e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me),e.hasOwnProperty("is_blocking_me")&&(this.isBlockingMe=e.is_blocking_me)}},{key:"parse",value:function(e){this._update(e)}}],[{key:"build",value:function(e,t,n,r){var a=e;return a.state=t,a.is_blocked_by_me=n||!1,a.is_blocking_me=r||!1,a}},{key:"buildFromSerializedData",value:function(e){var t=F.get(this._iid),n=t.User,r=t.Member,a=re.deserialize(e);return new r(r.build(n.build(a.userId,a.nickname,a.profileUrl,a.connectionStatus,a.lastSeenAt,a.metaData,a.isActive,a.friendDiscoveryKey,a.friendName),a.state,a.isBlockedByMe,a.isBlockingMe))}},{key:"JOINED",get:function(){return"joined"}},{key:"INVITED",get:function(){return"invited"}}]),e}();(b()||S())&&M(ce,Ee);var Ce=function(){function e(t){var n;return a(this,e),(n=m(this,d(e).call(this,t))).isBlockedByMe=!1,t&&n._update(t),n}return c(e,ce),s(e,[{key:"parse",value:function(e){this._update(e)}},{key:"_update",value:function(e){e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me)}}],[{key:"build",value:function(e,t){var n=e;return n.is_blocked_by_me=t||!1,n}},{key:"buildFromSerializedData",value:function(e){var t=F.get(this._iid),n=t.User,r=t.Sender,a=re.deserialize(e);return new r(r.build(n.build.apply(n,E(["userId","nickname","profileUrl","connectionStatus","lastSeenAt","metaData","isActive","friendDiscoveryKey","friendName"].map(function(e){return a[e]}))),a.isBlockedByMe))}}]),e}();(b()||S())&&M(ce,Ce);var be={},Se={},Ue=new w,Ae=new w,Ne=new w,Me=function(){function e(t){var n;return a(this,e),(n=m(this,d(e).call(this,t))).channelType=he.CHANNEL_TYPE_GROUP,n.isDistinct=!1,n.isSuper=!1,n.isPublic=!1,n.unreadMessageCount=0,n.inviter=null,n.members=[],n.memberMap={},n.lastMessage=null,n.memberCount=0,n.joinedMemberCount=0,n.cachedReadReceiptStatus={},n.cachedDeliveryReceiptStatus=null,n.myPushTriggerOption=e.PushTriggerOption.DEFAULT,n.isPushEnabled,n.isHidden=!1,n.hiddenState=e.HiddenState.UNHIDDEN,n.isDiscoverable=!0,n.myLastRead=0,n._messageOffsetTimestamp=0,n._cachedLastDeliveredReceipt={sentAt:0,timeout:null},Ue.set(y(n),{}),Ae.set(y(n),{start:0,end:0}),Ne.set(y(n),0),t&&n._update(t),n}return c(e,he),s(e,[{key:"_setGroupChannelUnreadCount",value:function(e,t){try{if("number"==typeof e&&0<=e)if("all"===this.myCountPreference||"unread_message_count_only"===this.myCountPreference)if(this.isSuper){var n=O.get(this._iid).container.maxUnreadCountOfSuperGroupChannel;this.unreadMessageCount=n<=e?n:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;"number"==typeof t&&0<=t&&("all"===this.myCountPreference||"unread_mention_count_only"===this.myCountPreference?this.unreadMentionCount=t:this.unreadMentionCount=0)}catch(e){}}},{key:"_update",value:function(e){var t=F.get(this._iid),n=t.BaseChannel,a=t.GroupChannel,i=t.User,s=t.Member;if(this.isAccessCodeRequired=!!e.is_access_code_required&&e.is_access_code_required,this.isDistinct=!!e.is_distinct&&e.is_distinct,this.isPushEnabled=!!e.is_push_enabled&&e.is_push_enabled,this.isHidden=!!e.hasOwnProperty("is_hidden")&&e.is_hidden,this.myPushTriggerOption=e.push_trigger_option?e.push_trigger_option:a.PushTriggerOption.DEFAULT,this.myCountPreference=e.hasOwnProperty("count_preference")?e.count_preference:a.CountPreference.ALL,this.unreadMessageCount=0,this.unreadMentionCount=0,this._setGroupChannelUnreadCount(parseInt(e.unread_message_count),parseInt(e.unread_mention_count)),e.hasOwnProperty("read_receipt"))for(var o in this.cachedReadReceiptStatus={},e.read_receipt){var u=e.read_receipt[o];this.updateReadReceipt(o,parseInt(u))}if(e.hasOwnProperty("delivery_receipt")&&"object"===r(e.delivery_receipt))for(var l in this.cachedDeliveryReceiptStatus||(this.cachedDeliveryReceiptStatus={}),e.delivery_receipt){var c=e.delivery_receipt[l];this.updateDeliveryReceipt(l,parseInt(c))}if(e.hasOwnProperty("user_last_read")&&"number"==typeof e.user_last_read?this.myLastRead=e.user_last_read:this.myLastRead=0,e.hasOwnProperty("members")){this.members=[],this.memberMap={};for(var d=0;d<e.members.length;d++){var h=new s(e.members[d]);this.members.push(h),this.memberMap[h.userId]=h}}this.myMemberState=e.member_state||"none",this.myRole=e.my_role||a.Role.NONE,e.hasOwnProperty("is_muted")?"string"==typeof e.is_muted?this.myMutedState=e.is_muted:"boolean"==typeof e.is_muted?this.myMutedState=e.is_muted?"muted":"unmuted":this.myMutedState="unmuted":this.myMutedState="unmuted",e.hasOwnProperty("member_count")&&(this.memberCount=parseInt(e.member_count)),e.hasOwnProperty("joined_member_count")&&(this.joinedMemberCount=parseInt(e.joined_member_count)),e.hasOwnProperty("last_message")&&"object"===r(e.last_message)&&e.last_message?e.last_message instanceof ae?this.lastMessage=e.last_message:this.lastMessage=n.buildMessage(e.last_message,this):this.lastMessage=null,e.hasOwnProperty("inviter")&&null!==e.inviter&&"object"===r(e.inviter)&&0<Object.keys(e.inviter).length?this.inviter=new i(e.inviter):this.inviter=null,this.invitedAt=e.invited_at||0,e.hasOwnProperty("is_super")&&"boolean"==typeof e.is_super?this.isSuper=e.is_super:this.isSuper=!1,e.hasOwnProperty("is_public")&&"boolean"==typeof e.is_public?this.isPublic=e.is_public:this.isPublic=!1,e.hasOwnProperty("hidden_state")?this.hiddenState=e.hidden_state:this.hiddenState=a.HiddenState.UNHIDDEN,e.hasOwnProperty("is_discoverable")&&"boolean"==typeof e.is_discoverable?this.isDiscoverable=e.is_discoverable:this.isDiscoverable=this.isPublic,e.hasOwnProperty("ts_message_offset")&&(this._messageOffsetTimestamp=e.ts_message_offset)}},{key:"addMember",value:function(e){if(!this.isSuper){var t=F.get(this._iid).Member,n=this.removeMember(e);n&&n.state===t.JOINED&&(e.state=t.JOINED),this.memberMap[e.userId]=e,this.members.push(e),this.memberCount++,this.updateReadReceipt(e.userId,0),this.updateDeliveryReceipt(e.userId,0)}}},{key:"removeMember",value:function(e){var t=null;if(!this.isSuper&&this.memberMap.hasOwnProperty(e.userId)){delete this.memberMap[e.userId];for(var n=0;n<this.members.length;n++){var r=this.members[n];if(r.userId===e.userId){t=r,this.members.splice(n,1);break}}this.memberCount--}return t}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"isIdentical",value:function(e){return e&&this.url===e.url}},{key:"isEqual",value:function(e){return z.deepEqual(this,e)}},{key:"createMemberListQuery",value:function(){return new(F.get(this._iid).MemberListQuery)(this.url)}},{key:"createBannedUserListQuery",value:function(){return new(F.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:this.isOpenChannel()})}},{key:"refresh",value:function(e){return F.get(this._iid).GroupChannel.getChannelWithoutCache(this.url,e)}},{key:"updateChannel",value:function(){var e=this,t=J.toArray(arguments),n=void 0;"function"==typeof t[t.length-1]&&(n=t.pop());var r=F.get(this._iid),a=r.GroupChannel,i=r.GroupChannelParams;if(t[0]instanceof i&&1===t.length)return ne(this._iid,function(n){var r=t[0];r.channelUrl=e.url,r._validate()?O.get(e._iid).container.apiClient.updateGroupChannel(l({},r),function(e,t){var r=null;e||(r=a.upsert(t)),n(e,r)}):n(J.error,null)},n);if(3===t.length){var s=new i;return s.channelUrl=this.url,s.name=t[0],"string"==typeof t[1]?s.coverUrl=t[1]:s.coverImage=t[1],s.data=t[2],this.updateChannel(s,n)}if(4===t.length){var o=new i;return o.channelUrl=this.url,o.isDistinct=t[0],o.name=t[1],"string"==typeof t[1]?o.coverUrl=t[2]:o.coverImage=t[2],o.data=t[3],this.updateChannel(o,n)}if(5!==t.length)return ne(this._iid,function(e){return e(J.error,null)},n);var u=new i;return u.channelUrl=this.url,u.isDistinct=t[0],u.name=t[1],"string"==typeof t[2]?u.coverUrl=t[2]:u.coverImage=t[2],u.data=t[3],u.customType=t[4],this.updateChannel(u,n)}},{key:"invite",value:function(e,t){var n,r=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return 0<e.length&&e.every(function(e){return!!e.userId&&"string"==typeof e.userId})}}),new J({type:"callback"})]),3);return n=r[0],e=r[1],t=r[2],n?ne(this._iid,function(e){return e(J.error,null)},t):this.inviteWithUserIds(e.map(function(e){return e.userId}),t)}},{key:"inviteWithUserIds",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.inviteToGroupChannel({channelUrl:r.url,userIds:e},function(e,n){var a=null;e||(a=F.get(r._iid).GroupChannel.upsert(n)),t(e,a)})},t)}},{key:"acceptInvitation",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",optional:!0,defaultValue:null}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.acceptInvitation({channelUrl:r.url,accessCode:e},function(e,n){var a=null;e||((a=F.get(r._iid).GroupChannel.upsert(n)).myMemberState="joined"),t(e,a)})},t)}},{key:"declineInvitation",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.declineInvitation({channelUrl:t.url},function(n,r){var a=null;if(!n){var i=F.get(t._iid).GroupChannel;(a=i.upsert(r)).myMemberState="none",t.isPublic||i.removeCachedChannel(t.url)}e(n,a)})},e)}},{key:"join",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",optional:!0,defaultValue:null}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.joinGroupChannel({channelUrl:r.url,accessCode:e},function(e,n){var a=null;e||((a=F.get(r._iid).GroupChannel.upsert(n)).myMemberState="joined"),t(e,a)})},t)}},{key:"leave",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.leaveGroupChannel({channelUrl:t.url},function(t,n){return e(t,null)})},e)}},{key:"muteUser",value:function(e,t,n,r){return this.muteUserWithUserId(e?e.userId:null,t,n,r)}},{key:"muteUserWithUserId",value:function(e,t,n,r){var a,i=this,s=v(J.parse(arguments,[new J({type:"string"}),new J({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return-1<=e}}),new J({type:"string",optional:!0,defaultValue:""}),new J({type:"callback"})]),5);return a=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.muteUser({channelUrl:i.url,userId:e,description:n,seconds:t,isGroupChannel:!0},function(e,t){r(e,null)})},r)}},{key:"unmuteUser",value:function(e,t){return this.unmuteUserWithUserId(e?e.userId:null,t)}},{key:"unmuteUserWithUserId",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.unmuteUser({channelUrl:r.url,userId:e,isGroupChannel:!0},function(e,n){t(e,null)})},t)}},{key:"banUser",value:function(e,t,n,r){return this.banUserWithUserId(e?e.userId:null,t,n,r)}},{key:"banUserWithUserId",value:function(e,t,n,r){var a,i=this,s=v(J.parse(arguments,[new J({type:"string"}),new J({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return-1<=e}}),new J({type:"string"}),new J({type:"callback"})]),5);return a=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.banUser({channelUrl:i.url,userId:e,description:n,seconds:t,isGroupChannel:!0},function(e,t){r(e,null)})},r)}},{key:"unbanUser",value:function(e,t){return this.unbanUserWithUserId(e?e.userId:null,t)}},{key:"unbanUserWithUserId",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.unbanUser({channelUrl:r.url,userId:e,isGroupChannel:!0},function(e,n){t(e,null)})},t)}},{key:"updateJoinedMemberCount",value:function(){if(!this.isSuper){var e=F.get(this._iid).Member;this.joinedMemberCount=this.members.filter(function(t){return t.state===e.JOINED}).length}}},{key:"setLatestMemberCount",value:function(e,t,n){"number"==typeof e&&"number"==typeof t&&"number"==typeof n&&n>=Ne.get(this)&&(Ne.set(this,n),this.memberCount=e,this.joinedMemberCount=t)}},{key:"hide",value:function(e,t,n){var r,a=this,i=v(J.parse(arguments,[new J({type:"boolean",optional:!0,defaultValue:!1}),new J({type:"boolean",optional:!0,defaultValue:!0}),new J({type:"callback"})]),4);return r=i[0],e=i[1],t=i[2],n=i[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.hideGroupChannel({channelUrl:a.url,hidePreviousMessages:e,allowAutoUnhide:t},function(r,i){if(!r){var s=F.get(a._iid).GroupChannel;a.isHidden=!0,a.hiddenState=t?s.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:s.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE,e&&a._setGroupChannelUnreadCount(0,0),i.hasOwnProperty("ts_message_offset")&&(a._messageOffsetTimestamp=i.ts_message_offset),s.cachedChannels[a.url]=a}n(r,i)})},n)}},{key:"unhide",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.unhideGroupChannel({channelUrl:t.url},function(n,r){if(!n){var a=F.get(t._iid).GroupChannel;t.isHidden=!1,t.hiddenState=a.HiddenState.UNHIDDEN,a.cachedChannels[t.url]=t}e(n,r)})},e)}},{key:"freeze",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.freeze({channelUrl:t.url,isGroupChannel:!0,freezing:!0},function(n,r){n||F.get(t._iid).GroupChannel.upsert(r),e(n,null)})},e)}},{key:"unfreeze",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.freeze({channelUrl:t.url,isGroupChannel:!0,freezing:!1},function(n,r){n||F.get(t._iid).GroupChannel.upsert(r),e(n,null)})},e)}},{key:"delete",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.deleteGroupChannel({channelUrl:t.url},function(n,r){n||F.get(t._iid).GroupChannel.removeCachedChannel(t.url),e(n,r)})},e)}},{key:"markAsRead",value:function(){var e=this,t=F.get(this._iid).Command,n=gt.getInstance(this._iid),r=t.bRead({channelUrl:this.url});n.sendCommand(r,function(t,r){if(n.getErrorFirstCallback()){var a=[t,r];r=a[0],t=a[1]}if(!r&&(e.updateReadReceipt(n.currentUser.userId,t.getJsonElement().ts),0<e.unreadMessageCount||0<e.unreadMentionCount))for(var i in e._setGroupChannelUnreadCount(0,0),n.channelHandlers)n.channelHandlers[i].onChannelChanged(e)})}},{key:"getReadReceipt",value:function(e){var t=gt.getInstance(this._iid);if(e instanceof ae&&!e.isAdminMessage()&&t.currentUser&&!this.isSuper){for(var n=0,r=e.createdAt,a=this.members,i=0;i<a.length;i++){var s=a[i];t.currentUser.userId===s.userId||e.sender&&e.sender.userId===s.userId||(this.cachedReadReceiptStatus[s.userId]||0)<r&&n++}return n}return 0}},{key:"markAsDelivered",value:function(){function e(){var e=gt.getInstance(t._iid).currentUser.userId;O.get(t._iid).container.apiClient.markAsDelivered({channelUrl:t.url,userId:e},function(n,r){if(n)x.debug(n);else{var a=r.hasOwnProperty("ts")?r.ts:0;t.updateDeliveryReceipt(e,a)}})}var t=this,n=this._cachedLastDeliveredReceipt;n&&Date.now()-n.sentAt<1e3?(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(function(){n.sentAt=Date.now(),e()},n.sentAt+1e3-Date.now())):(n.sentAt=Date.now(),e())}},{key:"getDeliveryReceipt",value:function(e){var t=gt.getInstance(this._iid);if(this.cachedDeliveryReceiptStatus&&e instanceof ae&&!e.isAdminMessage()&&t.currentUser&&!this.isSuper){for(var n=e.createdAt,r=0,a=0;a<this.members.length;a++){var i=this.members[a];t.currentUser.userId===i.userId||e.sender&&e.sender.userId===i.userId||this.cachedDeliveryReceiptStatus[i.userId]<n&&r++}return r}return 0}},{key:"getReadMembers",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t,r=gt.getInstance(this._iid);if(r.currentUser&&!this.isSuper&&e instanceof ae&&!e.isAdminMessage()){for(var a=[],i=0;i<this.members.length;i++){var s=this.members[i];(n||s.userId!==r.currentUser.userId&&s.userId!==e.sender.userId)&&(this.cachedReadReceiptStatus[s.userId]||0)>=e.createdAt&&a.push(s)}return a}return[]}},{key:"getUnreadMembers",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t,r=gt.getInstance(this._iid);if(r.currentUser&&!this.isSuper&&e instanceof ae&&!e.isAdminMessage()){for(var a=[],i=0;i<this.members.length;i++){var s=this.members[i];(n||s.userId!==r.currentUser.userId&&s.userId!==e.sender.userId)&&(this.cachedReadReceiptStatus[s.userId]||0)<e.createdAt&&a.push(s)}return a}return[]}},{key:"getReadStatus",value:function(e){var t=this,n=0<arguments.length&&void 0!==e&&e,r=gt.getInstance(this._iid);if(!r.currentUser||this.isSuper)return{};function a(e){if(!n&&e===r.currentUser.userId)return"continue";var a=t.cachedReadReceiptStatus[e],s=t.members.filter(function(t){return t.userId===e});i[e]={user:0<s.length?s[0]:null,last_seen_at:parseInt(a)}}var i={};for(var s in this.cachedReadReceiptStatus)a(s);return i}},{key:"updateReadReceipt",value:function(e,t){var n=this.cachedReadReceiptStatus[e];if(!n||n<t){this.cachedReadReceiptStatus[e]=t;var r=gt.getInstance(this._iid);r.currentUser&&e===r.currentUser.userId&&(this.myLastRead=t)}}},{key:"updateDeliveryReceipt",value:function(e,t){if(this.cachedDeliveryReceiptStatus)if(this.cachedDeliveryReceiptStatus.hasOwnProperty(e)){var n=this.cachedDeliveryReceiptStatus[e];(!n||n<t)&&(this.cachedDeliveryReceiptStatus[e]=t)}else this.cachedDeliveryReceiptStatus[e]=t}},{key:"startTyping",value:function(){var e=gt.getInstance(this._iid),t=(new Date).getTime(),n=e.Options.typingIndicatorThrottle;("number"!=typeof n||n<1e3||9e3<n)&&(n=1e3);var r=Ae.get(this);if(t-r.start>=n){r.end=0,r.start=t;var a=F.get(this._iid).Command.bTypeStart({channelUrl:this.url,time:r.start});e.sendCommand(a,null)}}},{key:"endTyping",value:function(){var e=gt.getInstance(this._iid),t=(new Date).getTime(),n=e.Options.typingIndicatorThrottle;("number"!=typeof n||n<1e3||9e3<n)&&(n=1e3);var r=Ae.get(this);if(t-r.end>=n){r.start=0,r.end=t;var a=F.get(this._iid).Command.bTypeEnd({channelUrl:this.url,time:r.end});e.sendCommand(a,null)}}},{key:"invalidateTypingStatus",value:function(){var e=Ue.get(this),t=(new Date).getTime(),n=!1;for(var r in e)1e4<=t-e[r]&&(delete e[r],n=!0);return n}},{key:"getTypingMembers",value:function(){var e=Ue.get(this),t=[];for(var n in e){var r=this.memberMap[n];r&&t.push(r)}return t}},{key:"updateTypingStatus",value:function(e,t){var n=Ue.get(this);t?n[e.userId]=(new Date).getTime():delete n[e.userId]}},{key:"isTyping",value:function(){var e=Ue.get(this);return 0!==Object.keys(e).length}},{key:"registerScheduledUserMessage",value:function(e,t){var n,r=this,a=F.get(this._iid),i=a.ScheduledUserMessage,s=a.ScheduledUserMessageParams,o=v(J.parse(arguments,[new J({type:s,constraint:function(e){return"string"==typeof e.message&&"string"==typeof e._getScheduleString()}}),new J({type:"callback"})]),3);return n=o[0],e=o[1],t=o[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.registerScheduledUserMessage({groupChannelParams:e,channelUrl:r.url,isOpenChannel:!1},function(e,n){var a=null;if(!e){a=new i(n);var s=gt.getInstance(r._iid).currentUser;s&&a._sender&&s.userId===a._sender.userId&&(s.nickname=a._sender.nickname,s.profileUrl=a._sender.profileUrl,s.metaData=a._sender.metaData)}t(e,a)})},t)}},{key:"getPushPreference",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getMyPushTriggerOption({channelUrl:t.url},function(n,r){var a=null;if(!n){try{a=r.enable}catch(n){a=!1}t.isPushEnabled=a}e&&e(n,a)})},e)}},{key:"setPushPreference",value:function(e,t){var n=this;return ne(this._iid,function(t){var r=F.get(n._iid).GroupChannel;O.get(n._iid).container.apiClient.setMyPushTriggerOption({channelUrl:n.url,enable:e},function(e,a){e||(n.isPushEnabled=a.enable,n.isPushEnabled||(n.myPushTriggerOption=r.PushTriggerOption.OFF)),t(e,a)})},t)}},{key:"getMyPushTriggerOption",value:function(t){var n=this;return ne(this._iid,function(t){O.get(n._iid).container.apiClient.getMyPushTriggerOption({channelUrl:n.url},function(r,a){var i=null;if(!r){try{i=a.push_trigger_option||e.PushTriggerOption.DEFAULT}catch(r){x.debug(r)}n.myPushTriggerOption=i}t(r,i)})},t)}},{key:"setMyPushTriggerOption",value:function(e,t){var n,r=this,a=F.get(this._iid).GroupChannel,i=v(J.parse(arguments,[new J({type:a.PushTriggerOption}),new J({type:"callback"})]),3);return n=i[0],e=i[1],t=i[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.setMyPushTriggerOption({channelUrl:r.url,pushTriggerOption:e},function(e,n){var a=null;if(!e){try{a=n.push_trigger_option}catch(e){x.debug(e)}r.myPushTriggerOption=a}t(e,a)})},t)}},{key:"setMyCountPreference",value:function(e,t){var n,r=this,a=F.get(this._iid).GroupChannel,i=v(J.parse(arguments,[new J({type:a.CountPreference}),new J({type:"callback"})]),3);return n=i[0],e=i[1],t=i[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.setMyCountPreference({channelUrl:r.url,countPreference:e},function(e,n){var i=null;e||(i=r.myCountPreference=n.count_preference,r._setGroupChannelUnreadCount(r.unreadMessageCount,r.unreadMentionCount),a.cachedChannels[r.url]=r),t(e,i)})},t)}},{key:"resetMyHistory",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.resetMyHistory({channelUrl:t.url},function(n,r){if(!n&&r.hasOwnProperty("ts_message_offset")){var a=F.get(t._iid).GroupChannel;t._messageOffsetTimestamp=r.ts_message_offset,a.cachedChannels[t.url]=t}e(n,r)})},e)}},{key:"messageOffsetTimestamp",get:function(){return this._messageOffsetTimestamp}}],[{key:"buildFromSerializedData",value:function(e){var t,n=F.get(this._iid),a=n.User,i=n.Member,s=n.GroupChannel,o=n.BaseMessage,u=n.UserMessage,l=n.FileMessage,c=n.AdminMessage,d=re.deserialize(e);return new s({channel_url:d.url,name:d.name,cover_url:d.coverUrl,data:d.data,custom_type:d.customType,invited_at:d.invitedAt,created_at:d.createdAt/1e3,is_access_code_required:d.isAccessCodeRequired,is_distinct:d.isDistinct,is_super:d.isSuper,is_public:d.isPublic,is_discoverable:d.isDiscoverable,freeze:d.isFrozen,is_ephemeral:d.isEphemeral,unread_message_count:d.unreadMessageCount,unread_mention_count:d.unreadMentionCount,is_push_enabled:d.isPushEnabled,push_trigger_option:d.myPushTriggerOption,count_preference:d.myCountPreference,is_hidden:d.isHidden,hidden_state:d.hiddenState,member_count:d.memberCount,joined_member_count:d.joinedMemberCount,member_state:d.myMemberState,my_role:d.myRole,is_muted:d.myMutedState,user_last_read:d.myLastRead,ts_message_offset:d.messageOffsetTimestamp,read_receipt:d.cachedReadReceiptStatus,delivery_receipt:d.cachedDeliveryReceiptStatus,members:d.members.map(function(e){return i.build(a.build(e.userId,e.nickname,e.profileUrl,e.connectionStatus,e.lastSeenAt,e.metaData,e.isActive,e.friendDiscoveryKey,e.friendName),e.state,e.isBlockedByMe,e.isBlockingMe)}),last_message:(t=d.lastMessage,null!=t&&"object"===r(t)?t.messageType===o.MESSAGE_TYPE_USER?new u(u.build(t.reqId,t.messageId,t.user,{url:t.channelUrl,channelType:t.channelType},t.message,t.data,t.customType,t.translations,t.isGlobalBlocked,t.createdAt,t.updatedAt,t.metaArrays,t.mentionType,t.mentionedUsers,t.mentionedUserIds,t.requestState,t.requestedMentionUserIds)):t.messageType===o.MESSAGE_TYPE_FILE?new l(l.build(t.reqId,t.messageId,t.user,{url:t.channelUrl,channelType:t.channelType},t.url,t.name,t.type,t.size,t.data,t.customType,t.isGlobalBlocked,t.createdAt,t.thumbnails,t.requireAuth,t.updatedAt,t.metaArrays,t.mentionType,t.mentionedUsers,t.mentionedUserIds,t.requestState,t.requestedMentionUserIds)):new c(c.build(t.messageId,{url:t.channelUrl,channelType:t.channelType},t.message,t.data,t.customType,t.translations,t.createdAt,t.updatedAt,t.metaArrays,t.mentionType,t.mentionedUsers)):null),inviter:null!==d.inviter&&void 0!==d.inviter&&"object"===r(d.inviter)?a.build.apply(a,E(["userId","nickname","profileUrl","connectionStatus","lastSeenAt","metaData","isActive","friendDiscoveryKey","friendName"].map(function(e){return d.inviter[e]}))):null,__wk:d.__wk})}},{key:"upsert",value:function(e){var t=F.get(this._iid).GroupChannel,n=new t(e);if(t.cachedChannels.hasOwnProperty(n.url)){if(n.isEphemeral){var r=t.cachedChannels[n.url];e.last_message=r.lastMessage,e.unread_message_count=r.unreadMessageCount}t.cachedChannels[n.url].update(e)}else t.cachedChannels[n.url]=n;return t.cachedChannels[n.url]}},{key:"removeCachedChannel",value:function(e){var t=F.get(this._iid),n=t.GroupChannel,r=t.FileMessageQueue;n.cachedChannels[e]&&delete n.cachedChannels[e],r.delete(e)}},{key:"clearCache",value:function(){be[this._iid]={},F.get(this._iid).FileMessageQueue.clear()}},{key:"getChannel",value:function(e,t){var n,r=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);if(n=r[0],e=r[1],t=r[2],n)return ne(this._iid,function(e){e(n,null)},t);var a=F.get(this._iid).GroupChannel;return a.cachedChannels[e]?ne(this._iid,function(t){t(null,a.cachedChannels[e])},t):a.getChannelWithoutCache(e,t)}},{key:"getChannelWithoutCache",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.getGroupChannel({channelUrl:e,showMember:!0,showReadReceipt:!0},function(e,n){var a=null;e||(a=F.get(r._iid).GroupChannel.upsert(n)),t(e,a)})},t)}},{key:"createDistinctChannelIfNotExist",value:function(e,t){var n,r=this,a=F.get(this._iid).GroupChannelParams,i=v(J.parse(arguments,[new J({type:a,constraint:function(e){return e._validate()}}),new J({type:"callback"})]),3);return n=i[0],e=i[1],t=i[2],ne(this._iid,function(t){n?t(n,null):(e.isPublic||(e.accessCode=null),O.get(r._iid).container.apiClient.createGroupChannel(l({},e,{isDistinct:!0}),function(e,n){var a=null;if(!e){var i=F.get(r._iid).GroupChannel;a={channel:new i(n),isCreated:n.is_created},i.cachedChannels[a.channel.url]=a.channel}t(e,a)}))},t)}},{key:"createChannel",value:function(){var e=this,t=J.toArray(arguments),n=void 0;"function"==typeof t[t.length-1]&&(n=t.pop());var r=F.get(this._iid),a=r.GroupChannel,i=r.GroupChannelParams;if(t[0]instanceof i&&1===t.length)return ne(this._iid,function(n){var r=t[0];r.isPublic||(r.accessCode=null),r._validate()?O.get(e._iid).container.apiClient.createGroupChannel(r,function(e,t){var r=null;e||(r=new a(t),a.cachedChannels[r.url]=r),n(e,r)}):n(J.error,null)},n);if(Array.isArray(t[0])){var s=new i;switch(t.length){case 1:s.addUsers(t[0]);break;case 2:s.addUsers(t[0]),s.isDistinct=t[1];break;case 3:s.addUsers(t[0]),s.isDistinct=t[1],s.customType=t[2];break;case 5:s.addUsers(t[0]),s.isDistinct=t[1],s.name=t[2],"string"==typeof t[3]?s.coverUrl=t[3]:s.coverImage=t[3],s.data=t[4];break;case 6:s.addUsers(t[0]),s.isDistinct=t[1],s.name=t[2],"string"==typeof t[3]?s.coverUrl=t[3]:s.coverImage=t[3],s.data=t[4],s.customType=t[5];break;default:return ne(this._iid,function(e){return e(J.error,null)},n)}return a.createChannel(s,n)}return ne(this._iid,function(e){return e(J.error,null)},n)}},{key:"createChannelWithUserIds",value:function(){var e=J.toArray(arguments),t=void 0;"function"==typeof e[e.length-1]&&(t=e.pop());var n=F.get(this._iid),r=n.GroupChannel,a=new n.GroupChannelParams;switch(e.length){case 1:a.addUserIds(e[0]);break;case 2:a.addUserIds(e[0]),a.isDistinct=e[1];break;case 3:a.addUserIds(e[0]),a.isDistinct=e[1],a.customType=e[2];break;case 5:a.addUserIds(e[0]),a.isDistinct=e[1],a.name=e[2],"string"==typeof e[3]?a.coverUrl=e[3]:a.coverImage=e[3],a.data=e[4];break;case 6:a.addUserIds(e[0]),a.isDistinct=e[1],a.name=e[2],"string"==typeof e[3]?a.coverUrl=e[3]:a.coverImage=e[3],a.data=e[4],a.customType=e[5];break;default:return ne(this._iid,function(e){return e(J.error,null)},t)}return r.createChannel(a,t)}},{key:"createMyGroupChannelListQuery",value:function(){return new(F.get(this._iid).GroupChannelListQuery)}},{key:"createPublicGroupChannelListQuery",value:function(){return new(F.get(this._iid).PublicGroupChannelListQuery)}},{key:"getChannelCount",value:function(e,t){return gt.getInstance(this._iid).getGroupChannelCount(e,t)}},{key:"getUnreadItemCount",value:function(e,t){return gt.getInstance(this._iid).getUnreadItemCount(e,t)}},{key:"getTotalUnreadMessageCount",value:function(){var e=J.toArray(arguments),t="function"==typeof e[e.length-1]?e.pop():null,n=gt.getInstance(this._iid);return n.getTotalUnreadMessageCount.apply(n,E(e).concat([t]))}},{key:"getTotalUnreadChannelCount",value:function(e){return gt.getInstance(this._iid).getTotalUnreadChannelCount(e)}},{key:"MemberStateFilter",get:function(){return{ALL:"all",JOINED:"joined_only",INVITED:"invited_only",INVITED_BY_FRIEND:"invited_by_friend",INVITED_BY_NON_FRIEND:"invited_by_non_friend"}}},{key:"PushTriggerOption",get:function(){return{DEFAULT:"default",ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"CountPreference",get:function(){return{ALL:"all",UNREAD_MESSAGE_COUNT_ONLY:"unread_message_count_only",UNREAD_MENTION_COUNT_ONLY:"unread_mention_count_only",OFF:"off"}}},{key:"HiddenState",get:function(){return{UNHIDDEN:"unhidden",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"PublicChannelFilter",get:function(){return{ALL:"all",PUBLIC:"public",PRIVATE:"private"}}},{key:"SuperChannelFilter",get:function(){return{ALL:"all",SUPER:"super",NON_SUPER:"nonsuper"}}},{key:"UnreadChannelFilter",get:function(){return{ALL:"all",UNREAD_MESSAGE:"unread_message"}}},{key:"HiddenChannelFilter",get:function(){return{UNHIDDEN:"unhidden_only",HIDDEN:"hidden_only",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"Role",get:function(){return{OPERATOR:"operator",NONE:"none"}}},{key:"UnreadItemKey",get:function(){return{GROUP_CHANNEL_UNREAD_MENTION_COUNT:"group_channel_unread_mention_count",NONSUPER_UNREAD_MENTION_COUNT:"non_super_group_channel_unread_mention_count",SUPER_UNREAD_MENTION_COUNT:"super_group_channel_unread_mention_count",GROUP_CHANNEL_UNREAD_MESSAGE_COUNT:"group_channel_unread_message_count",NONSUPER_UNREAD_MESSAGE_COUNT:"non_super_group_channel_unread_message_count",SUPER_UNREAD_MESSAGE_COUNT:"super_group_channel_unread_message_count",GROUP_CHANNEL_INVITATION_COUNT:"group_channel_invitation_count",NONSUPER_INVITATION_COUNT:"non_super_group_channel_invitation_count",SUPER_INVITATION_COUNT:"super_group_channel_invitation_count"}}},{key:"cachedChannels",get:function(){return be[this._iid]||(be[this._iid]={}),be[this._iid]}},{key:"markAsReadAllLastSentAt",get:function(){return Se[this._iid]||0},set:function(e){Se[this._iid]=e}}]),e}();(b()||S())&&M(he,Me);var Ie={},we={},ke=function(){function e(t){var n;return a(this,e),(n=m(this,d(e).call(this,t))).channelType=he.CHANNEL_TYPE_OPEN,n.participantCount=0,n.operators=[],t&&n._update(t),n}return c(e,he),s(e,[{key:"_update",value:function(e){var t=F.get(this._iid).User;if(e.hasOwnProperty("participant_count")&&(this.participantCount=parseInt(e.participant_count)),e.hasOwnProperty("operators")&&e.operators){this.operators=[];for(var n=0;n<e.operators.length;n++){var r=new t(e.operators[n]);this.operators.push(r)}}}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"createParticipantListQuery",value:function(){return new(F.get(this._iid).ParticipantListQuery)({channelUrl:this.url})}},{key:"createMutedUserListQuery",value:function(){return new(F.get(this._iid).MutedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"createBannedUserListQuery",value:function(){return new(F.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"isOperator",value:function(e){return!!e&&this.isOperatorWithUserId(e.userId)}},{key:"isOperatorWithUserId",value:function(e){return-1<this.operators.map(function(e){return e.userId}).indexOf(e)}},{key:"refresh",value:function(e){return F.get(this._iid).OpenChannel.getChannelWithoutCache(this.url,e)}},{key:"enter",value:function(e){var t=this;return ne(this._iid,function(e){var n=F.get(t._iid).Command.bEnter({channelUrl:t.url}),r=gt.getInstance(t._iid);r.sendCommand(n,function(n,a){if(r.getErrorFirstCallback()){var i=[n,a];a=i[0],n=i[1]}a?(a=a?new R(a.message,a.code):null,e(a,null)):(F.get(t._iid).OpenChannel.enteredChannels[t.url]=t,e(null,null))})},e)}},{key:"exit",value:function(e){var t=this;return ne(this._iid,function(e){var n=F.get(t._iid),r=n.Command,a=n.FileMessageQueue,i=r.bExit({channelUrl:t.url}),s=gt.getInstance(t._iid);s.sendCommand(i,function(n,r){if(s.getErrorFirstCallback()){var i=[n,r];r=i[0],n=i[1]}r?(r=r?new R(r.message,r.code):null,e(r,null)):(delete F.get(t._iid).OpenChannel.enteredChannels[t.url],a.delete(t.url),e(null,null))})},e)}},{key:"updateChannel",value:function(e,t,n,r,a,i){var s,o=this,u=v(J.parse(arguments,[new J({type:"string",nullable:!0}),new J({type:["string","file"],nullable:!0}),new J({type:"string",nullable:!0}),new J({type:"array",nullable:!0,optional:!0,defaultValue:[],constraint:function(e){return e.map(function(e){return"string"==typeof e})}}),new J({type:"string",nullable:!0,optional:!0}),new J({type:"callback"})]),7);return s=u[0],e=u[1],t=u[2],n=u[3],r=u[4],a=u[5],i=u[6],ne(this._iid,function(i){s?i(s,null):O.get(o._iid).container.apiClient.updateOpenChannel({channelUrl:o.url,name:e,coverUrlOrImage:t,data:n,operatorUserIds:r,customType:a},function(e,t){var n=null;e||(n=F.get(o._iid).OpenChannel.upsert(t)),i(e,n)})},i)}},{key:"updateChannelWithOperatorUserIds",value:function(){var e=J.toArray(arguments),t=void 0;switch("function"==typeof e[e.length-1]&&(t=e.pop()),e.length){case 4:case 5:return this.updateChannel.apply(this,E(e).concat([t]));default:return ne(this._iid,function(e){return e(J.error,null)},t)}}},{key:"muteUser",value:function(e,t,n,r){return this.muteUserWithUserId(e?e.userId:null,t,n,r)}},{key:"muteUserWithUserId",value:function(e,t,n,r){var a,i=this,s=v(J.parse(arguments,[new J({type:"string"}),new J({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return-1<=e}}),new J({type:"string",optional:!0,defaultValue:""}),new J({type:"callback"})]),5);return a=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.muteUser({channelUrl:i.url,userId:e,description:n,seconds:t,isGroupChannel:!1},function(e,t){r(e,null)})},r)}},{key:"unmuteUser",value:function(e,t){return this.unmuteUserWithUserId(e?e.userId:null,t)}},{key:"unmuteUserWithUserId",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.unmuteUser({channelUrl:r.url,userId:e,isGroupChannel:!1},function(e,n){t(e,null)})},t)}},{key:"banUser",value:function(e,t,n){return this.banUserWithUserId(e?e.userId:null,t,n)}},{key:"banUserWithUserId",value:function(e,t,n){var r,a=this,i=v(J.parse(arguments,[new J({type:"string"}),new J({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return-1<=e}}),new J({type:"callback"})]),4);return r=i[0],e=i[1],t=i[2],n=i[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.banUser({channelUrl:a.url,userId:e,description:null,seconds:t,isGroupChannel:!1},function(e,t){n(e,null)})},n)}},{key:"unbanUser",value:function(e,t){return this.unbanUserWithUserId(e?e.userId:null,t)}},{key:"unbanUserWithUserId",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.unbanUser({channelUrl:r.url,userId:e,isGroupChannel:!1},function(e,n){t(e,null)})},t)}},{key:"delete",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.deleteOpenChannel({channelUrl:t.url},function(n,r){n||(delete F.get(t._iid).OpenChannel.cachedChannels[t.url],F.get(t._iid).FileMessageQueue.delete(t.url)),e(n,r)})},e)}}],[{key:"buildFromSerializedData",value:function(e){var t=F.get(this._iid),n=t.User,r=t.OpenChannel,a=re.deserialize(e);return new r({channel_url:a.url,name:a.name,cover_url:a.coverUrl,data:a.data,custom_type:a.customType,created_at:a.createdAt/1e3,freeze:a.isFrozen,is_ephemeral:a.isEphemeral,participant_count:a.participantCount,operators:a.operators.map(function(e){return n.build.apply(n,E(["userId","nickname","profileUrl","connectionStatus","lastSeenAt","metaData","isActive","friendDiscoveryKey","friendName"].map(function(t){return e[t]})))}),__wk:a.__wk})}},{key:"getChannel",value:function(e,t){var n,r=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),3);if(n=r[0],e=r[1],t=r[2],n)return ne(this._iid,function(e){e(n,null)},t);var a=F.get(this._iid).OpenChannel;return a.cachedChannels[e]?ne(this._iid,function(t){t(null,a.cachedChannels[e])},t):a.getChannelWithoutCache(e,t)}},{key:"getChannelWithoutCache",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.getOpenChannel({channelUrl:e},function(e,n){var a=null;e||(a=F.get(r._iid).OpenChannel.upsert(n)),t(e,a)})},t)}},{key:"createChannel",value:function(e,t,n,r,a,i){var s,o=this,u=v(J.parse(arguments,[new J({type:"string",nullable:!0,ignoreIf:function(e){return 0===e.length}}),new J({type:["string","file"],nullable:!0,ignoreIf:function(e){return 0===e.length}}),new J({type:"string",nullable:!0,ignoreIf:function(e){return 0===e.length}}),new J({type:"array",nullable:!0,ignoreIf:function(e){return e.length<4},constraint:function(e){return e.map(function(e){return"string"==typeof e})}}),new J({type:"string",nullable:!0,ignoreIf:function(e){return e.length<5}}),new J({type:"callback"})]),7);return s=u[0],e=u[1],t=u[2],n=u[3],r=u[4],a=u[5],i=u[6],ne(this._iid,function(i){s?i(s,null):O.get(o._iid).container.apiClient.createOpenChannel({name:e,coverUrlOrImage:t,data:n,operatorUserIds:r,customType:a},function(e,t){var n=null;e||(n=F.get(o._iid).OpenChannel.upsert(t)),i(e,n)})},i)}},{key:"createChannelWithOperatorUserIds",value:function(){var e=J.toArray(arguments),t=void 0;switch("function"==typeof e[e.length-1]&&(t=e.pop()),e.length){case 4:case 5:return this.createChannel.apply(this,E(e).concat([t]));default:return ne(this._iid,function(e){return e(J.error,null)},t)}}},{key:"upsert",value:function(e){var t=new(F.get(this._iid).OpenChannel)(e);return this.cachedChannels.hasOwnProperty(t.url)?this.cachedChannels[t.url].update(e):this.cachedChannels[t.url]=t,this.cachedChannels[t.url]}},{key:"removeCachedChannel",value:function(e){this.cachedChannels[e]&&delete this.cachedChannels[e],F.get(this._iid).FileMessageQueue.delete(e)}},{key:"clearCache",value:function(){Ie[this._iid]={},F.get(this._iid).FileMessageQueue.clear()}},{key:"clearEnteredChannels",value:function(){we[this._iid]={}}},{key:"createOpenChannelListQuery",value:function(){return new(F.get(this._iid).OpenChannelListQuery)}},{key:"cachedChannels",get:function(){return Ie[this._iid]||(Ie[this._iid]={}),Ie[this._iid]}},{key:"enteredChannels",get:function(){return we[this._iid]||(we[this._iid]={}),we[this._iid]}}]),e}();(b()||S())&&M(he,ke);var Te=function(){function e(t){var n;return a(this,e),(n=m(this,d(e).call(this,t))).messageType=ae.MESSAGE_TYPE_USER,n.message=null,n._sender=null,n.reqId="",n.translations={},n.requestState=null,n.requestedMentionUserIds=[],n.errorCode=0,t&&n._update(t),n}return c(e,ae),s(e,[{key:"_update",value:function(e){var t=F.get(this._iid).Sender;this.message=String(e.message),this._sender=new t(e.user),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.translations=e.hasOwnProperty("translations")?e.translations:{},this.requestState=0<this.messageId?ae.MessageRequestState.SUCCEEDED:ae.MessageRequestState.FAILED,e.hasOwnProperty("request_state")&&(this.requestState=e.request_state),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code)}},{key:"isResendable",value:function(){return"failed"===this.requestState&&z.isResendableError(this.errorCode)}},{key:"sender",get:function(){var e=gt.getInstance(this._iid),t=F.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.profileUrl!==r.profileUrl&&(this._sender.profileUrl=r.profileUrl),z.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}}],[{key:"build",value:function(e,t,n,r,a,i,s,o,u,l,c,d,h,f,p,y,m,g,_){var v=F.get(this._iid),E=v.BaseChannel,C=v.BaseMessageParams,b={};e&&(b.req_id=e),b.msg_id=t,b.channel_url=r.url,b.channel_type=r.channelType===E.CHANNEL_TYPE_OPEN?E.CHANNEL_TYPE_OPEN:E.CHANNEL_TYPE_GROUP,b.ts=l,b.updated_at=c,b.message=a,i&&(b.data=i),s&&(b.custom_type=s),o&&(b.translations=o);var S={user_id:"",nickname:"",profile_url:"",metadata:{},is_blocked_by_me:!1};if(n){S.user_id=n.userId,S.nickname=n.nickname,S.profile_url=n.profileUrl;try{S.metadata="string"==typeof n.metaData?JSON.parse(n.metaData):n.metaData}catch(e){S.metadata={}}S.is_blocked_by_me=n.isBlockedByMe}if(b.user=S,b.is_global_block=!!u,d){b.metaarray={};for(var U=0;U<d.length;U++){var A=d[U].key;b.metaarray[A]=d[U].value}b.metaarray_key_order=d.map(function(e){return e.key})}return b.reactions=h||[],b.mention_type=C.MentionType.USERS,f&&(b.mention_type=f),b.mentioned_users=[],p&&(b.mentioned_users=p),b.request_state=0<t?ae.MessageRequestState.SUCCEEDED:ae.MessageRequestState.FAILED,m&&(b.request_state=m),y&&(b.mentioned_user_ids=y),b.requested_mention_user_ids=[],g&&(b.requested_mention_user_ids=g),b.error_code=_||0,b}},{key:"buildFromSerializedData",value:function(e){var t=F.get(this._iid),n=t.User,r=t.UserMessage,a=[],i=re.deserialize(e,function(e){e.mentionedUsers.forEach(function(e){a.push(n.build.apply(n,E(["userId","nickname","profileUrl","connectionStatus","lastSeenAt","metaData","isActive","friendDiscoveryKey","friendName"].map(function(t){return e[t]}))))})});return new r(r.build(i.reqId,i.messageId,i.sender,{url:i.channelUrl,channelType:i.channelType},i.message,i.data,i.customType,i.translations,i.isGlobalBlocked,i.createdAt,i.updatedAt,i.metaArrays,i.reactions,i.mentionType,a,i.mentionedUserIds,i.requestState,i.requestedMentionUserIds,i.errorCode))}}]),e}();(b()||S())&&M(ae,Te);var Oe=function(){function e(t){var n;return a(this,e),(n=m(this,d(e).call(this,t))).messageType=ae.MESSAGE_TYPE_FILE,n.url=null,n.name="File",n.size=0,n.type=null,n.data=null,n.thumbnails=[],n._sender=null,n.reqId="",n.requireAuth=null,n.requestState=null,n.requestedMentionUserIds=[],n.errorCode=0,t&&n._update(t),n}return c(e,ae),s(e,[{key:"_update",value:function(e){var t=O.get(this._iid).container.auth,n=F.get(this._iid).Sender;if(this._sender=new n(e.user),this.requireAuth=!!e.hasOwnProperty("require_auth")&&e.require_auth,this.url=this.requireAuth?String(e.url).split("?auth=")[0]+"?auth="+t.eKey:String(e.url).split("?auth=")[0],this.name=e.hasOwnProperty("name")?e.name:"File",this.size=parseInt(e.size)||0,this.type=String(e.type),this.data=e.hasOwnProperty("custom")?String(e.custom):"",this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.thumbnails=e.hasOwnProperty("thumbnails")?e.thumbnails:[],this.requireAuth)for(var r in this.thumbnails)this.thumbnails[r].url=String(this.thumbnails[r].url).split("?auth=")[0]+"?auth="+t.eKey;this.requestState=0<this.messageId?ae.MessageRequestState.SUCCEEDED:ae.MessageRequestState.FAILED,e.hasOwnProperty("request_state")&&(this.requestState=e.request_state),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code)}},{key:"isResendable",value:function(){return"failed"===this.requestState&&z.isResendableError(this.errorCode)}},{key:"sender",get:function(){var e=gt.getInstance(this._iid),t=F.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.profileUrl!==r.profileUrl&&(this._sender.profileUrl=r.profileUrl),z.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}}],[{key:"build",value:function(e,t,n,r,a,i,s,o,u,l,c,d,h,f,p,y,m,g,_,v,E,C,b){var S=F.get(this._iid),U=S.BaseChannel,A=S.BaseMessageParams,N={};N.req_id=e,N.msg_id=t,N.channel_url=r.url,N.channel_type=r.channelType===U.CHANNEL_TYPE_OPEN?U.CHANNEL_TYPE_OPEN:U.CHANNEL_TYPE_GROUP,N.ts=d,N.updated_at=p,N.url=a,N.name=i,N.type=s,N.size=o,N.custom=u;var M={user_id:"",nickname:"",profile_url:"",metadata:{},is_global_block:!1};if(n){M.user_id=n.userId,M.nickname=n.nickname,M.profile_url=n.profileUrl;try{M.metadata=JSON.parse(n.metaData)}catch(e){M.metadata={}}M.is_blocked_by_me=n.isBlockedByMe}if(N.user=M,l&&(N.custom_type=l),f&&(N.require_auth=f),h&&(N.thumbnails=h),N.is_global_block=c,y){N.metaarray={};for(var I=0;I<y.length;I++){var w=y[I].key;N.metaarray[w]=y[I].value}N.metaarray_key_order=y.map(function(e){return e.key})}return N.reactions=m||[],N.mention_type=A.MentionType.USERS,g&&(N.mention_type=g),N.mentioned_users=[],_&&(N.mentioned_users=_),v&&(N.mentioned_user_ids=v),N.request_state=0<t?ae.MessageRequestState.SUCCEEDED:ae.MessageRequestState.FAILED,E&&(N.request_state=E),N.requested_mention_user_ids=[],C&&(N.requested_mention_user_ids=C),N.error_code=b||0,N}},{key:"buildFromSerializedData",value:function(e){var t=F.get(this._iid),n=t.User,r=t.FileMessage,a=[],i=re.deserialize(e,function(e){e.mentionedUsers.forEach(function(e){a.push(n.build.apply(n,E(["userId","nickname","profileUrl","connectionStatus","lastSeenAt","metaData","isActive","friendDiscoveryKey","friendName"].map(function(t){return e[t]}))))})});return new r(r.build(i.reqId,i.messageId,i.sender,{url:i.channelUrl,channelType:i.channelType},i.url,i.name,i.type,i.size,i.data,i.customType,i.isGlobalBlocked,i.createdAt,i.thumbnails,i.requireAuth,i.updatedAt,i.metaArrays,i.reactions,i.mentionType,a,i.mentionedUserIds,i.requestState,i.requestedMentionUserIds,i.errorCode))}}]),e}();(b()||S())&&M(ae,Oe);var Re=function(){function e(t){var n;return a(this,e),(n=m(this,d(e).call(this,t))).messageType=ae.MESSAGE_TYPE_ADMIN,n.message="",n.translations={},t&&n._update(t),n}return c(e,ae),s(e,[{key:"_update",value:function(e){this.message=String(e.message),this.translations=e.hasOwnProperty("translations")?e.translations:{}}}],[{key:"build",value:function(e,t,n,r,a,i,s,o,u,l,c,d){var h=F.get(this._iid).BaseChannel,f={msg_id:e,channel_url:t.url,channel_type:t.channelType===h.CHANNEL_TYPE_OPEN?h.CHANNEL_TYPE_OPEN:h.CHANNEL_TYPE_GROUP,ts:s,updated_at:o,message:n,data:r};if(a&&(f.custom_type=a),i&&(f.translations=i),u){f.metaarray={};for(var p=0;p<u.length;p++){var y=u[p].key;f.metaarray[y]=u[p].value}f.metaarray_key_order=u.map(function(e){return e.key})}return f.reactions=l||[],c&&(f.mention_type=c),f.mentioned_users=[],d&&(f.mentioned_users=d),f}},{key:"buildFromSerializedData",value:function(e){var t=F.get(this._iid),n=t.AdminMessage,r=t.User,a=[],i=re.deserialize(e,function(e){e.mentionedUsers.forEach(function(e){a.push(r.build.apply(r,E(["userId","nickname","profileUrl","connectionStatus","lastSeenAt","metaData","isActive","friendDiscoveryKey","friendName"].map(function(t){return e[t]}))))})});return new n(n.build(i.messageId,{url:i.channelUrl,channelType:i.channelType},i.message,i.data,i.customType,i.translations,i.createdAt,i.updatedAt,i.metaArrays,i.reactions,i.mentionType,a))}}]),e}();(b()||S())&&M(ae,Re);var Le=function(){function e(t){a(this,e);var n=F.get(this._iid),r=n.BaseMessage,i=n.BaseMessageParams;this.scheduledId=0,this.scheduledDateTimeString="",this.scheduledTimezone="",this.status=e.Status.SCHEDULED,this.createdAt=0,this.updatedAt=0,this._messageType=r.MESSAGE_TYPE_BASE,this._sender=null,this._channelType="",this.channelUrl="",this.message="",this.customType="",this.data="",this.metaArrays=[],this.mentionType=i.MentionType.USERS,this.mentionedUsers=[],this.pushNotificationDeliveryOption=i.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=[],this.errorMessage="",this.errorCode=0,t&&this._update(t)}return s(e,[{key:"_update",value:function(t){var n=this,r=F.get(this._iid),a=r.User,i=r.Sender,s=r.BaseMessageParams,o=r.MessageMetaArray;this.scheduledId=t.hasOwnProperty("scheduled_id")?parseInt(t.scheduled_id):0,this.scheduledDateTimeString=t.hasOwnProperty("scheduled_dt")?String(t.scheduled_dt):"",this.scheduledTimezone=t.hasOwnProperty("scheduled_timezone")?String(t.scheduled_timezone):"",this.status=t.hasOwnProperty("status")?String(t.status):"",this.createdAt=t.hasOwnProperty("created_at")?parseInt(t.created_at):0,this.updatedAt=t.hasOwnProperty("updated_at")?parseInt(t.updated_at):0,this.channelUrl=t.hasOwnProperty("channel_url")?String(t.channel_url):"",this._channelType=t.hasOwnProperty("channel_type")?String(t.channel_type):"",this._messageType=t.hasOwnProperty("type")?String(t.type):"",this._sender=t.hasOwnProperty("user")?new i(t.user):"",this.message=t.hasOwnProperty("message")?String(t.message):"",this.customType=t.hasOwnProperty("custom_type")?String(t.custom_type):"",this.data=t.hasOwnProperty("data")?String(t.data):"";var u=t.hasOwnProperty("metaarray")?t.metaarray:{},l=t.hasOwnProperty("metaarray_key_order")?t.metaarray_key_order:Object.keys(u).sort(function(e,t){return e.localeCompare(t)});this.metaArrays=[];for(var c=0;c<l.length;c++){var d=l[c];this.metaArrays.push(new o(d,u[d]||[]))}this.mentionType=t.hasOwnProperty("mention_type")?t.mention_type:s.MentionType.USERS,this.mentionedUsers=[],t.hasOwnProperty("mentioned_users")&&t.mentioned_users.forEach(function(e){var t=new a(e);n.mentionedUsers.push(t)}),this.pushNotificationDeliveryOption=t.hasOwnProperty("push_option")?t.push_option:s.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=t.hasOwnProperty("translation_target_langs")?t.translation_target_langs:[],this.status===e.Status.FAILED&&(t.hasOwnProperty("error")&&t.error.hasOwnProperty("message")&&(this.errorMessage=String(t.error.message)),t.hasOwnProperty("error")&&t.error.hasOwnProperty("code")&&(this.errorCode=parseInt(t.error.code)))}},{key:"isOpenChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=F.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_GROUP}},{key:"sender",get:function(){var e=gt.getInstance(this._iid),t=F.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var n=t.cachedChannels[this.channelUrl];if(n){var r=n.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.profileUrl!==r.profileUrl&&(this._sender.profileUrl=r.profileUrl),z.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach(function(t){e[t.key]=t.value}),e},set:function(e){if("object"===r(e)&&e){var t=F.get(this._iid).MessageMetaArray,n=[];for(var a in e)n.push(new t(a,e[a]));this.metaArrays=n}}}],[{key:"Status",get:function(){return{SCHEDULED:"scheduled",SENT:"sent",CANCELED:"canceled",FAILED:"failed"}}}]),e}(),Pe=function(){function e(){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this.metaDataKeyFilter="",this.metaDataValuesFilter=[],this._token=""}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){"number"==typeof t.limit&&0<t.limit&&Array.isArray(t.userIdsFilter)&&"string"==typeof t.metaDataKeyFilter&&Array.isArray(t.metaDataValuesFilter)&&!!t.metaDataKeyFilter==0<t.metaDataValuesFilter.length?t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadUserList(l({},t,{token:t._token}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.users.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(J.error,null)},e)}}]),e}(),De=function(){function e(t){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._isOpenChannel=!1,this._channelUrl=null,this._token="",t.channelUrl&&(this._channelUrl=t.channelUrl),t.isOpenChannel&&(this._isOpenChannel=t.isOpenChannel)}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){"number"==typeof t.limit&&0<t.limit?t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadBannedUserList(l({},t,{channelUrl:t._channelUrl,isOpenChannel:t._isOpenChannel,token:t._token}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.banned_list.map(function(e){return new i(e.user)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(J.error,null)},e)}}]),e}(),xe=function(){function e(){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this._token=""}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){"number"==typeof t.limit&&0<t.limit&&Array.isArray(t.userIdsFilter)?t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadBlockedUserList(l({},t,{token:t._token}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.users.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(J.error,null)},e)}}]),e}(),He=function(){function e(){a(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,this._token=""}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){"number"==typeof t.limit&&0<t.limit?t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasMore?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadFriendList(l({},t,{token:t._token}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).User,s=String(r.next);t._token=s,t.hasMore=!!s,a=r.users.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(J.error,null)},e)}}]),e}(),Fe=function(){function e(){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=e.ORDER_LATEST_LAST_MESSAGE,this._token="",this._searchFilter={},this._userIdsFilter={userIds:[],includeMode:!0,queryType:e.QueryType.AND},this._userIdsExactFilter=[],this._userIdsIncludeFilter=[],this._userIdsIncludeFilterQueryType=e.QueryType.AND,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.memberStateFilter=Me.MemberStateFilter.ALL,this.customTypesFilter=[],this.channelUrlsFilter=[],this.superChannelFilter=Me.SuperChannelFilter.ALL,this.publicChannelFilter=Me.PublicChannelFilter.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Me.UnreadChannelFilter.ALL,this.metadataOrderKeyFilter=null,this.hiddenChannelFilter=Me.HiddenChannelFilter.UNHIDDEN}return s(e,[{key:"setSearchFilter",value:function(e,t){Array.isArray(e)&&0!==e.length&&"string"==typeof t&&t&&(this._searchFilter={search_query:t,search_fields:e.join(",").toLocaleLowerCase()})}},{key:"serialize",value:function(){return re.serialize(this,function(e){e.isLoading=!1})}},{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){var n=F.get(t._iid),r=n.GroupChannel,a=n.GroupChannelListQuery;!("number"==typeof t.limit&&0<t.limit&&"boolean"==typeof t.includeEmpty&&"string"==typeof t.order&&-1<[a.ORDER_CHRONOLOGICAL,a.ORDER_LATEST_LAST_MESSAGE,a.CHANNEL_NAME_ALPHABETICAL,a.METADATA_VALUE_ALPHABETICAL].indexOf(t.order.toLowerCase())&&Array.isArray(t._userIdsExactFilter)&&Array.isArray(t._userIdsIncludeFilter)&&Array.isArray(t.customTypesFilter)&&Array.isArray(t.channelUrlsFilter)&&-1<Object.keys(a.QueryType).map(function(e){return a.QueryType[e]}).indexOf(t._userIdsIncludeFilterQueryType.toUpperCase())&&-1<Object.keys(r.MemberStateFilter).map(function(e){return r.MemberStateFilter[e]}).indexOf(t.memberStateFilter)&&-1<Object.keys(r.SuperChannelFilter).map(function(e){return r.SuperChannelFilter[e]}).indexOf(t.superChannelFilter)&&-1<Object.keys(r.PublicChannelFilter).map(function(e){return r.PublicChannelFilter[e]}).indexOf(t.publicChannelFilter)&&-1<Object.keys(r.UnreadChannelFilter).map(function(e){return r.UnreadChannelFilter[e]}).indexOf(t.unreadChannelFilter)&&-1<Object.keys(r.HiddenChannelFilter).map(function(e){return r.HiddenChannelFilter[e]}).indexOf(t.hiddenChannelFilter))||"string"!=typeof t.customTypeStartsWithFilter&&null!==t.customTypeStartsWithFilter||"string"!=typeof t.nicknameContainsFilter||"string"!=typeof t.channelNameContainsFilter||"string"!=typeof t.metadataOrderKeyFilter&&null!==t.metadataOrderKeyFilter?e(J.error,null):t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadGroupChannelList(l({},t,{token:t._token,userIdsFilter:t._userIdsFilter,searchFilter:t._searchFilter}),function(n,a){if(n)return t.isLoading=!1,void e(n,null);var i=[],s=String(a.next);t._token=s,t.hasNext=!!s;for(var o=a.channels,u=0;u<o.length;u++){var l=r.upsert(o[u]);i.push(l)}t.isLoading=!1,e(n,i)})):e(null,[])},e)}},{key:"userIdsExactFilter",get:function(){return this._userIdsExactFilter},set:function(e){Array.isArray(e)&&(this._userIdsExactFilter=e,this._userIdsIncludeFilter=[],this._userIdsFilter.userIds=this._userIdsExactFilter,this._userIdsFilter.includeMode=!1)}},{key:"userIdsIncludeFilter",get:function(){return this._userIdsIncludeFilter},set:function(e){Array.isArray(e)&&(this._userIdsIncludeFilter=e,this._userIdsExactFilter=[],this._userIdsFilter.userIds=this._userIdsIncludeFilter,this._userIdsFilter.includeMode=!0)}},{key:"userIdsIncludeFilterQueryType",get:function(){return this._userIdsIncludeFilterQueryType},set:function(t){-1<Object.keys(e.QueryType).map(function(t){return e.QueryType[t]}).indexOf(t)&&(this._userIdsIncludeFilterQueryType=t.toUpperCase(),this._userIdsFilter.queryType=this._userIdsIncludeFilterQueryType)}}],[{key:"buildFromSerializedData",value:function(e){var t=F.get(this._iid).GroupChannel,n=re.deserialize(e),r=t.createMyGroupChannelListQuery();for(var a in n)r.hasOwnProperty(a)&&(r[a]=n[a]);return r}},{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}},{key:"QueryType",get:function(){return{AND:"AND",OR:"OR"}}},{key:"SearchField",get:function(){return{MEMBER_NICKNAME:"member_nickname",CHANNEL_NAME:"channel_name"}}}]),e}(),Ge=function(){function e(t){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.mutedMemberFilter=e.MutedMemberFilter.ALL,this.memberStateFilter=Me.MemberStateFilter.ALL,this.nicknameStartsWithFilter=null,this._token="",this._channelUrl=t}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){var n=F.get(t._iid),r=n.GroupChannel,a=n.Member,i=n.MemberListQuery;if("number"==typeof t.limit&&0<t.limit&&-1<Object.keys(i.MutedMemberFilter).map(function(e){return i.MutedMemberFilter[e]}).indexOf(t.mutedMemberFilter)&&-1<Object.keys(r.MemberStateFilter).map(function(e){return r.MemberStateFilter[e]}).indexOf(t.memberStateFilter)&&("string"==typeof t.nicknameStartsWithFilter||null===t.nicknameStartsWithFilter))if(t.isLoading)e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null);else if(t.hasNext){t.isLoading=!0;var s=i.Order.MEMBER_NICKNAME_ALPHABETICAL;O.get(t._iid).container.apiClient.loadMemberList(l({},t,{channelUrl:t._channelUrl,order:s,token:t._token}),function(n,r){var i=null;if(!n){var s=String(r.next);t._token=s,t.hasNext=!!s,i=r.members.map(function(e){return new a(e)})}t.isLoading=!1,e(n,i)})}else e(null,[]);else e(J.error,null)},e)}}],[{key:"MutedMemberFilter",get:function(){return{ALL:"all",MUTED:"muted",UNMUTED:"unmuted"}}},{key:"Order",get:function(){return{MEMBER_NICKNAME_ALPHABETICAL:"member_nickname_alphabetical"}}}]),e}(),je=function(){function e(t){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",t.channelUrl&&(this._channelUrl=t.channelUrl),t.isOpenChannel&&(this._isOpenChannel=t.isOpenChannel)}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){"number"==typeof t.limit&&0<t.limit?t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadMutedUserList(l({},t,{channelUrl:t._channelUrl,isOpenChannel:t._isOpenChannel,token:t._token}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.muted_list.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(J.error,null)},e)}}]),e}(),Be=function(){function e(){a(this,e),this.limit=20,this.isLoading=!1,this.hasNext=!0,this.nameKeyword=null,this.urlKeyword=null,this.customTypes=[]}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){!("number"==typeof t.limit&&0<t.limit&&Array.isArray(t.customTypes))||"string"!=typeof t.nameKeyword&&null!==t.nameKeyword||"string"!=typeof t.urlKeyword&&null!==t.urlKeyword?e(J.error,null):t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadOpenChannelList(l({},t,{token:t._token}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).OpenChannel,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.channels.map(function(e){return i.upsert(e)})}t.isLoading=!1,e(n,a)})):e(null,[])},e)}}]),e}(),qe=new w,ze=function(){function e(t){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",qe.set(this,t)}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){if("number"==typeof t.limit&&0<t.limit)if(t.isLoading)e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null);else if(t.hasNext){t.isLoading=!0;var n=qe.get(t);O.get(t._iid).container.apiClient.loadOperatorList(l({},t,{token:t._token,channelUrl:n.url,isOpenChannel:n.isOpenChannel()}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.operators.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})}else e(null,[]);else e(J.error,null)},e)}}]),e}(),We=new w,Qe=function(){function e(t){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",t&&We.set(this,t.channelUrl)}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){"number"==typeof t.limit&&0<t.limit?t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadParticipantList(l({},t,{channelUrl:We.get(t),token:t._token}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.participants.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(J.error,null)},e)}}]),e}(),Ve=new WeakMap,Ke=function(){function e(t,n){var r=n.limit,i=void 0===r?20:r,s=n.reverse,o=void 0!==s&&s,u=n.exactMatch,l=void 0!==u&&u,c=n.channelUrl,d=void 0===c?"":c,h=n.channelCustomType,f=void 0===h?"":h,p=n.messageTimestampFrom,y=void 0===p?null:p,m=n.messageTimestampTo,g=void 0===m?null:m,_=n.order,v=void 0===_?"score":_;a(this,e),this.isLoading=!1,this.hasNext=!0,Ve.set(this,{keyword:t,limit:i,reverse:o,exactMatch:l,channelUrl:d,channelCustomType:f,messageTimestampFrom:y,messageTimestampTo:g,order:v,previousToken:"",nextToken:""})}return s(e,[{key:"next",value:function(e){var t=this,n=F.get(this._iid),r=n.BaseChannel,a=n.GroupChannel,i=n.OpenChannel;return ne(this._iid,function(e){var n=Ve.get(t),s=n.keyword,o=n.limit,u=n.reverse,l=n.exactMatch,c=n.channelUrl,d=n.channelCustomType,h=n.messageTimestampFrom,f=n.messageTimestampTo,p=n.order,y=n.nextToken;!("number"==typeof o&&0<o&&o<=1e3&&"boolean"==typeof u&&"boolean"==typeof l)||"string"!=typeof c&&null!==c||"string"!=typeof d&&null!==d||"number"!=typeof h&&null!==h||"number"!=typeof f&&null!==f||!(0<=["score","ts"].indexOf(p))?e(J.error,null):t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.searchMessages({keyword:s,limit:o,reverse:u,exactMatch:l,channelUrl:c,channelCustomType:d,messageTimestampFrom:h,messageTimestampTo:f,order:p,nextToken:y},function(n,s){var o=null;if(!n){for(var u in o=[],s.results){var l=s.results[u],c=null;l.channel.hasOwnProperty("members")?(c=new a(l.channel),a.cachedChannels[c.url]=c):(c=new i(l.channel),i.cachedChannels[c.url]=c),o.push(r.buildMessage(l,c))}t.hasNext=s.has_next,Ve.get(t).nextToken=s.end_cursor}t.isLoading=!1,e(n,o)})):e(null,[])},e)}},{key:"key",get:function(){return Ve.get(this).keyword}},{key:"limit",get:function(){return Ve.get(this).limit}},{key:"reverse",get:function(){return Ve.get(this).reverse}},{key:"exactMatch",get:function(){return Ve.get(this).exactMatch}},{key:"channelUrl",get:function(){return Ve.get(this).channelUrl}},{key:"channelCustomType",get:function(){return Ve.get(this).channelCustomType}},{key:"messageTimestampFrom",get:function(){return Ve.get(this).messageTimestampFrom}},{key:"messageTimestampTo",get:function(){return Ve.get(this).messageTimestampTo}},{key:"order",get:function(){return Ve.get(this).order}}]),e}(),Ye=new w,Je=new w,Ze=function(){function e(t){a(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,Je.set(this,Number.MAX_SAFE_INTEGER),Ye.set(this,t),this.reverse=!1,this.messageTypeFilter=null,this.customTypeFilter=null,this.senderUserIdsFilter=[],this.includeMetaArray=!1,this.includeReaction=!1}return s(e,[{key:"load",value:function(e,t,n,r){var a=this,i=F.get(this._iid).BaseChannel,s=null,o=v(J.parse(arguments,[new J({type:"number",optional:!0,defaultValue:this.limit}),new J({type:"boolean",optional:!0,defaultValue:this.reverse}),new J({type:["string","number"],optional:!0,defaultValue:this.messageTypeFilter,constraint:function(e){return-1<Object.keys(i.MessageTypeFilter).map(function(e){return i.MessageTypeFilter[e]}).indexOf(e)||-1<[0,1,2,3].indexOf(e)}}),new J({type:"callback"})]),5);return s=o[0],e=o[1],t=o[2],n=o[3],r=o[4],ne(this._iid,function(r){if(Array.isArray(a.senderUserIdsFilter)&&!a.senderUserIdsFilter.some(function(e){return"string"!=typeof e})||(s=J.error),s)r(s,null);else{if(a.limit=e,a.reverse=t,a.messageTypeFilter=n,"number"==typeof a.messageTypeFilter)switch(a.messageTypeFilter){case 0:a.messageTypeFilter=i.MessageTypeFilter.ALL;break;case 1:a.messageTypeFilter=i.MessageTypeFilter.USER;break;case 2:a.messageTypeFilter=i.MessageTypeFilter.FILE;break;case 3:a.messageTypeFilter=i.MessageTypeFilter.ADMIN}if(a.isLoading)r(new R("Query in progress.",R.QUERY_IN_PROGRESS),null);else if(a.hasMore){a.isLoading=!0;var o=Ye.get(a);O.get(a._iid).container.apiClient.getMessageList({channel:o,token:Je.get(a)||(new Date).getTime()+1e4,tokenType:"timestamp",isInclusive:!1,prevResultSize:e,nextResultSize:0,shouldReverse:t,messageType:n,customType:a.customTypeFilter,senderUserIds:a.senderUserIdsFilter,includeMetaArray:a.includeMetaArray,includeReaction:a.includeReaction},function(t,n){var s=null;if(!t){(0===(s=n.messages.map(function(e){return i.buildMessage(e,o)})).length||s.length<e)&&(a.hasMore=!1);var u=Je.get(a);Je.set(a,Math.min.apply(Math,E(s.map(function(e){return e.createdAt})).concat([u])))}a.isLoading=!1,r(t,s)})}else r(null,[])}},r)}}]),e}(),Xe=function(){function e(){a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=Fe.ORDER_LATEST_LAST_MESSAGE,this._token="",this.channelNameContainsFilter="",this.channelUrlsFilter=[],this.customTypesFilter=[],this.customTypeStartsWithFilter=null,this.superChannelFilter=Me.SuperChannelFilter.ALL,this.membershipFilter=e.MembershipType.JOINED,this.metadataOrderKeyFilter=null}return s(e,[{key:"next",value:function(t){var n=this;return ne(this._iid,function(t){var r=F.get(n._iid).GroupChannel;!("number"==typeof n.limit&&0<n.limit&&"boolean"==typeof n.includeEmpty&&"string"==typeof n.order&&-1<[e.ORDER_CHRONOLOGICAL,e.CHANNEL_NAME_ALPHABETICAL,e.METADATA_VALUE_ALPHABETICAL,e.ORDER_LATEST_LAST_MESSAGE].indexOf(n.order.toLowerCase())&&Array.isArray(n.customTypesFilter)&&Array.isArray(n.channelUrlsFilter)&&-1<Object.keys(e.MembershipType).map(function(t){return e.MembershipType[t]}).indexOf(n.membershipFilter)&&-1<Object.keys(r.SuperChannelFilter).map(function(e){return r.SuperChannelFilter[e]}).indexOf(n.superChannelFilter))||"string"!=typeof n.customTypeStartsWithFilter&&null!==n.customTypeStartsWithFilter||"string"!=typeof n.channelNameContainsFilter||"string"!=typeof n.metadataOrderKeyFilter&&null!==n.metadataOrderKeyFilter?t(J.error,null):n.isLoading?t(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,O.get(n._iid).container.apiClient.loadPublicGroupChannelList(l({},n,{token:n._token}),function(e,a){var i=null;if(!e){var s=String(a.next);n._token=s,n.hasNext=!!s,i=a.channels.map(function(e){return r.upsert(e)})}n.isLoading=!1,t(e,i)})):t(null,[])},t)}}],[{key:"MembershipType",get:function(){return{ALL:"all",JOINED:"joined"}}},{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}}]),e}(),$e=function(){function e(){a(this,e),this.isDistinct=null,this.isSuper=null,this.isPublic=null,this.channelUrl=null,this.isEphemeral=null,this.isDiscoverable=null,this.isStrict=null,this.name=null,this.data=null,this.customType=null,this.channelCover=null,this.coverUrl=null,this.coverImage=null,this.accessCode=null,this._invitedUserIds=[];var t=null;Object.defineProperty(this,"operators",{set:function(e){Array.isArray(e)&&e.filter(function(e){return e.hasOwnProperty("userId")}).length===e.length&&(t=e.map(function(e){return e.userId}))}}),Object.defineProperty(this,"operatorUserIds",{get:function(){return t},set:function(e){Array.isArray(e)&&e.filter(function(e){return"string"==typeof e}).length===e.length&&(t=e)}})}return s(e,[{key:"_validate",value:function(){return Array.isArray(this._invitedUserIds)&&this._invitedUserIds.every(function(e){return"string"==typeof e})&&("string"==typeof this.channelUrl||null===this.channelUrl)&&("string"==typeof this.coverUrl||null===this.coverUrl)&&(z.isFile(this.coverImage)||null===this.coverImage)&&("string"==typeof this.name||null===this.name)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&("boolean"==typeof this.isDistinct||null===this.isDistinct)&&("boolean"==typeof this.isSuper||null===this.isSuper)&&("boolean"==typeof this.isPublic||null===this.isPublic)&&("boolean"==typeof this.isEphemeral||null===this.isEphemeral)&&("boolean"==typeof this.isDiscoverable||null===this.isDiscoverable)&&("boolean"==typeof this.isStrict||null===this.isStrict)&&(Array.isArray(this.operatorUserIds)&&this.operatorUserIds.every(function(e){return"string"==typeof e})||null===this.operatorUserIds)&&("string"==typeof this.accessCode||null===this.accessCode)}},{key:"addUsers",value:function(e){if(Array.isArray(e)){var t,n=e.filter(function(e){return e.hasOwnProperty("userId")&&"string"==typeof e.userId}).map(function(e){return e.userId});(t=this._invitedUserIds).push.apply(t,E(n))}}},{key:"addUser",value:function(e){e.hasOwnProperty("userId")&&"string"==typeof e.userId&&this._invitedUserIds.push(e.userId)}},{key:"addUserIds",value:function(e){if(Array.isArray(e)){var t,n=e.filter(function(e){return"string"==typeof e});(t=this._invitedUserIds).push.apply(t,E(n))}}},{key:"addUserId",value:function(e){"string"==typeof e&&this._invitedUserIds.push(e)}}]),e}(),et=function(){function e(){a(this,e),this._mentionType=e.MentionType.USERS,this._mentionedUserIds=[],this._cachedMentionedUsers=[],this._cachedMentionedUserIds=[]}return s(e,[{key:"_validate",value:function(){var e=F.get(this._iid).BaseMessageParams;return-1<Object.keys(e.MentionType).map(function(t){return e.MentionType[t]}).indexOf(this.mentionType)&&this._mentionedUserIds.every(function(e){return"string"==typeof e})}},{key:"mentionType",get:function(){return this._mentionType},set:function(e){var t=F.get(this._iid).BaseMessageParams;-1<Object.keys(t.MentionType).map(function(e){return t.MentionType[e]}).indexOf(e)&&(this._mentionType=e)}},{key:"mentionedUserIds",get:function(){return this._cachedMentionedUserIds},set:function(e){if(Array.isArray(e))for(var t=gt.getInstance(this._iid),n=0;n<e.length;n++){var r=e[n];if("string"!=typeof r){this._cachedMentionedUserIds=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r)<0&&t.currentUser&&t.currentUser.userId!==r&&(this._cachedMentionedUserIds.push(r),this._mentionedUserIds.push(r))}}},{key:"mentionedUsers",get:function(){return this._cachedMentionedUsers},set:function(e){if(Array.isArray(e))for(var t=gt.getInstance(this._iid),n=0;n<e.length;n++){var r=e[n];if(!r.hasOwnProperty("userId")){this._cachedMentionedUsers=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r.userId)<0&&t.currentUser&&t.currentUser.userId!==r.userId&&(this._cachedMentionedUsers.push(r),this._mentionedUserIds.push(r.userId))}}}],[{key:"MentionType",get:function(){return{USERS:"users",CHANNEL:"channel"}}},{key:"PushNotificationDeliveryOption",get:function(){return{DEFAULT:"default",SUPPRESS:"suppress"}}}]),e}(),tt=function(){function e(){var t;return a(this,e),(t=m(this,d(e).call(this))).message=null,t.data=null,t.customType=null,t.pushNotificationDeliveryOption=null,t._metaArrayKeys=[],t._translationTargetLanguages=[],t}return c(e,et),s(e,[{key:"_validate",value:function(){var t=F.get(this._iid).BaseMessageParams;return g(d(e.prototype),"_validate",this).call(this)&&("string"==typeof this.message||null===this.message)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.translationTargetLanguages)&&this.translationTargetLanguages.every(function(e){return"string"==typeof e})&&Array.isArray(this.metaArrayKeys)&&this.metaArrayKeys.every(function(e){return"string"==typeof e})&&(null===this.pushNotificationDeliveryOption||-1<Object.keys(t.PushNotificationDeliveryOption).map(function(e){return t.PushNotificationDeliveryOption[e]}).indexOf(this.pushNotificationDeliveryOption))}},{key:"metaArrayKeys",get:function(){return this._metaArrayKeys},set:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++)"string"==typeof e[n]&&t.indexOf(e[n])<0&&t.push(e[n]);this._metaArrayKeys=t}},{key:"targetLanguages",get:function(){return this.translationTargetLanguages},set:function(e){this.translationTargetLanguages=e}},{key:"translationTargetLanguages",get:function(){return this._translationTargetLanguages},set:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("string"!=typeof e[t])return void(this._translationTargetLanguages=[]);this._translationTargetLanguages=e}}}]),e}();(b()||S())&&M(et,tt);var nt=function(){function e(){var t;return a(this,e),(t=m(this,d(e).call(this))).fileName=null,t.mimeType=null,t.fileSize=null,t.data=null,t.customType=null,t.pushNotificationDeliveryOption=null,t._isUpdate=!1,t._file=null,t._fileUrl=null,t._metaArrayKeys=[],t._thumbnailSizes=[],t}return c(e,et),s(e,[{key:"_validate",value:function(){var t=F.get(this._iid).BaseMessageParams;return g(d(e.prototype),"_validate",this).call(this)&&(this._isUpdate||z.isFile(this.file)||"string"==typeof this.fileUrl)&&("string"==typeof this.fileName||null===this.fileName)&&("string"==typeof this.mimeType||null===this.mimeType)&&("number"==typeof this.fileSize||null===this.fileSize)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this._metaArrayKeys)&&this._metaArrayKeys.every(function(e){return"string"==typeof e})&&(null===this._thumbnailSizes||this._thumbnailSizes.every(function(e){return"object"===r(e)&&0<e.maxWidth&&0<e.maxHeight}))&&(null===this.pushNotificationDeliveryOption||-1<Object.keys(t.PushNotificationDeliveryOption).map(function(e){return t.PushNotificationDeliveryOption[e]}).indexOf(this.pushNotificationDeliveryOption))}},{key:"file",get:function(){return this._file},set:function(e){z.isFile(e)&&(this._fileUrl=null,this._file=e)}},{key:"fileUrl",get:function(){return this._fileUrl},set:function(e){"string"==typeof e&&(this._fileUrl=e,this._file=null)}},{key:"metaArrayKeys",get:function(){return this._metaArrayKeys},set:function(e){var t=[];if(Array.isArray(e))for(var n=0;n<e.length;n++)"string"==typeof e[n]&&t.indexOf(e[n])<0&&t.push(e[n]);this._metaArrayKeys=t}},{key:"thumbnailSizes",get:function(){return this._thumbnailSizes},set:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("object"!==r(e[t])||"number"!=typeof e[t].maxWidth||"number"!=typeof e[t].maxHeight)return void(this._thumbnailSizes=[]);this._thumbnailSizes=e}}}]),e}();(b()||S())&&M(et,nt);var rt=function(){function e(t){var n;return a(this,e),(n=m(this,d(e).call(this))).year=null,n.month=null,n.day=null,n.hour=null,n.min=null,n.timezone=null,n._scheduledDateTimeString=null,t&&n._update(t),n}return c(e,tt),s(e,[{key:"_update",value:function(e){e.hasOwnProperty("message")&&(this.message=e.message),e.hasOwnProperty("year")&&(this.year=e.year),e.hasOwnProperty("month")&&(this.month=e.month),e.hasOwnProperty("day")&&(this.day=e.day),e.hasOwnProperty("hour")&&(this.hour=e.hour),e.hasOwnProperty("min")&&(this.min=e.min),e.hasOwnProperty("timezone")&&(this.timezone=e.timezone)}},{key:"_getScheduleString",value:function(){return this.scheduledDateTimeString?this.scheduledDateTimeString+" "+this.timezone:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&1<=this.month&&this.month<=12&&"number"==typeof this.day&&1<=this.day&&this.day<=31&&"number"==typeof this.hour&&0<=this.hour&&this.hour<=24&&"number"==typeof this.min&&0<=this.min&&this.min<=60&&"string"==typeof this.timezone&&0<this.timezone.length?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2)+" "+this.timezone:null}},{key:"setSchedule",value:function(e,t,n,r,a,i){"number"==typeof e&&4===e.toString().length&&"number"==typeof t&&1<=t&&t<=12&&"number"==typeof n&&1<=n&&n<=31&&"number"==typeof r&&0<=r&&r<=24&&"number"==typeof a&&0<=a&&a<=60&&"string"==typeof i&&0<i.length&&(this.scheduledDateTimeString=e.toString()+"-"+("0"+t.toString()).substr(-2)+"-"+("0"+n.toString()).substr(-2)+" "+("0"+r.toString()).substr(-2)+":"+("0"+a.toString()).substr(-2),this.timezone=i)}},{key:"scheduledDateTimeString",get:function(){return this._scheduledDateTimeString?this._scheduledDateTimeString:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&1<=this.month&&this.month<=12&&"number"==typeof this.day&&1<=this.day&&this.day<=31&&"number"==typeof this.hour&&0<=this.hour&&this.hour<=24&&"number"==typeof this.min&&0<=this.min&&this.min<=60&&"string"==typeof this.timezone&&0<this.timezone.length?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2):null},set:function(e){e&&"string"==typeof e&&(this._scheduledDateTimeString=e)}}]),e}();function at(){a(this,at),this.channelCustomTypesFilter=[],this.superChannelFilter=Me.SuperChannelFilter.ALL}function it(){a(this,it),this.onReconnectStarted=function(){},this.onReconnectSucceeded=function(){},this.onReconnectFailed=function(){}}function st(){a(this,st),this.onFriendsDiscovered=function(e){},this.onTotalUnreadMessageCountUpdated=function(e,t){}}function ot(){a(this,ot),this.onMessageReceived=function(e,t){},this.onMessageUpdated=function(e,t){},this.onMessageDeleted=function(e,t){},this.onReadReceiptUpdated=function(e){},this.onReactionUpdated=function(e,t){},this.onDeliveryReceiptUpdated=function(e){},this.onTypingStatusUpdated=function(e){},this.onUserJoined=function(e,t){},this.onUserLeft=function(e,t){},this.onUserEntered=function(e,t){},this.onUserExited=function(e,t){},this.onUserMuted=function(e,t){},this.onUserUnmuted=function(e,t){},this.onUserBanned=function(e,t){},this.onUserUnbanned=function(e,t){},this.onChannelFrozen=function(e){},this.onChannelUnfrozen=function(e){},this.onChannelChanged=function(e){},this.onChannelDeleted=function(e,t){},this.onUserReceivedInvitation=function(e,t,n){},this.onUserDeclinedInvitation=function(e,t,n){},this.onMetaDataCreated=function(e,t){},this.onMetaDataUpdated=function(e,t){},this.onMetaDataDeleted=function(e,t){},this.onMetaCountersCreated=function(e,t){},this.onMetaCountersUpdated=function(e,t){},this.onMetaCountersDeleted=function(e,t){},this.onChannelHidden=function(e){},this.onMentionReceived=function(e,t){}}function ut(e){if(a(this,ut),e){var t=F.get(this._iid),n=t.User,r=t.BaseChannel;this.reader=new n(e.user),this.timestamp=parseInt(e.ts),this.channelUrl=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.channelType=e.hasOwnProperty("channel_type")?String(e.channel_type):r.CHANNEL_TYPE_GROUP}}(b()||S())&&M(tt,rt);var lt=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];a(this,e),this.key=t,this.value=Array.isArray(n)&&n.every(function(e){return"string"==typeof e})?n:[]}return s(e,[{key:"encode",value:function(){return{key:this.key,value:this.value||[]}}}]),e}(),ct=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;a(this,e),this.key=t,this.userIds=n,this.updatedAt=r}return s(e,null,[{key:"createFromJson",value:function(e){var t=e.key,n=e.user_ids,r=e.updated_at;return"string"==typeof t&&t&&Array.isArray(n)&&0<n.length&&"number"==typeof r?new this(t,n,r):null}}]),e}(),dt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIds=t,this.metaDataKey="",this.metaDataValues=[],this._token=""}return s(e,[{key:"next",value:function(e){var t=this;return ne(this._iid,function(e){"number"==typeof t.limit&&0<t.limit&&Array.isArray(t.userIds)&&"string"==typeof t.metaDataKey&&Array.isArray(t.metaDataValues)&&!!t.metaDataKey==0<t.metaDataValues.length?t.isLoading?e(new R("Query in progress.",R.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,O.get(t._iid).container.apiClient.loadUserList(l({},t,{userIdsFilter:t.userIds,metaDataKeyFilter:t.metaDataKey,metaDataValuesFilter:t.metaDataValues,token:t._token}),function(n,r){var a=null;if(!n){var i=F.get(t._iid).User,s=String(r.next);t._token=s,t.hasNext=!!s,a=r.users.map(function(e){return new i(e)})}t.isLoading=!1,e(n,a)})):e(null,[]):e(J.error,null)},e)}}]),e}(),ht=new w,ft=function(){function e(t){a(this,e),this.isLoading=!1,ht.set(this,t)}return s(e,[{key:"prev",value:function(e,t,n,r){var a=arguments,i=this;return ne(this._iid,function(r){var s,o=F.get(i._iid).BaseChannel,u=v(J.parse(a,[new J({type:"number"}),new J({type:"number"}),new J({type:"boolean"}),new J({type:"function"})]),5);if(s=u[0],e=u[1],t=u[2],n=u[3],r=u[4],s)r(s,null);else if(i.isLoading)r(new R("Query in progress.",R.QUERY_IN_PROGRESS),null);else{i.isLoading=!0;var l=ht.get(i);O.get(i._iid).container.apiClient.getMessageList({channel:l,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:t,nextResultSize:0,shouldReverse:n,messageType:"",customType:""},function(e,t){var n=null;e||(n=t.messages.map(function(e){return o.buildMessage(e,l)})),i.isLoading=!1,r(e,n)})}},r)}},{key:"next",value:function(e,t,n,r){var a=arguments,i=this;return ne(this._iid,function(r){var s,o=F.get(i._iid).BaseChannel,u=v(J.parse(a,[new J({type:"number"}),new J({type:"number"}),new J({type:"boolean"}),new J({type:"function"})]),5);if(s=u[0],e=u[1],t=u[2],n=u[3],r=u[4],s)r(s,null);else if(i.isLoading)r(new R("Query in progress.",R.QUERY_IN_PROGRESS),null);else{i.isLoading=!0;var l=ht.get(i);O.get(i._iid).container.apiClient.getMessageList({channel:l,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:0,nextResultSize:t,shouldReverse:n,messageType:"",customType:""},function(e,t){var n=null;e||(n=t.messages.map(function(e){return o.buildMessage(e,l)})),i.isLoading=!1,r(e,n)})}},r)}},{key:"load",value:function(e,t,n,r,a){var i=arguments,s=this;return ne(this._iid,function(a){var o,u=F.get(s._iid).BaseChannel,l=v(J.parse(i,[new J({type:"number"}),new J({type:"number"}),new J({type:"number"}),new J({type:"boolean"}),new J({type:"callback"})]),6);if(o=l[0],e=l[1],t=l[2],n=l[3],r=l[4],a=l[5],o)a(o,null);else if(s.isLoading)a(new R("Query in progress.",R.QUERY_IN_PROGRESS),null);else{s.isLoading=!0;var c=ht.get(s);O.get(s._iid).container.apiClient.getMessageList({channel:c,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:t,nextResultSize:n,shouldReverse:r,messageType:"",customType:""},function(e,t){var n=null;e||(n=t.messages.map(function(e){return u.buildMessage(e,c)})),s.isLoading=!1,a(e,n)})}},a)}}]),e}(),pt=null,yt={},mt=!1,gt=function(){function e(t){a(this,e);var n=!1;if(t.newInstance||!pt?(n=!0,pt=this):pt&&t.appId!==pt.getApplicationId()&&pt.getConnectionState()===pt.ConnectionState.CLOSED&&(n=!0,pt=this),n){try{if(!t.hasOwnProperty("appId"))return x.debug("Must be set appId"),null}catch(t){return x.debug("Must be set appId"),null}var r=ve.create();Object.defineProperty(this,"_iid",{get:function(){return r}}),(yt[r]=this).customApiHost=null,this.customWsHost=null,this.connecting=!1,this.reconnecting=!1,this.isReconnectingOnError=!1,this.connectionCallbacks=[],this.ConnectionManager=new Z(this),this.GCMPushToken="",this.APNSPushToken="",this.PUSH_TEMPLATE_DEFAULT="default",this.PUSH_TEMPLATE_ALTERNATIVE="alternative",this.currentUser=null,this.isSessionOpened=!1,this.globalTimer,this.loginTimer,this.reconnectTimer,this.loginHandler=null,this.onLoginTimerCancel,this.onReconnectTimerCancel,this.BaseChannel={MessageTypeFilter:he.MessageTypeFilter};var i={User:ce,Member:Ee,GroupChannel:Me,OpenChannel:ke,UserMessage:Te,FileMessage:Oe,AdminMessage:Re,GroupChannelListQuery:Fe,GroupChannelParams:$e,BaseMessageParams:et,UserMessageParams:tt,FileMessageParams:nt,ScheduledUserMessageParams:rt,GroupChannelTotalUnreadMessageCountParams:at,MessageMetaArray:lt,UserEventHandler:st,ChannelHandler:ot,ConnectionHandler:it},s={BaseChannel:he,BaseMessage:ae,UserListQuery:dt,ApplicationUserListQuery:Pe,BannedUserListQuery:De,BlockedUserListQuery:xe,FriendListQuery:He,MemberListQuery:Ge,MutedUserListQuery:je,OpenChannelListQuery:Be,OperatorListQuery:ze,ParticipantListQuery:Qe,MessageListQuery:ft,PreviousMessageListQuery:Ze,MessageSearchQuery:Ke,PublicGroupChannelListQuery:Xe,ScheduledUserMessage:Le,Command:ee,Sender:Ce,ReadStatus:ut,Reaction:ct,ReactionEvent:te,FileMessageQueue:_e},o=new F(this._iid,l({},i,{},s));for(var u in o)i[u]&&(this[u]=o[u]);O.create(r,{appId:t.appId,pinger:new G(this),apiClient:new V(this),wsAdapter:new Y(this),commandHandler:new ye(this),onlineDetector:new X(this),ackStateMap:{},subscribedUnreadMessageCount:{all:0,custom_types:{},ts:0},auth:new L,pingInterval:15e3,pongTimeout:5e3,connectedAt:0,stateChangeEnabled:!0,isInBackground:!1,closedByGoingBackground:!1,isErrorFirstInCallback:!1}),this.userEventHandlers={},this.channelHandlers={},this.connectionHandlers={},this.Options={_useMemberAsMessageSender:!0,get UseMemberAsMessageSender(){return this._useMemberAsMessageSender},set UseMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},get useMemberAsMessageSender(){return this._useMemberAsMessageSender},set useMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},_typingIndicatorThrottle:1e3,get typingIndicatorThrottle(){return this._typingIndicatorThrottle},set typingIndicatorThrottle(e){"number"==typeof e&&1e3<=e&&e<=9e3&&(this._typingIndicatorThrottle=e)}}}return pt}return s(e,[{key:"getApplicationId",value:function(){return O.get(this._iid).get("appId")}},{key:"getCurrentUserId",value:function(){return this.currentUser?this.currentUser.userId:null}},{key:"getDebugMode",value:function(){return mt}},{key:"setDebugMode",value:function(e){mt=e,x.mode=e?x.Mode.DEBUG:x.Mode.PRODUCTION}},{key:"getErrorFirstCallback",value:function(){return O.get(this._iid).container.isErrorFirstInCallback}},{key:"setErrorFirstCallback",value:function(e){"boolean"==typeof e&&O.get(this._iid).set("isErrorFirstInCallback",e)}},{key:"getCurrentApiHost",value:function(){return this.customApiHost?this.customApiHost:"https://api.sendbird.com"}},{key:"clearCurrentApiHost",value:function(){this.customApiHost=null}},{key:"getCurrentWsHost",value:function(){return this.customWsHost?this.customWsHost:"wss://ws.sendbird.com"}},{key:"clearCurrentWsHost",value:function(){this.customWsHost=null}},{key:"getConnectionState",value:function(){try{var e=O.get(this._iid).container.wsAdapter;return this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:e.ws?this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:this.isSessionOpened?e.ws.getConnectionState():this.ConnectionState.CLOSED:this.ConnectionState.CLOSED}catch(e){return this.ConnectionState.CLOSED}}},{key:"getPendingGCMToken",value:function(){return this.GCMPushToken}},{key:"getPendingAPNSToken",value:function(){return this.APNSPushToken}},{key:"hasLoggedIn",value:function(){var e=O.get(this._iid);return this.currentUser&&e.get("auth").hasSession()}},{key:"getLastConnectedAt",value:function(){var e=O.get(this._iid);return this.getConnectionState()===this.ConnectionState.OPEN&&this.currentUser?e.get("connectedAt"):0}},{key:"connect",value:function(e,t,n,r,a){var i=this,s=O.get(this._iid).container,o=s.wsAdapter,u=s.onlineDetector;u&&u.start();var l,c=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||3===e.length}}),new J({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new J({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new J({type:"callback"})]),6);return l=c[0],e=c[1],t=c[2],n=c[3],r=c[4],a=c[5],ne(this._iid,function(a){l?a(l,null):(i.customApiHost=n,i.customWsHost=r,i.connecting=!0,i.reconnecting=!1,i.isReconnectingOnError=!1,i.reconnectTimer&&(clearTimeout(i.reconnectTimer),i.reconnectTimer=null,i.onReconnectTimerCancel=null),i.getConnectionState()===i.ConnectionState.OPEN&&i.currentUser&&i.currentUser.userId===e?(i.connecting=!1,a(null,i.currentUser)):(i.connectionCallbacks.push(a),1===i.connectionCallbacks.length&&(o.disconnect({clearSession:!0,err:null},null),o.connect(e,t))))},a)}},{key:"reconnect",value:function(){var e=O.get(this._iid).container,t=e.wsAdapter;if(e.auth.sessionKey&&this.currentUser){var n=!0;return 0<t.reconnectCount&&(n=!1),t.disconnect({clearSession:!1,err:new R("Connection has been canceled.",R.CONNECTION_CANCELED)},null),t.reconnectCount=0,t.reconnect(this.currentUser.userId,n),!0}return!1}},{key:"disconnect",value:function(e){var t=this;return ne(this._iid,function(e){var n=O.get(t._iid).container,r=n.wsAdapter,a=n.onlineDetector;a&&a.stop(),r.disconnect({clearSession:!0,err:new R("Connection has been canceled.",R.CONNECTION_CANCELED)},e)},e)}},{key:"setBackgroundState",value:function(){var e=O.get(this._iid),t=e.container,n=t.wsAdapter,r=t.stateChangeEnabled;!t.isInBackground&&r&&(e.set("isInBackground",!0),this.getConnectionState()!==this.ConnectionState.CLOSED?(e.set("closedByGoingBackground",!0),n.disconnect({clearSession:!1,err:new R("Websocket connection failed.",R.WEBSOCKET_CONNECTION_FAILED)},null)):e.set("closedByGoingBackground",!1))}},{key:"setForegroundState",value:function(){var e=O.get(this._iid),t=e.container,n=t.wsAdapter,r=t.stateChangeEnabled,a=t.isInBackground,i=t.closedByGoingBackground;a&&r&&(e.set("isInBackground",!1),i&&this.currentUser&&n.reconnect(this.currentUser.userId,!0))}},{key:"enableStateChange",value:function(){O.get(this._iid).set("enableStateChange",!0)}},{key:"disableStateChange",value:function(){O.get(this._iid).set("enableStateChange",!1)}},{key:"createUserListQuery",value:function(e){return new(F.get(this._iid).UserListQuery)(e)}},{key:"createApplicationUserListQuery",value:function(){return new(F.get(this._iid).ApplicationUserListQuery)}},{key:"createBlockedUserListQuery",value:function(){return new(F.get(this._iid).BlockedUserListQuery)}},{key:"createFriendListQuery",value:function(){return new(F.get(this._iid).FriendListQuery)}},{key:"createMessageSearchQuery",value:function(e,t){return new(F.get(this._iid).MessageSearchQuery)(e,t)}},{key:"sendCommand",value:function(e,t){var n=this;return ne(this._iid,function(t){n.ConnectionManager.ready(function(r,a){if(r)t(r,null);else{var i=O.get(n._iid).container,s=i.wsAdapter,o=i.ackStateMap;if(null==s||null==s.ws||s.ws.getConnectionState()!==n.ConnectionState.OPEN||n.getConnectionState()!==n.ConnectionState.OPEN)return void t(new R("Connection is not valid. Please reconnect.",R.WEBSOCKET_CONNECTION_CLOSED),null);if(e.isAckRequired){var u=e.requestId,l={handler:t,timer:setTimeout(function(){t(new R("Command received no ack.",R.ACK_TIMEOUT),null),delete o[u]},C.COMMAND_ACK_TIMEOUT)};o[u]=l,s.ws.send(e,function(e){e&&(clearTimeout(l.timer),t(e,null))})}else s.ws.send(e,t)}},!1)},t)}},{key:"addUserEventHandler",value:function(e,t){t instanceof F.get(this._iid).UserEventHandler&&(this.userEventHandlers[e]=t)}},{key:"removeUserEventHandler",value:function(e){delete this.userEventHandlers[e]}},{key:"removeAllUserEventHandler",value:function(){this.userEventHandlers={}}},{key:"addChannelHandler",value:function(e,t){t instanceof F.get(this._iid).ChannelHandler&&(this.channelHandlers[e]=t)}},{key:"removeChannelHandler",value:function(e){delete this.channelHandlers[e]}},{key:"removeAllChannelHandlers",value:function(){this.channelHandlers={}}},{key:"addConnectionHandler",value:function(e,t){t instanceof F.get(this._iid).ConnectionHandler&&(this.connectionHandlers[e]=t)}},{key:"removeConnectionHandler",value:function(e){delete this.connectionHandlers[e]}},{key:"removeAllConnectionHandlers",value:function(){this.connectionHandlers={}}},{key:"updateCurrentUserInfo",value:function(e,t,n){var r,a=this,i=v(J.parse(arguments,[new J({type:"string",nullable:!0}),new J({type:"string",nullable:!0}),new J({type:"callback"})]),4);return r=i[0],e=i[1],t=i[2],n=i[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.updateCurrentUserInfo({nickname:e,profileUrl:t},function(r,i){var s=null;r||(a.currentUser&&(e&&(a.currentUser.nickname=e),t&&(a.currentUser.profileUrl=t)),s=a.currentUser),n(r,s)})},n)}},{key:"updateCurrentUserInfoWithProfileImage",value:function(e,t,n){var r,a=this,i=v(J.parse(arguments,[new J({type:"string",nullable:!0}),new J({type:"file",nullable:!0}),new J({type:"callback"})]),4);return r=i[0],e=i[1],t=i[2],n=i[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.updateCurrentUserInfo({nickname:e,profileImage:t},function(t,r){var i=null;t||(a.currentUser&&(e&&(a.currentUser.nickname=e),r.profile_url&&(a.currentUser.profileUrl=r.profile_url)),i=a.currentUser),n(t,i)})},n)}},{key:"updateCurrentUserInfoWithPreferredLanguages",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.updateCurrentUserInfo({preferredLanguages:e},function(n,a){var i=null;n||(r.currentUser&&e&&(r.currentUser._preferredLanguages=e),i=r.currentUser),t(n,i)})},t)}},{key:"registerGCMPushTokenForCurrentUser",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,r.pushTokenRegistrationState.ERROR):r.currentUser?O.get(r._iid).container.apiClient.registerGCMPushToken({token:e},function(e,n){var a=r.pushTokenRegistrationState.ERROR;e||(r.GCMPushToken="",a=r.pushTokenRegistrationState.SUCCESS),t(e,a)}):(r.GCMPushToken=e,t(null,r.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterGCMPushTokenForCurrentUser",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):r.currentUser?O.get(r._iid).container.apiClient.unregisterGCMPushToken({token:e},function(e,n){t(e,null)}):(r.GCMPushToken=e,t(null,r.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterGCMPushTokenAllForCurrentUser",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.unregisterAllGCMPushTokens({},function(t,n){e(t,null)})},e)}},{key:"registerAPNSPushTokenForCurrentUser",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,r.pushTokenRegistrationState.ERROR):r.currentUser?O.get(r._iid).container.apiClient.registerAPNSPushToken({token:e},function(e,n){var a=r.pushTokenRegistrationState.ERROR;e||(r.APNSPushToken="",a=r.pushTokenRegistrationState.SUCCESS),t(e,a)}):(r.APNSPushToken=e,t(null,r.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterAPNSPushTokenForCurrentUser",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return 0<e.length}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):r.currentUser?O.get(r._iid).container.apiClient.unregisterAPNSPushToken({token:e},function(e,n){t(e,null)}):(r.APNSPushToken=e,t(null,r.pushTokenRegistrationState.PENDING))},t)}},{key:"unregisterAPNSPushTokenAllForCurrentUser",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.unregisterAllAPNSPushTokens({},function(t,n){e(t,null)})},e)}},{key:"unregisterPushTokenAllForCurrentUser",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.unregisterAllPushTokens({},function(t,n){e(t,null)})},e)}},{key:"getMyGroupChannelChangeLogsByToken",value:function(e,t,n,r){var a,i=this,s=v(J.parse(arguments,[new J({type:"string",nullable:!0}),new J({type:"array",optional:!0,nullable:!0,defaultValue:null}),new J({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new J({type:"callback"})]),5);return a=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.getMyGroupChannelChangeLogs({ts:null,token:e,customTypes:t,includeEmpty:n},function(e,t){if(e)r(e,null);else{var n=F.get(i._iid).GroupChannel,a=t.updated.map(function(e){return new n(e)}),s=t.deleted,o=t.has_more,u=t.next;r(null,{updatedChannels:a,deletedChannelUrls:s,hasMore:o,token:u})}})},r)}},{key:"getMyGroupChannelChangeLogsByTimestamp",value:function(e,t,n,r){var a,i=this,s=v(J.parse(arguments,[new J({type:"number",constraint:function(e){return 0<=e}}),new J({type:"array",optional:!0,nullable:!0,defaultValue:null}),new J({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new J({type:"callback"})]),5);return a=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.getMyGroupChannelChangeLogs({ts:e,token:null,customTypes:t,includeEmpty:n},function(e,t){if(e)r(e,null);else{var n=F.get(i._iid).GroupChannel,a=t.updated.map(function(e){return new n(e)}),s=t.deleted,o=t.has_more,u=t.next;r(null,{updatedChannels:a,deletedChannelUrls:s,hasMore:o,token:u})}})},r)}},{key:"getChannelInvitationPreference",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getChannelInvitationPreference({},function(t,n){var r=null;t||(r={autoAccept:n.auto_accept}),e(t,r)})},e)}},{key:"setChannelInvitationPreference",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"boolean"}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.setChannelInvitationPreference({isAutoAccept:e},function(e,n){var r=null;e||(r={autoAccept:n.auto_accept}),t(e,r)})},t)}},{key:"getDoNotDisturb",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getDoNotDisturb({},function(t,n){var r=null;t||(r={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone}),e(t,r)})},e)}},{key:"setDoNotDisturb",value:function(e,t,n,r,a,i,s){var o,u=this,l=v(J.parse(arguments,[new J({type:"boolean"}),new J({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new J({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new J({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new J({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new J({type:"string"}),new J({type:"callback"})]),8);return o=l[0],e=l[1],t=l[2],n=l[3],r=l[4],a=l[5],i=l[6],s=l[7],ne(this._iid,function(s){o?s(o,null):O.get(u._iid).container.apiClient.setDoNotDisturb({doNotDisturbOn:e,startHour:t,startMin:n,endHour:r,endMin:a,timezone:i},function(e,t){var n=null;e||(n={doNotDisturbOn:t.do_not_disturb,startHour:t.start_hour,startMin:t.start_min,endHour:t.end_hour,endMin:t.end_min,timezone:t.timezone}),s(e,n)})},s)}},{key:"getSnoozePeriod",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getSnoozePeriod({},function(t,n){var r=null;t||(r={isSnoozeOn:n.snooze_enabled,startTs:n.snooze_start_ts,endTs:n.snooze_end_ts}),e(t,r)})},e)}},{key:"setSnoozePeriod",value:function(e,t,n,r){var a,i=this,s=v(J.parse(arguments,[new J({type:"boolean"}),new J({type:"number",constraint:function(e){return 0<e}}),new J({type:"number",constraint:function(e){return 0<e}}),new J({type:"callback"})]),5);return a=s[0],e=s[1],t=s[2],n=s[3],r=s[4],ne(this._iid,function(r){a?r(a,null):O.get(i._iid).container.apiClient.setSnoozePeriod({snoozeOn:e,startTs:t,endTs:n},function(e,t){var n=null;e||(n={isSnoozeOn:t.snooze_enabled,startTs:t.snooze_start_ts,endTs:t.snooze_end_ts}),r(e,n)})},r)}},{key:"blockUser",value:function(e,t){var n,r=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new J({type:"callback"})]),3);return n=r[0],e=r[1],t=r[2],n?ne(this._iid,function(e){e(n,null)},t):this.blockUserWithUserId(e.userId,t)}},{key:"blockUserWithUserId",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return e&&(!r.currentUser||e!==r.currentUser.userId)}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.blockUser({blockedUserId:e},function(e,n){var r=null;e||(r=new ce(n)),t(e,r)})},t)}},{key:"unblockUser",value:function(e,t){var n,r=v(J.parse(arguments,[new J({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new J({type:"callback"})]),3);return n=r[0],e=r[1],t=r[2],n?ne(this._iid,function(e){e(n,null)},t):this.unblockUserWithUserId(e.userId,t)}},{key:"unblockUserWithUserId",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",constraint:function(e){return e&&(!r.currentUser||e!==r.currentUser.userId)}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.unblockUser({unblockedUserId:e},function(e,n){t(e,null)})},t)}},{key:"getPushTriggerOption",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getPushTriggerOption({},function(t,n){e(t,n?n.push_trigger_option:null)})},e)}},{key:"setPushTriggerOption",value:function(e,t){var n=this;return ne(this._iid,function(t){-1<Object.keys(n.PushTriggerOption).map(function(e){return n.PushTriggerOption[e]}).indexOf(e)?O.get(n._iid).container.apiClient.setPushTriggerOption({pushTriggerOption:e},function(e,n){t(e,n?n.push_trigger_option:null)}):t(J.error,null)},t)}},{key:"getGroupChannelCount",value:function(e,t){var n,r=this,a=F.get(this._iid).GroupChannel,i=v(J.parse(arguments,[new J({type:a.MemberStateFilter,optional:!0,defaultValue:a.MemberStateFilter.ALL}),new J({type:"callback"})]),3);return n=i[0],e=i[1],t=i[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.getGroupChannelCount({memberStateFilter:e},function(e,n){var r=null;e||(r=parseInt(n.group_channel_count)),t(e,r)})},t)}},{key:"getTotalUnreadChannelCount",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getTotalUnreadChannelCount({},function(t,n){var r=null;t||(r=parseInt(n.unread_count)),e(t,r)})},e)}},{key:"getTotalUnreadMessageCount",value:function(e,t){var n,r=this,a=F.get(this._iid),i=a.GroupChannel,s=a.GroupChannelTotalUnreadMessageCountParams,o=v(J.parse(arguments,[new J({type:"object",optional:!0,defaultValue:null,constraint:function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})||e instanceof s}}),new J({type:"callback"})]),3);return n=o[0],e=o[1],t=o[2],ne(this._iid,function(t){if(n)t(n,null);else{var a=i.SuperChannelFilter.ALL;if(e instanceof s){var o=e;e=o.channelCustomTypesFilter,a=o.superChannelFilter}O.get(r._iid).container.apiClient.getTotalUnreadMessageCount({customTypesFilter:e,superChannelFilter:a},function(e,n){var r=null;e||(r=parseInt(n.unread_count)),t(e,r)})}},t)}},{key:"getUnreadItemCount",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return 0<e.length&&e.every(function(e){return-1<Object.keys(Me.UnreadItemKey).map(function(e){return Me.UnreadItemKey[e]}).indexOf(e)})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){if(n)t(n,null);else{var a=e.filter(function(t,n){return e.indexOf(t)===n});O.get(r._iid).container.apiClient.getUnreadItemCount({keys:a},function(e,n){t(e,n)})}},t)}},{key:"getSubscribedTotalUnreadMessageCount",value:function(){var e=O.get(this._iid).container.subscribedUnreadMessageCount;return 0<=e.all?e.all:0}},{key:"getSubscribedCustomTypeTotalUnreadMessageCount",value:function(){var e=O.get(this._iid).container.subscribedUnreadMessageCount;if(0<Object.keys(e.custom_types).length){var t=0;for(var n in e.custom_types)t+=e.custom_types[n];return t}return 0}},{key:"getSubscribedCustomTypeUnreadMessageCount",value:function(e){if(e&&"string"==typeof e){var t=O.get(this._iid).container.subscribedUnreadMessageCount;return t.custom_types.hasOwnProperty(e)?t.custom_types[e]:0}return 0}},{key:"getMyPushTokensByToken",value:function(e,t,n){var r,a=this,i=v(J.parse(arguments,[new J({type:"string"}),new J({type:"string",constraint:function(e){return-1<["gcm","apns","apns_voip"].indexOf(e)}}),new J({type:"callback"})]),4);return r=i[0],e=i[1],t=i[2],n=i[3],ne(this._iid,function(n){r?n(r,null):O.get(a._iid).container.apiClient.getPushTokens({ts:null,token:e,type:t},function(e,t){if(e)n(e,null);else{var r=t.type;n(null,{deviceTokens:t.device_tokens,type:r?r.toLowerCase():"unknown",hasMore:t.has_more,token:t.token})}})},n)}},{key:"getPushTemplate",value:function(e){var t=this;return ne(this._iid,function(e){O.get(t._iid).container.apiClient.getPushTemplate({},function(t,n){var r=null;t||(r=n.name.toString()),e(t,r)})},e)}},{key:"setPushTemplate",value:function(e,t){var n=this;return ne(this._iid,function(t){-1<[n.PUSH_TEMPLATE_DEFAULT,n.PUSH_TEMPLATE_ALTERNATIVE].indexOf(e)?O.get(n._iid).container.apiClient.setPushTemplate({templateName:e},function(e,n){var r=null;e||(r=n.name.toString()),t(e,r)}):t(J.error,null)},t)}},{key:"markAsReadAll",value:function(e){var t=this;return ne(this._iid,function(e){var n=F.get(t._iid).GroupChannel,r=(new Date).getTime();r-n.markAsReadAllLastSentAt<1e3?e(new R("MarkAsRead rate limit exceeded.",R.MARK_AS_READ_RATE_LIMIT_EXCEEDED),null):(n.markAsReadAllLastSentAt=r,O.get(t._iid).container.apiClient.markAsReadAll({channelUrls:null},function(a,i){if(!a)for(var s in n.cachedChannels)t.currentUser&&n.cachedChannels[s].updateReadReceipt(t.currentUser.userId,r),n.cachedChannels[s]._setGroupChannelUnreadCount(0,0);e(a,null)}))},e)}},{key:"markAsReadWithChannelUrls",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){if(n)t(n,null);else{var a=(new Date).getTime();O.get(r._iid).container.apiClient.markAsReadAll({channelUrls:e},function(n,i){if(!n)for(var s in e){var o=e[s];Me.cachedChannels[o]&&(r.currentUser&&Me.cachedChannels[o].updateReadReceipt(r.currentUser.userId,a),Me.cachedChannels[o]._setGroupChannelUnreadCount(0,0))}t(n,null)})}},t)}},{key:"markAsDelivered",value:function(e){"string"==typeof e&&F.get(this._iid).GroupChannel.getChannel(e,function(e,t){e||t.markAsDelivered()})}},{key:"getFriendChangeLogsByToken",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"string",optional:!0,defaultValue:null}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.getFriendChangeLogsByToken({token:e},function(e,n){var a=null;if(!e){var i=F.get(r._iid).User;a={updatedUsers:n.updated.map(function(e){return new i(e)}),deletedUserIds:n.deleted,hasMore:n.has_more,token:n.next}}t(e,a)})},t)}},{key:"uploadFriendDiscoveries",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return e.every(function(e){return e.hasOwnProperty("friendDiscoveryKey")})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.uploadFriendDiscoveries({discoveries:e},function(e,n){t(e,n)})},t)}},{key:"deleteFriendDiscovery",value:function(e,t){var n,r=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=r[0],e=r[1],t=r[2],n?ne(this._iid,function(e){e(n,null)},t):this.deleteFriendDiscoveries([e],t)}},{key:"deleteFriendDiscoveries",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.deleteFriendDiscoveries({discoveryKeys:e},function(e,n){t(e,n)})},t)}},{key:"addFriends",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.addFriends({userIds:e},function(e,n){var a=null;if(!e){var i=F.get(r._iid).User;a=n.users.map(function(e){return new i(e)})}t(e,a)})},t)}},{key:"deleteFriend",value:function(e,t){var n,r=v(J.parse(arguments,[new J({type:"string"}),new J({type:"callback"})]),3);return n=r[0],e=r[1],t=r[2],n?ne(this._iid,function(e){e(n,null)},t):this.deleteFriends([e],t)}},{key:"deleteFriends",value:function(e,t){var n,r=this,a=v(J.parse(arguments,[new J({type:"array",constraint:function(e){return e.every(function(e){return"string"==typeof e})}}),new J({type:"callback"})]),3);return n=a[0],e=a[1],t=a[2],ne(this._iid,function(t){n?t(n,null):O.get(r._iid).container.apiClient.deleteFriends({userIds:e},function(e,n){t(e,n)})},t)}},{key:"ConnectionState",get:function(){return{CONNECTING:"CONNECTING",OPEN:"OPEN",CLOSED:"CLOSED"}}},{key:"MessageRequestState",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",SUCCEEDED:"succeeded"}}},{key:"pushTokenRegistrationState",get:function(){return{SUCCESS:"success",PENDING:"pending",ERROR:"error"}}},{key:"PushTriggerOption",get:function(){return{ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}}],[{key:"getInstance",value:function(e){return e?yt[e]:pt}},{key:"version",get:function(){return C.SDK_VERSION}}]),e}();return gt}(n(672),n(673))}).call(this,n(33))},function(e,t){if(void 0===n)var n={};n.close={name:"close",height:48,width:48,path:"M37.98 34.827l-9.9-9.9 9.9-9.898c.78-.782.78-2.05 0-2.83-.78-.78-2.047-.78-2.828 0l-9.9 9.9-9.898-9.9c-.78-.78-2.048-.78-2.828 0-.78.78-.78 2.047 0 2.828l9.9 9.9-9.9 9.898c-.78.78-.78 2.047 0 2.828.78.78 2.047.78 2.828 0l9.9-9.9 9.898 9.9c.78.78 2.048.78 2.828 0 .782-.78.782-2.047 0-2.827z"},void 0!==e&&e.exports&&(e.exports=n.close)},function(e,t,n){"use strict";var r,a,i,s;function o(){return i=u(n(139))}function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isLeagueChannel=t.sbSetupChannelDetails=t.getChatName=t.sbAdjustMessageList=t.sbAreMessagesTenMinsApart=void 0;var l=t.sbAreMessagesTenMinsApart=function(e,t){var n=new Date(e.createdAt),r=new Date(t.createdAt),a=Math.abs(n-r);return Math.floor(a/1e3/60)<10},c=(t.sbAdjustMessageList=function(e){return e.map(function(t,a){if(t.sender&&(t.sender.isShow=!0),t.isUserMessage()||t.isFileMessage()?t.isUser=t.sender.userId===(r||(r=u(n(103)))).default.getInstance().getCurrentUserId():t.isUser=!1,a<e.length-1){var i=e[a+1];(t.isUserMessage()||t.isFileMessage())&&(i.isUserMessage()||i.isFileMessage())&&i.sender.userId===t.sender.userId&&l(i,t)&&(t.sender.isShow=!1)}return t})},t.getChatName=function(e){if("league"===e.customType)return e.name;var t=e.memberMap,n=e.name;return Object.keys(t).forEach(function(e){var r=t[e]||{};r.isMe||(n=r.nickname)}),n});t.sbSetupChannelDetails=function(e){var t=e.members||[],r=((0,(s||(s=n(88))).getChatsMapFromLocalStorage)()[e.url]||{}).isMinimized||!1;return t.map(function(t){var r=t;return r.isMe=(0,(a||(a=n(138))).isUserMe)(t),r.isMe?(e.display_coverUrl||(e.display_coverUrl=e.coverUrl?e.coverUrl:(i||o()).default.DEFAULT_AVATAR),r):(e.display_coverUrl="league"!==e.customType?r.profileUrl?r.profileUrl:(i||o()).default.DEFAULT_AVATAR:e.coverUrl?e.coverUrl:(i||o()).default.DEFAULT_AVATAR,r)}),e.members=t,e.display_name=c(e),e.isMinimized=r,e},t.isLeagueChannel=function(e){return e.customType&&"league"===e.customType}},,function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(13));t.default=r.default.shape({subscribe:r.default.func.isRequired,dispatch:r.default.func.isRequired,getState:r.default.func.isRequired})},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,i){var o;"function"==typeof n&&void 0===i&&(i=n,n=void 0);if(void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var u=t;var l=n;var c=[];var d=c;var h=!1;function f(){d===c&&(d=c.slice())}function p(){return l}function y(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return f(),d.push(e),function(){if(t){t=!1,f();var n=d.indexOf(e);d.splice(n,1)}}}function m(e){if(!(0,r.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,l=u(l,e)}finally{h=!1}for(var t=c=d,n=0;n<t.length;n++){var a=t[n];a()}return e}m({type:s.INIT});return o={dispatch:m,subscribe:y,getState:p,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:s.INIT})}},o[a.default]=function(){var e,t=y;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}n();var r=t(n);return{unsubscribe:r}}})[a.default]=function(){return this},e},o};var r=i(n(46)),a=i(n(181));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,i,s,o){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,i,s,o],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},a=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(e).replace(a,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<i;u=r[++n])y(u)||!E(u)?s+=" "+u:s+=" "+o(u);return s},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),a=!0}return n.apply(this,arguments)}};var i,s={};function o(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(r,e);return g(a)||(a=c(e,a,r)),a}var i=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,n);if(i)return i;var s=Object.keys(n),o=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),b(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(n);if(0===s.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(b(n))return d(n)}var l,E="",U=!1,A=["{","}"];(f(n)&&(U=!0,A=["[","]"]),S(n))&&(E=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(E=" "+RegExp.prototype.toString.call(n)),C(n)&&(E=" "+Date.prototype.toUTCString.call(n)),b(n)&&(E=" "+d(n)),0!==s.length||U&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=U?function(e,t,n,r,a){for(var i=[],s=0,o=t.length;s<o;++s)M(t,String(s))?i.push(h(e,t,n,r,String(s),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(h(e,t,n,r,a,!0))}),i}(e,n,r,o,s):s.map(function(t){return h(e,n,r,o,t,U)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,E,A)):A[0]+E+A[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,a,i){var s,o,u;if((u=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),M(r,a)||(s="["+a+"]"),o||(e.seen.indexOf(u.value)<0?(o=y(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(o=i?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),_(s)){if(i&&a.match(/^\d+$/))return o;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function y(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function _(e){return void 0===e}function v(e){return E(e)&&"[object RegExp]"===U(e)}function E(e){return"object"==typeof e&&null!==e}function C(e){return E(e)&&"[object Date]"===U(e)}function b(e){return E(e)&&("[object Error]"===U(e)||e instanceof Error)}function S(e){return"function"==typeof e}function U(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(_(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=v,t.isObject=E,t.isDate=C,t.isError=b,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(192);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(193),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function w(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(I&&e[I]){var t;if("function"!=typeof(t=e[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),a=[],i=0;i<arguments.length;i++)a.push(arguments[i]);a.push(function(e,r){e?n(e):t(r)});try{e.apply(this,a)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),I&&Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=I,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var a=n.pop();if("function"!=typeof a)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return a.apply(i,arguments)};t.apply(this,n).then(function(t){e.nextTick(s,null,t)},function(t){e.nextTick(w,t,s)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(33))},,,,,,function(e,t,n){"use strict";var r=n(120),a=n(125);r.default.__addLocaleData(a.default),r.default.defaultLocale="en",t.default=r.default},function(e,t,n){"use strict";var r=n(50),a=n(121),i=n(122),s=n(123);function o(e,t,n){var r="string"==typeof e?o.__parse(e):e;if(!r||"messageFormatPattern"!==r.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(o.formats,n),a.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var i=this._findPluralRuleFunction(this._locale),s=this._compilePattern(r,t,n,i),u=this;this.format=function(t){try{return u._format(s,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=o,a.defineProperty(o,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),a.defineProperty(o,"__localeData__",{value:a.objCreate(null)}),a.defineProperty(o,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");o.__localeData__[e.locale.toLowerCase()]=e}}),a.defineProperty(o,"__parse",{value:s.default.parse}),a.defineProperty(o,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),o.prototype.resolvedOptions=function(){return{locale:this._locale}},o.prototype._compilePattern=function(e,t,n,r){return new i.default(t,n,r).compile(e)},o.prototype._findPluralRuleFunction=function(e){for(var t=o.__localeData__,n=t[e.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},o.prototype._format=function(e,t){var n,a,i,s,o,u,l="";for(n=0,a=e.length;n<a;n+=1)if("string"!=typeof(i=e[n])){if(s=i.id,!t||!r.hop.call(t,s))throw(u=new Error("A value must be provided for: "+s)).variableId=s,u;o=t[s],i.options?l+=this._format(i.getOption(o),t):l+=i.format(o)}else l+=i;return l},o.prototype._mergeFormats=function(e,t){var n,i,s={};for(n in e)r.hop.call(e,n)&&(s[n]=i=a.objCreate(e[n]),t&&r.hop.call(t,n)&&r.extend(i,t[n]));return s},o.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(o.defaultLocale);var t,n,r,a,i=o.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(r=e[t].toLowerCase().split("-");r.length;){if(a=i[r.join("-")])return a.locale;r.pop()}var s=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+s)}},function(e,t,n){"use strict";var r=n(50),a=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),i=(!a&&Object.prototype.__defineGetter__,a?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!r.hop.call(e,t)||"value"in n)&&(e[t]=n.value)}),s=Object.create||function(e,t){var n,a;function s(){}for(a in s.prototype=e,n=new s,t)r.hop.call(t,a)&&i(n,a,t[a]);return n};t.defineProperty=i,t.objCreate=s},function(e,t,n){"use strict";function r(e,t,n){this.locales=e,this.formats=t,this.pluralFn=n}function a(e){this.id=e}function i(e,t,n,r,a){this.id=e,this.useOrdinal=t,this.offset=n,this.options=r,this.pluralFn=a}function s(e,t,n,r){this.id=e,this.offset=t,this.numberFormat=n,this.string=r}function o(e,t){this.id=e,this.options=t}t.default=r,r.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},r.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,n,r,a=e.elements,i=[];for(t=0,n=a.length;t<n;t+=1)switch((r=a[t]).type){case"messageTextElement":i.push(this.compileMessageText(r));break;case"argumentElement":i.push(this.compileArgument(r));break;default:throw new Error("Message element does not have a valid type")}return i},r.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new s(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},r.prototype.compileArgument=function(e){var t=e.format;if(!t)return new a(e.id);var n,r=this.formats,s=this.locales,u=this.pluralFn;switch(t.type){case"numberFormat":return n=r.number[t.style],{id:e.id,format:new Intl.NumberFormat(s,n).format};case"dateFormat":return n=r.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(s,n).format};case"timeFormat":return n=r.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(s,n).format};case"pluralFormat":return n=this.compileOptions(e),new i(e.id,t.ordinal,t.offset,n,u);case"selectFormat":return n=this.compileOptions(e),new o(e.id,n);default:throw new Error("Message element does not have a valid format type")}},r.prototype.compileOptions=function(e){var t,n,r,a=e.format,i=a.options,s={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===a.type?e:null,t=0,n=i.length;t<n;t+=1)s[(r=i[t]).selector]=this.compileMessage(r.value);return this.currentPlural=this.pluralStack.pop(),s},a.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},i.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},s.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},o.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},function(e,t,n){"use strict";(t=e.exports=n(124).default).default=t},function(e,t,n){"use strict";t.default=function(){function e(t,n,r,a){this.message=t,this.expected=n,this.found=r,this.location=a,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},a={},i={start:ke},s=ke,o=function(e){return{type:"messageFormatPattern",elements:e,location:Ae()}},u=function(e){var t,n,r,a,i,s="";for(t=0,r=e.length;t<r;t+=1)for(n=0,i=(a=e[t]).length;n<i;n+=1)s+=a[n];return s},l=function(e){return{type:"messageTextElement",value:e,location:Ae()}},c=/^[^ \t\n\r,.+={}#]/,d={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},h="{",f={type:"literal",value:"{",description:'"{"'},p=",",y={type:"literal",value:",",description:'","'},m="}",g={type:"literal",value:"}",description:'"}"'},_=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Ae()}},v="number",E={type:"literal",value:"number",description:'"number"'},C="date",b={type:"literal",value:"date",description:'"date"'},S="time",U={type:"literal",value:"time",description:'"time"'},A=function(e,t){return{type:e+"Format",style:t&&t[2],location:Ae()}},N="plural",M={type:"literal",value:"plural",description:'"plural"'},I=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Ae()}},w="selectordinal",k={type:"literal",value:"selectordinal",description:'"selectordinal"'},T=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Ae()}},O="select",R={type:"literal",value:"select",description:'"select"'},L=function(e){return{type:"selectFormat",options:e,location:Ae()}},P="=",D={type:"literal",value:"=",description:'"="'},x=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Ae()}},H="offset:",F={type:"literal",value:"offset:",description:'"offset:"'},G=function(e){return e},j=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Ae()}},B={type:"other",description:"whitespace"},q=/^[ \t\n\r]/,z={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},W={type:"other",description:"optionalWhitespace"},Q=/^[0-9]/,V={type:"class",value:"[0-9]",description:"[0-9]"},K=/^[0-9a-f]/i,Y={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},J="0",Z={type:"literal",value:"0",description:'"0"'},X=/^[1-9]/,$={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,ne={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},re="\\\\",ae={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ie=function(){return"\\"},se="\\#",oe={type:"literal",value:"\\#",description:'"\\\\#"'},ue=function(){return"\\#"},le="\\{",ce={type:"literal",value:"\\{",description:'"\\\\{"'},de=function(){return"{"},he="\\}",fe={type:"literal",value:"\\}",description:'"\\\\}"'},pe=function(){return"}"},ye="\\u",me={type:"literal",value:"\\u",description:'"\\\\u"'},ge=function(e){return String.fromCharCode(parseInt(e,16))},_e=function(e){return e.join("")},ve=0,Ee=0,Ce=[{line:1,column:1,seenCR:!1}],be=0,Se=[],Ue=0;if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=i[r.startRule]}function Ae(){return Me(Ee,ve)}function Ne(e){var n,r,a=Ce[e];if(a)return a;for(n=e-1;!Ce[n];)n--;for(a={line:(a=Ce[n]).line,column:a.column,seenCR:a.seenCR};n<e;)"\n"===(r=t.charAt(n))?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1),n++;return Ce[e]=a,a}function Me(e,t){var n=Ne(e),r=Ne(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Ie(e){ve<be||(ve>be&&(be=ve,Se=[]),Se.push(e))}function we(t,n,r,a){return null!==n&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==t?t:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(n,r),n,r,a)}function ke(){return Te()}function Te(){var e,t,n;for(e=ve,t=[],n=Oe();n!==a;)t.push(n),n=Oe();return t!==a&&(Ee=e,t=o(t)),e=t}function Oe(){var e;return(e=function(){var e,n;return e=ve,(n=function(){var e,n,r,i,s,o;if(e=ve,n=[],r=ve,(i=De())!==a&&(s=je())!==a&&(o=De())!==a?r=i=[i,s,o]:(ve=r,r=a),r!==a)for(;r!==a;)n.push(r),r=ve,(i=De())!==a&&(s=je())!==a&&(o=De())!==a?r=i=[i,s,o]:(ve=r,r=a);else n=a;return n!==a&&(Ee=e,n=u(n)),(e=n)===a&&(e=ve,n=Pe(),e=n!==a?t.substring(e,ve):n),e}())!==a&&(Ee=e,n=l(n)),e=n}())===a&&(e=function(){var e,n,r,i,s,o,u;return e=ve,123===t.charCodeAt(ve)?(n=h,ve++):(n=a,0===Ue&&Ie(f)),n!==a&&De()!==a&&(r=function(){var e,n,r;if((e=Fe())===a){if(e=ve,n=[],c.test(t.charAt(ve))?(r=t.charAt(ve),ve++):(r=a,0===Ue&&Ie(d)),r!==a)for(;r!==a;)n.push(r),c.test(t.charAt(ve))?(r=t.charAt(ve),ve++):(r=a,0===Ue&&Ie(d));else n=a;e=n!==a?t.substring(e,ve):n}return e}())!==a&&De()!==a?(i=ve,44===t.charCodeAt(ve)?(s=p,ve++):(s=a,0===Ue&&Ie(y)),s!==a&&(o=De())!==a&&(u=function(){var e;return(e=function(){var e,n,r,i,s,o;return e=ve,t.substr(ve,6)===v?(n=v,ve+=6):(n=a,0===Ue&&Ie(E)),n===a&&(t.substr(ve,4)===C?(n=C,ve+=4):(n=a,0===Ue&&Ie(b)),n===a&&(t.substr(ve,4)===S?(n=S,ve+=4):(n=a,0===Ue&&Ie(U)))),n!==a&&De()!==a?(r=ve,44===t.charCodeAt(ve)?(i=p,ve++):(i=a,0===Ue&&Ie(y)),i!==a&&(s=De())!==a&&(o=je())!==a?r=i=[i,s,o]:(ve=r,r=a),r===a&&(r=null),r!==a?(Ee=e,n=A(n,r),e=n):(ve=e,e=a)):(ve=e,e=a),e}())===a&&(e=function(){var e,n,r,i;return e=ve,t.substr(ve,6)===N?(n=N,ve+=6):(n=a,0===Ue&&Ie(M)),n!==a&&De()!==a?(44===t.charCodeAt(ve)?(r=p,ve++):(r=a,0===Ue&&Ie(y)),r!==a&&De()!==a&&(i=Le())!==a?(Ee=e,n=I(i),e=n):(ve=e,e=a)):(ve=e,e=a),e}())===a&&(e=function(){var e,n,r,i;return e=ve,t.substr(ve,13)===w?(n=w,ve+=13):(n=a,0===Ue&&Ie(k)),n!==a&&De()!==a?(44===t.charCodeAt(ve)?(r=p,ve++):(r=a,0===Ue&&Ie(y)),r!==a&&De()!==a&&(i=Le())!==a?(Ee=e,n=T(i),e=n):(ve=e,e=a)):(ve=e,e=a),e}())===a&&(e=function(){var e,n,r,i,s;if(e=ve,t.substr(ve,6)===O?(n=O,ve+=6):(n=a,0===Ue&&Ie(R)),n!==a)if(De()!==a)if(44===t.charCodeAt(ve)?(r=p,ve++):(r=a,0===Ue&&Ie(y)),r!==a)if(De()!==a){if(i=[],(s=Re())!==a)for(;s!==a;)i.push(s),s=Re();else i=a;i!==a?(Ee=e,n=L(i),e=n):(ve=e,e=a)}else ve=e,e=a;else ve=e,e=a;else ve=e,e=a;else ve=e,e=a;return e}()),e}())!==a?i=s=[s,o,u]:(ve=i,i=a),i===a&&(i=null),i!==a&&(s=De())!==a?(125===t.charCodeAt(ve)?(o=m,ve++):(o=a,0===Ue&&Ie(g)),o!==a?(Ee=e,n=_(r,i),e=n):(ve=e,e=a)):(ve=e,e=a)):(ve=e,e=a),e}()),e}function Re(){var e,n,r,i,s;return e=ve,De()!==a&&(n=function(){var e,n,r,i;return e=ve,n=ve,61===t.charCodeAt(ve)?(r=P,ve++):(r=a,0===Ue&&Ie(D)),r!==a&&(i=Fe())!==a?n=r=[r,i]:(ve=n,n=a),(e=n!==a?t.substring(e,ve):n)===a&&(e=je()),e}())!==a&&De()!==a?(123===t.charCodeAt(ve)?(r=h,ve++):(r=a,0===Ue&&Ie(f)),r!==a&&De()!==a&&(i=Te())!==a&&De()!==a?(125===t.charCodeAt(ve)?(s=m,ve++):(s=a,0===Ue&&Ie(g)),s!==a?(Ee=e,e=x(n,i)):(ve=e,e=a)):(ve=e,e=a)):(ve=e,e=a),e}function Le(){var e,n,r,i;if(e=ve,(n=function(){var e,n,r;return e=ve,t.substr(ve,7)===H?(n=H,ve+=7):(n=a,0===Ue&&Ie(F)),n!==a&&De()!==a&&(r=Fe())!==a?(Ee=e,e=n=G(r)):(ve=e,e=a),e}())===a&&(n=null),n!==a)if(De()!==a){if(r=[],(i=Re())!==a)for(;i!==a;)r.push(i),i=Re();else r=a;r!==a?(Ee=e,e=n=j(n,r)):(ve=e,e=a)}else ve=e,e=a;else ve=e,e=a;return e}function Pe(){var e,n;if(Ue++,e=[],q.test(t.charAt(ve))?(n=t.charAt(ve),ve++):(n=a,0===Ue&&Ie(z)),n!==a)for(;n!==a;)e.push(n),q.test(t.charAt(ve))?(n=t.charAt(ve),ve++):(n=a,0===Ue&&Ie(z));else e=a;return Ue--,e===a&&(n=a,0===Ue&&Ie(B)),e}function De(){var e,n,r;for(Ue++,e=ve,n=[],r=Pe();r!==a;)n.push(r),r=Pe();return e=n!==a?t.substring(e,ve):n,Ue--,e===a&&(n=a,0===Ue&&Ie(W)),e}function xe(){var e;return Q.test(t.charAt(ve))?(e=t.charAt(ve),ve++):(e=a,0===Ue&&Ie(V)),e}function He(){var e;return K.test(t.charAt(ve))?(e=t.charAt(ve),ve++):(e=a,0===Ue&&Ie(Y)),e}function Fe(){var e,n,r,i,s,o;if(e=ve,48===t.charCodeAt(ve)?(n=J,ve++):(n=a,0===Ue&&Ie(Z)),n===a){if(n=ve,r=ve,X.test(t.charAt(ve))?(i=t.charAt(ve),ve++):(i=a,0===Ue&&Ie($)),i!==a){for(s=[],o=xe();o!==a;)s.push(o),o=xe();s!==a?r=i=[i,s]:(ve=r,r=a)}else ve=r,r=a;n=r!==a?t.substring(n,ve):r}return n!==a&&(Ee=e,n=ee(n)),e=n}function Ge(){var e,n,r,i,s,o,u,l;return te.test(t.charAt(ve))?(e=t.charAt(ve),ve++):(e=a,0===Ue&&Ie(ne)),e===a&&(e=ve,t.substr(ve,2)===re?(n=re,ve+=2):(n=a,0===Ue&&Ie(ae)),n!==a&&(Ee=e,n=ie()),(e=n)===a&&(e=ve,t.substr(ve,2)===se?(n=se,ve+=2):(n=a,0===Ue&&Ie(oe)),n!==a&&(Ee=e,n=ue()),(e=n)===a&&(e=ve,t.substr(ve,2)===le?(n=le,ve+=2):(n=a,0===Ue&&Ie(ce)),n!==a&&(Ee=e,n=de()),(e=n)===a&&(e=ve,t.substr(ve,2)===he?(n=he,ve+=2):(n=a,0===Ue&&Ie(fe)),n!==a&&(Ee=e,n=pe()),(e=n)===a&&(e=ve,t.substr(ve,2)===ye?(n=ye,ve+=2):(n=a,0===Ue&&Ie(me)),n!==a?(r=ve,i=ve,(s=He())!==a&&(o=He())!==a&&(u=He())!==a&&(l=He())!==a?i=s=[s,o,u,l]:(ve=i,i=a),(r=i!==a?t.substring(r,ve):i)!==a?(Ee=e,e=n=ge(r)):(ve=e,e=a)):(ve=e,e=a)))))),e}function je(){var e,t,n;if(e=ve,t=[],(n=Ge())!==a)for(;n!==a;)t.push(n),n=Ge();else t=a;return t!==a&&(Ee=e,t=_e(t)),e=t}if((n=s())!==a&&ve===t.length)return n;throw n!==a&&ve<t.length&&Ie({type:"end",description:"end of input"}),we(null,Se,be<t.length?t.charAt(be):null,be<t.length?Me(be,be+1):Me(be,be))}}}()},function(e,t,n){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,i=a&&n[0].slice(-1),s=a&&n[0].slice(-2);return t?1==i&&11!=s?"one":2==i&&12!=s?"two":3==i&&13!=s?"few":"other":1==e&&r?"one":"other"}}},function(e,t){},,,,,,,,function(e,t,n){var r=n(21),a=n(56),i=n(17)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[i])?t:a(n)}},function(e,t,n){var r,a,i,s=n(31),o=n(254),u=n(202),l=n(147),c=n(19),d=c.process,h=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,y=c.Dispatch,m=0,g={},_=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},v=function(e){_.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){o("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete g[e]},"process"==n(37)(d)?r=function(e){d.nextTick(s(_,e,1))}:y&&y.now?r=function(e){y.now(s(_,e,1))}:p?(i=(a=new p).port2,a.port1.onmessage=v,r=s(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),_.call(e)}}:function(e){setTimeout(s(_,e,1),0)}),e.exports={set:h,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(21),a=n(32),i=n(87);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r;function a(){return r=function(e){return e&&e.__esModule?e:{default:e}}(n(103))}Object.defineProperty(t,"__esModule",{value:!0}),t.getMyUserObj=t.isUserMe=t.sbUnBlockUser=t.sbBlockUser=void 0;t.sbBlockUser=function(e){return new Promise(function(t,n){(r||a()).default.getInstance().blockUser(e,function(e,r){r?n(r):t(e)})})},t.sbUnBlockUser=function(e){return new Promise(function(t,n){(r||a()).default.getInstance().unblockUser(e,function(e,r){r?n(r):t(e)})})},t.isUserMe=function(e){return((r||a()).default.getInstance().currentUser||{}).userId===e.userId},t.getMyUserObj=function(){return(r||a()).default.getInstance().currentUser||{}}},function(e){e.exports={MAX_OPEN_CHATS:2,CHAT_WIDTH_PIXELS:375,CHAT_SPACING_BETWEEN:10,RIGHT_PADDING:20,DEFAULT_AVATAR:"https://ct.yimg.com/cy/1768/39361574426_98028a_64sq.jpg",GIF_SOURCE:"www%40tenor",GIF_APPID:"fantasy-sports-chat",GIF_FILETYPE:"gif",GIF_DEFAULTQUERY:"sports",SURVEY_LINK:"https://www.surveymonkey.com/r/YRT7Q3Y"}},,,,,,,,,function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(149),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(22))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a=1,i={},s=!1,o=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){c(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;r=function(t){var n=o.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return i[a]=s,r(a),a++},u.clearImmediate=l}function l(e){delete i[e]}function c(e){if(s)setTimeout(c,0,e);else{var t=i[e];if(t){s=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{l(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(22),n(33))},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={default:n(250),__esModule:!0}},,,,,function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(0),a=s(n(13)),i=s(n(107));s(n(108));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return a.store=n.store,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return r.Children.only(this.props.children)},t}(r.Component);t.default=o,o.propTypes={store:i.default.isRequired,children:a.default.element.isRequired},o.childContextTypes={store:i.default.isRequired}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=Boolean(e),g=e||d,_=void 0;_="function"==typeof t?t:t?(0,o.default)(t):h;var v=n||f,E=c.pure,C=void 0===E||E,b=c.withRef,S=void 0!==b&&b,U=C&&v!==f,A=y++;return function(e){var t="Connect("+function(e){return e.displayName||e.name||"Component"}(e)+")";var n=function(n){function i(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,r));a.version=A,a.store=e.store||r.store,(0,l.default)(a.store,'Could not find "store" in either the context or props of "'+t+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+t+'".');var s=a.store.getState();return a.state={storeState:s},a.clearCache(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),i.prototype.shouldComponentUpdate=function(){return!C||this.haveOwnPropsChanged||this.hasStoreStateChanged},i.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},i.prototype.configureFinalMapState=function(e,t){var n=g(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:g,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},i.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},i.prototype.configureFinalMapDispatch=function(e,t){var n=_(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:_,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},i.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,s.default)(e,this.stateProps))&&(this.stateProps=e,!0)},i.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,s.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},i.prototype.updateMergedPropsIfNeeded=function(){var e=function(e,t,n){var r=v(e,t,n);0;return r}(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&U&&(0,s.default)(e,this.mergedProps))&&(this.mergedProps=e,!0)},i.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},i.prototype.trySubscribe=function(){m&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},i.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},i.prototype.componentDidMount=function(){this.trySubscribe()},i.prototype.componentWillReceiveProps=function(e){C&&(0,s.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},i.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},i.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},i.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!C||t!==e){if(C&&!this.doStatePropsDependOnOwnProps){var n=function(e,t){try{return e.apply(t)}catch(e){return p.value=e,p}}(this.updateStatePropsIfNeeded,this);if(!n)return;n===p&&(this.statePropsPrecalculationError=p.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},i.prototype.getWrappedInstance=function(){return(0,l.default)(S,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},i.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,i=this.haveStatePropsBeenPrecalculated,s=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,s)throw s;var u=!0,l=!0;C&&o&&(u=n||t&&this.doStatePropsDependOnOwnProps,l=t&&this.doDispatchPropsDependOnOwnProps);var c=!1,d=!1;i?c=!0:u&&(c=this.updateStatePropsIfNeeded()),l&&(d=this.updateDispatchPropsIfNeeded());return!(!!(c||d||t)&&this.updateMergedPropsIfNeeded())&&o?o:(this.renderedElement=S?(0,a.createElement)(e,r({},this.mergedProps,{ref:"wrappedInstance"})):(0,a.createElement)(e,this.mergedProps),this.renderedElement)},i}(a.Component);return n.displayName=t,n.WrappedComponent=e,n.contextTypes={store:i.default},n.propTypes={store:i.default},(0,u.default)(n,e)}};var a=n(0),i=c(n(107)),s=c(n(179)),o=c(n(180)),u=(c(n(108)),c(n(46)),c(n(55))),l=c(n(112));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return{}},h=function(e){return{dispatch:e}},f=function(e,t,n){return r({},n,e,t)};var p={value:null};var y=0},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!a.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return function(t){return(0,r.bindActionCreators)(e,t)}};var r=n(54)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var a,i=function(e){return e&&e.__esModule?e:{default:e}}(n(182));a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=(0,i.default)(a);t.default=s}).call(this,n(22),n(2)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var s=t[a];0,"function"==typeof e[s]&&(n[s]=e[s])}var o=Object.keys(n);0;var u=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t],a=n(void 0,{type:r.ActionTypes.INIT});if(void 0===a)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:i}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,a={},s=0;s<o.length;s++){var l=o[s],c=n[l],d=e[l],h=c(d,t);if(void 0===h){var f=i(l,t);throw new Error(f)}a[l]=h,r=r||h!==d}return r?a:e}};var r=n(109);a(n(46)),a(n(110));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}t.__esModule=!0,t.default=function(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),a={},i=0;i<n.length;i++){var s=n[i],o=e[s];"function"==typeof o&&(a[s]=r(o,t))}return a}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,s){var o=e(n,i,s),u=o.dispatch,l=[],c={getState:o.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=a.default.apply(void 0,l)(o.dispatch),r({},o,{dispatch:u})}}};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(111))},,,,function(e,t,n){var r=n(190);e.exports=function(e){if("string"==typeof e)return e;var t=(e.protocol||"http")+"://";return t+=e.host,t+=e.path,e.matrix&&(t+=";"+r(e.matrix,";",!0)),e.query&&(t+="?"+r(e.query,"&")),t}},function(e,t){e.exports=function(e,t,n,r){var a=[],i=function(e){a.push(s+"="+(n?e:encodeURIComponent(e)))};for(var s in e)void 0!==e[s]&&(e[s]instanceof Array?e[s].forEach(i):a.push(s+"="+(n?e[s]:encodeURIComponent(e[s]))));return r&&(a=a.sort()),a.join(t)}},function(e,t,n){"use strict";var r=n(113),a=/(~-(\d+)-~)/g,i=/\{LBRACE\}/g,s=/\{RBRACE\}/g,o="{...}",u="f(){...}",l=", ",c=" => ",d=Object.prototype.toString,h={undefined:"undefined",number:"number",boolean:"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"};function f(e){return e&&"object"==typeof e}function p(e,t){var n,r,a=[],i=function(e){return h[typeof e]||h[d.call(e)]||(e?"object":"null")}(e);if(!f(e))return e.toString();if("date"===i)return e;if(e.nodeType&&e.tagName)return e.tagName+"#"+e.id;if(e.document&&e.navigator)return"window";if(e.location&&e.body)return"document";if("function"===i)return u;if(t=function(e){return"number"==typeof e}(t)?t:3,"array"===i){for(a.push("["),n=0,r=e.length;n<r;n+=1)f(e[n])?a.push(t>0?p(e[n],t-1):o):a.push(e[n]),a.push(l);a.length>1&&a.pop(),a.push("]")}else if("regexp"===i)a.push(e.toString());else{for(n in a.push("{"),e)if(e.hasOwnProperty(n))try{a.push(n+c),f(e[n])?a.push(t>0?p(e[n],t-1):o):a.push(e[n]),a.push(l)}catch(e){a.push("Error: "+e.message)}a.length>1&&a.pop(),a.push("}")}return a.join("")}e.exports=function(e,t,n,o){for(var u,l,c,d,h,y,m,g,_=[],v=e.length;!((u=e.lastIndexOf("{",v))<0)&&!(u+1>=(l=e.indexOf("}",u)));)y=null,(c=(d=m=e.substring(u+1,l)).indexOf(" "))>-1&&(y=d.substring(c+1),d=d.substring(0,c)),h=t[d],n&&(h=n(d,h,y)),f(h)?p?r.isArray(h)?h=p(h,parseInt(y,10)):((g=(y=y||"").indexOf("dump"))>-1&&(y=y.substring(4)),h=h.toString===Object.prototype.toString||g>-1?p(h,parseInt(y,10)):h.toString()):h=h.toString():void 0===h&&(h="~-"+_.length+"-~",_.push(m)),e=e.substring(0,u)+h+e.substring(l+1),o||(v=u-1);return e.replace(a,function(e,t,n){return"{"+_[parseInt(n,10)]+"}"}).replace(i,"{").replace(s,"}")}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e,t){var n={};if(!e||!t)return n;for(var r=0,a=t.length;r<a;r++){var i=t[r];e.hasOwnProperty(i)&&(n[i]=e[i])}return n}},,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";var r=n(209).default;n(214),(t=e.exports=r).default=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(210),a=n(213);r.default.__addLocaleData(a.default),r.default.defaultLocale="en",t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),a=n(211),i=n(212);t.default=u;var s=["second","second-short","minute","minute-short","hour","hour-short","day","day-short","month","month-short","year","year-short"],o=["best fit","numeric"];function u(e,t){t=t||{},i.isArray(e)&&(e=e.concat()),i.defineProperty(this,"_locale",{value:this._resolveLocale(e)}),i.defineProperty(this,"_options",{value:{style:this._resolveStyle(t.style),units:this._isValidUnits(t.units)&&t.units}}),i.defineProperty(this,"_locales",{value:e}),i.defineProperty(this,"_fields",{value:this._findFields(this._locale)}),i.defineProperty(this,"_messages",{value:i.objCreate(null)});var n=this;this.format=function(e,t){return n._format(e,t)}}i.defineProperty(u,"__localeData__",{value:i.objCreate(null)}),i.defineProperty(u,"__addLocaleData",{value:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if(!t||!t.locale)throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");u.__localeData__[t.locale.toLowerCase()]=t,r.default.__addLocaleData(t)}}}),i.defineProperty(u,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),i.defineProperty(u,"thresholds",{enumerable:!0,value:{second:45,"second-short":45,minute:45,"minute-short":45,hour:22,"hour-short":22,day:26,"day-short":26,month:11,"month-short":11}}),u.prototype.resolvedOptions=function(){return{locale:this._locale,style:this._options.style,units:this._options.units}},u.prototype._compileMessage=function(e){var t,n=this._locales,a=(this._locale,this._fields[e].relativeTime),i="",s="";for(t in a.future)a.future.hasOwnProperty(t)&&(i+=" "+t+" {"+a.future[t].replace("{0}","#")+"}");for(t in a.past)a.past.hasOwnProperty(t)&&(s+=" "+t+" {"+a.past[t].replace("{0}","#")+"}");var o="{when, select, future {{0, plural, "+i+"}}past {{0, plural, "+s+"}}}";return new r.default(o,n)},u.prototype._getMessage=function(e){var t=this._messages;return t[e]||(t[e]=this._compileMessage(e)),t[e]},u.prototype._getRelativeUnits=function(e,t){var n=this._fields[t];if(n.relative)return n.relative[e]},u.prototype._findFields=function(e){for(var t=u.__localeData__,n=t[e.toLowerCase()];n;){if(n.fields)return n.fields;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :"+e)},u.prototype._format=function(e,t){var n=t&&void 0!==t.now?t.now:i.dateNow();if(void 0===e&&(e=n),!isFinite(n))throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");if(!isFinite(e))throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");var r=a.default(n,e),s=this._options.units||this._selectUnits(r),o=r[s];if("numeric"!==this._options.style){var u=this._getRelativeUnits(o,s);if(u)return u}return this._getMessage(s).format({0:Math.abs(o),when:o<0?"past":"future"})},u.prototype._isValidUnits=function(e){if(!e||i.arrIndexOf.call(s,e)>=0)return!0;if("string"==typeof e){var t=/s$/.test(e)&&e.substr(0,e.length-1);if(t&&i.arrIndexOf.call(s,t)>=0)throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, did you mean: '+t)}throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, it must be one of: "'+s.join('", "')+'"')},u.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(u.defaultLocale);var t,n,r,a,i=u.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(r=e[t].toLowerCase().split("-");r.length;){if(a=i[r.join("-")])return a.locale;r.pop()}var s=e.pop();throw new Error("No locale data has been added to IntlRelativeFormat for: "+e.join(", ")+", or the default locale: "+s)},u.prototype._resolveStyle=function(e){if(!e)return o[0];if(i.arrIndexOf.call(o,e)>=0)return e;throw new Error('"'+e+'" is not a valid IntlRelativeFormat `style` value, it must be one of: "'+o.join('", "')+'"')},u.prototype._selectUnits=function(e){var t,n,r,a=s.filter(function(e){return e.indexOf("-short")<1});for(t=0,n=a.length;t<n&&(r=a[t],!(Math.abs(e[r])<u.thresholds[r]));t+=1);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.round;var a=6e4,i=864e5;function s(e){var t=new Date(e);return t.setHours(0,0,0,0),t}t.default=function(e,t){var n=r((t=+t)-(e=+e)),o=r(n/1e3),u=r(o/60),l=r(u/60),c=function(e,t){var n=s(e),r=s(t),o=n.getTime()-n.getTimezoneOffset()*a,u=r.getTime()-r.getTimezoneOffset()*a;return Math.round((o-u)/i)}(t,e),d=r(c/7),h=function(e){return 400*e/146097}(c),f=r(12*h),p=r(h);return{millisecond:n,second:o,"second-short":o,minute:u,"minute-short":u,hour:l,"hour-short":l,day:c,"day-short":c,week:d,"week-short":d,month:f,"month-short":f,year:p,"year-short":p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,i=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),s=(!i&&Object.prototype.__defineGetter__,i?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!r.call(e,t)||"value"in n)&&(e[t]=n.value)});t.defineProperty=s;var o=Object.create||function(e,t){var n,a;function i(){}for(a in i.prototype=e,n=new i,t)r.call(t,a)&&s(n,a,t[a]);return n};t.objCreate=o;var u=Array.prototype.indexOf||function(e,t){if(!this.length)return-1;for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1};t.arrIndexOf=u;var l=Array.isArray||function(e){return"[object Array]"===a.call(e)};t.isArray=l;var c=Date.now||function(){return(new Date).getTime()};t.dateNow=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,i=a&&n[0].slice(-1),s=a&&n[0].slice(-2);return t?1==i&&11!=s?"one":2==i&&12!=s?"two":3==i&&13!=s?"few":"other":1==e&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},week:{displayName:"week",relativePeriod:"the week of {0}",relative:{0:"this week",1:"next week","-1":"last week"},relativeTime:{future:{one:"in {0} week",other:"in {0} weeks"},past:{one:"{0} week ago",other:"{0} weeks ago"}}},"week-short":{displayName:"wk.",relativePeriod:"the week of {0}",relative:{0:"this wk.",1:"next wk.","-1":"last wk."},relativeTime:{future:{one:"in {0} wk.",other:"in {0} wk."},past:{one:"{0} wk. ago",other:"{0} wk. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}}},function(e,t){},function(e,t,n){"use strict";(t=e.exports=n(216).default).default=t},function(e,t,n){"use strict";function r(e){return JSON.stringify(e.map(function(e){return e&&"object"==typeof e?function(e){return Object.keys(e).sort().map(function(t){var n;return(n={})[t]=e[t],n})}(e):e}))}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return void 0===t&&(t={}),function(){for(var n,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var s=r(a),o=s&&t[s];return o||(o=new((n=e).bind.apply(n,[void 0].concat(a))),s&&(t[s]=o)),o}}},,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={default:n(236),__esModule:!0}},function(e,t,n){n(116),n(237),e.exports=n(14).Array.from},function(e,t,n){"use strict";var r=n(31),a=n(18),i=n(38),s=n(99),o=n(100),u=n(115),l=n(238),c=n(101);a(a.S+a.F*!n(102)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,d,h=i(e),f="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,m=void 0!==y,g=0,_=c(h);if(m&&(y=r(y,p>2?arguments[2]:void 0,2)),void 0==_||f==Array&&o(_))for(n=new f(t=u(h.length));t>g;g++)l(n,g,m?y(h[g],g):h[g]);else for(d=_.call(h),n=new f;!(a=d.next()).done;g++)l(n,g,m?s(d,y,[a.value,g],!0):a.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(27),a=n(89);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},,,function(e,t,n){!function(e){"use strict";var t={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function c(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:t.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:t.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():t.arrayBuffer&&t.blob&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=l(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}o.prototype.append=function(e,t){e=a(e),t=i(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},o.prototype.delete=function(e){delete this.map[a(e)]},o.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},o.prototype.set=function(e,t){this.map[a(e)]=i(t)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),s(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),s(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),s(e)},t.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(e,t){var n=(t=t||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=function(e){var t=e.toUpperCase();return f.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}}),t}function m(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];m.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.DOMException=self.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function _(n,r){return new Promise(function(a,i){var s=new p(n,r);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function l(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:function(e){var t=new o;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}}),t}(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;a(new m(t,e))},u.onerror=function(){i(new TypeError("Network request failed"))},u.ontimeout=function(){i(new TypeError("Network request failed"))},u.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},u.open(s.method,s.url,!0),"include"===s.credentials?u.withCredentials=!0:"omit"===s.credentials&&(u.withCredentials=!1),"responseType"in u&&t.blob&&(u.responseType="blob"),s.headers.forEach(function(e,t){u.setRequestHeader(t,e)}),s.signal&&(s.signal.addEventListener("abort",l),u.onreadystatechange=function(){4===u.readyState&&s.signal.removeEventListener("abort",l)}),u.send(void 0===s._bodyInit?null:s._bodyInit)})}_.polyfill=!0,self.fetch||(self.fetch=_,self.Headers=o,self.Request=p,self.Response=m),e.Headers=o,e.Request=p,e.Response=m,e.fetch=_,Object.defineProperty(e,"__esModule",{value:!0})}(t)},,function(e,t,n){e.exports=function(){"use strict";return[{locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,i=a&&n[0].slice(-1),s=a&&n[0].slice(-2);return t?1==i&&11!=s?"one":2==i&&12!=s?"two":3==i&&13!=s?"few":"other":1==e&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}},{locale:"en-001",parentLocale:"en",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr",other:"in {0} yr"},past:{one:"{0} yr ago",other:"{0} yr ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo",other:"in {0} mo"},past:{one:"{0} mo ago",other:"{0} mo ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hr"},past:{one:"{0} hr ago",other:"{0} hr ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min",other:"in {0} min"},past:{one:"{0} min ago",other:"{0} min ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec",other:"in {0} sec"},past:{one:"{0} sec ago",other:"{0} sec ago"}}}}},{locale:"en-150",parentLocale:"en-001"},{locale:"en-AG",parentLocale:"en-001"},{locale:"en-AI",parentLocale:"en-001"},{locale:"en-AS",parentLocale:"en"},{locale:"en-AT",parentLocale:"en-150"},{locale:"en-AU",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr",other:"in {0} yrs"},past:{one:"{0} yr ago",other:"{0} yrs ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"h",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hrs"},past:{one:"{0} hr ago",other:"{0} hrs ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} mins"},past:{one:"{0} min. ago",other:"{0} mins ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} secs"},past:{one:"{0} sec. ago",other:"{0} secs ago"}}}}},{locale:"en-BB",parentLocale:"en-001"},{locale:"en-BE",parentLocale:"en-001"},{locale:"en-BI",parentLocale:"en"},{locale:"en-BM",parentLocale:"en-001"},{locale:"en-BS",parentLocale:"en-001"},{locale:"en-BW",parentLocale:"en-001"},{locale:"en-BZ",parentLocale:"en-001"},{locale:"en-CA",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yrs."},past:{one:"{0} yr. ago",other:"{0} yrs. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mos."},past:{one:"{0} mo. ago",other:"{0} mos. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hrs."},past:{one:"{0} hr. ago",other:"{0} hrs. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} mins."},past:{one:"{0} min. ago",other:"{0} mins. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} secs."},past:{one:"{0} sec. ago",other:"{0} secs. ago"}}}}},{locale:"en-CC",parentLocale:"en-001"},{locale:"en-CH",parentLocale:"en-150"},{locale:"en-CK",parentLocale:"en-001"},{locale:"en-CM",parentLocale:"en-001"},{locale:"en-CX",parentLocale:"en-001"},{locale:"en-CY",parentLocale:"en-001"},{locale:"en-DE",parentLocale:"en-150"},{locale:"en-DG",parentLocale:"en-001"},{locale:"en-DK",parentLocale:"en-150"},{locale:"en-DM",parentLocale:"en-001"},{locale:"en-Dsrt",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},"year-short":{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},"month-short":{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},"day-short":{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},"hour-short":{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},"minute-short":{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}},"second-short":{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-ER",parentLocale:"en-001"},{locale:"en-FI",parentLocale:"en-150"},{locale:"en-FJ",parentLocale:"en-001"},{locale:"en-FK",parentLocale:"en-001"},{locale:"en-FM",parentLocale:"en-001"},{locale:"en-GB",parentLocale:"en-001"},{locale:"en-GD",parentLocale:"en-001"},{locale:"en-GG",parentLocale:"en-001"},{locale:"en-GH",parentLocale:"en-001"},{locale:"en-GI",parentLocale:"en-001"},{locale:"en-GM",parentLocale:"en-001"},{locale:"en-GU",parentLocale:"en"},{locale:"en-GY",parentLocale:"en-001"},{locale:"en-HK",parentLocale:"en-001"},{locale:"en-IE",parentLocale:"en-001"},{locale:"en-IL",parentLocale:"en-001"},{locale:"en-IM",parentLocale:"en-001"},{locale:"en-IN",parentLocale:"en-001"},{locale:"en-IO",parentLocale:"en-001"},{locale:"en-JE",parentLocale:"en-001"},{locale:"en-JM",parentLocale:"en-001"},{locale:"en-KE",parentLocale:"en-001"},{locale:"en-KI",parentLocale:"en-001"},{locale:"en-KN",parentLocale:"en-001"},{locale:"en-KY",parentLocale:"en-001"},{locale:"en-LC",parentLocale:"en-001"},{locale:"en-LR",parentLocale:"en-001"},{locale:"en-LS",parentLocale:"en-001"},{locale:"en-MG",parentLocale:"en-001"},{locale:"en-MH",parentLocale:"en"},{locale:"en-MO",parentLocale:"en-001"},{locale:"en-MP",parentLocale:"en"},{locale:"en-MS",parentLocale:"en-001"},{locale:"en-MT",parentLocale:"en-001"},{locale:"en-MU",parentLocale:"en-001"},{locale:"en-MW",parentLocale:"en-001"},{locale:"en-MY",parentLocale:"en-001"},{locale:"en-NA",parentLocale:"en-001"},{locale:"en-NF",parentLocale:"en-001"},{locale:"en-NG",parentLocale:"en-001"},{locale:"en-NL",parentLocale:"en-150"},{locale:"en-NR",parentLocale:"en-001"},{locale:"en-NU",parentLocale:"en-001"},{locale:"en-NZ",parentLocale:"en-001"},{locale:"en-PG",parentLocale:"en-001"},{locale:"en-PH",parentLocale:"en-001"},{locale:"en-PK",parentLocale:"en-001"},{locale:"en-PN",parentLocale:"en-001"},{locale:"en-PR",parentLocale:"en"},{locale:"en-PW",parentLocale:"en-001"},{locale:"en-RW",parentLocale:"en-001"},{locale:"en-SB",parentLocale:"en-001"},{locale:"en-SC",parentLocale:"en-001"},{locale:"en-SD",parentLocale:"en-001"},{locale:"en-SE",parentLocale:"en-150"},{locale:"en-SG",parentLocale:"en-001",fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr",relative:{0:"this yr",1:"next yr","-1":"last yr"},relativeTime:{future:{one:"in {0} yr",other:"in {0} yr"},past:{one:"{0} yr ago",other:"{0} yr ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mth",relative:{0:"this mth",1:"next mth","-1":"last mth"},relativeTime:{future:{one:"in {0} mth",other:"in {0} mth"},past:{one:"{0} mth ago",other:"{0} mth ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr",other:"in {0} hr"},past:{one:"{0} hr ago",other:"{0} hr ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min",other:"in {0} min"},past:{one:"{0} min ago",other:"{0} min ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec",other:"in {0} sec"},past:{one:"{0} sec ago",other:"{0} sec ago"}}}}},{locale:"en-SH",parentLocale:"en-001"},{locale:"en-SI",parentLocale:"en-150"},{locale:"en-SL",parentLocale:"en-001"},{locale:"en-SS",parentLocale:"en-001"},{locale:"en-SX",parentLocale:"en-001"},{locale:"en-SZ",parentLocale:"en-001"},{locale:"en-Shaw",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},"year-short":{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},"month-short":{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},"day-short":{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},"hour-short":{displayName:"Hour",relative:{0:"this hour"},relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},"minute-short":{displayName:"Minute",relative:{0:"this minute"},relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}},"second-short":{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-TC",parentLocale:"en-001"},{locale:"en-TK",parentLocale:"en-001"},{locale:"en-TO",parentLocale:"en-001"},{locale:"en-TT",parentLocale:"en-001"},{locale:"en-TV",parentLocale:"en-001"},{locale:"en-TZ",parentLocale:"en-001"},{locale:"en-UG",parentLocale:"en-001"},{locale:"en-UM",parentLocale:"en"},{locale:"en-US",parentLocale:"en"},{locale:"en-VC",parentLocale:"en-001"},{locale:"en-VG",parentLocale:"en-001"},{locale:"en-VI",parentLocale:"en"},{locale:"en-VU",parentLocale:"en-001"},{locale:"en-WS",parentLocale:"en-001"},{locale:"en-ZA",parentLocale:"en-001"},{locale:"en-ZM",parentLocale:"en-001"},{locale:"en-ZW",parentLocale:"en-001"}]}()},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,r,e):t(a)}}}}t.__esModule=!0;var a=r();a.withExtraArgument=r,t.default=a},function(e,t,n){"use strict";var r,a;function i(){return r=h(n(246))}Object.defineProperty(t,"__esModule",{value:!0});var s,o,u,l,c,d=function(){var e=(0,(a||(a=h(n(249)))).default)((r||i()).default.mark(function e(t){return(r||i()).default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status>=200&&t.status<300)){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,t.json();case 6:throw e.sent;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var r=e.split(".",2),a=(s||(s=h(n(674)))).default[r[0]],i=a.environments,o=a.resources[r[1]];return Object.assign({},i.default,i[t],o)}function p(e,t){var r=Object.assign({},e.defaults,t);return(0,(u||(u=h(n(189)))).default)({protocol:e.protocol,host:e.host,path:(e.rootPath||"")+(0,(l||(l=h(n(191)))).default)(e.path,r),query:(0,(c||(c=h(n(194)))).default)(r,e.query)})}t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=t.params,a=t.errorBeacon,i=e?f(e,t.env):{},s=n||p(i,r);return fetch(s,{credentials:i.credentials,mode:i.mode}).then(d).then(function(e){return"text"===i.format?e.text().then(function(e){return e.split("\n")}):e.json()}).catch(function(t){throw a&&a(e+".fail",s),console.warn("error",t),t})},t.post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.params,r=t.errorBeacon,a=f(e,t.env),i=p(a,n);return fetch(i,{credentials:a.credentials,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(d).then(function(e){return"text"===a.format?e.text().then(function(e){return e.split("\n")}):e.json()}).catch(function(t){throw r&&r(e+".fail",i),console.warn("error",t),t})},n(241),window.Promise||(window.Promise=(o||(o=h(n(677)))).default)},function(e,t,n){e.exports=n(247)},function(e,t,n){var r=function(){return this}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(248),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",l="object"==typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=E;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",y={},m={};m[s]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(T([])));_&&_!==r&&a.call(_,s)&&(m=_);var v=U.prototype=b.prototype=Object.create(m);S.prototype=v.constructor=U,U.constructor=S,U[u]=S.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,U):(e.__proto__=U,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(v),e},c.awrap=function(e){return{__await:e}},A(N.prototype),N.prototype[o]=function(){return this},c.AsyncIterator=N,c.async=function(e,t,n,r){var a=new N(E(e,t,n,r));return c.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},A(v),v[u]="Generator",v[s]=function(){return this},v.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=a.call(s,"catchLoc"),l=a.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}function E(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new k(r||[]);return i._invoke=function(e,t,n){var r=d;return function(a,i){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return O()}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var o=M(s,n);if(o){if(o===y)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=C(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,s),i}function C(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function b(){}function S(){}function U(){}function A(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function N(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,s){var o=C(e[n],e,r);if("throw"!==o.type){var u=o.arg,l=u.value;return l&&"object"==typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(l).then(function(e){u.value=e,i(u)},s)}s(o.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function M(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,M(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var a=C(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,y;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,y):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(172));t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default(function(e,n){return function a(i,s){try{var o=t[i](s),u=o.value}catch(e){return void n(e)}if(!o.done)return r.default.resolve(u).then(function(e){a("next",e)},function(e){a("throw",e)});e(u)}("next")})}}},function(e,t,n){n(206),n(116),n(203),n(251),n(259),n(260),e.exports=n(14).Promise},function(e,t,n){"use strict";var r,a,i,s,o=n(91),u=n(19),l=n(31),c=n(86),d=n(18),h=n(32),f=n(56),p=n(252),y=n(253),m=n(134),g=n(135).set,_=n(255)(),v=n(87),E=n(136),C=n(256),b=n(137),S=u.TypeError,U=u.process,A=U&&U.versions,N=A&&A.v8||"",M=u.Promise,I="process"==c(U),w=function(){},k=a=v.f,T=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(17)("species")]=function(e){e(w,w)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(w)instanceof t&&0!==N.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;_(function(){for(var r=e._v,a=1==e._s,i=0,s=function(t){var n,i,s,o=a?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{o?(a||(2==e._h&&D(e),e._h=1),!0===o?n=r:(c&&c.enter(),n=o(r),c&&(c.exit(),s=!0)),n===t.promise?l(S("Promise-chain cycle")):(i=O(n))?i.call(n,u,l):u(n)):l(r)}catch(e){c&&!s&&c.exit(),l(e)}};n.length>i;)s(n[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){g.call(u,function(){var t,n,r,a=e._v,i=P(e);if(i&&(t=E(function(){I?U.emit("unhandledRejection",a,e):(n=u.onunhandledrejection)?n({promise:e,reason:a}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",a)}),e._h=I||P(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){g.call(u,function(){var t;I?U.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},x=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},H=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=O(e))?_(function(){var r={_w:n,_d:!1};try{t.call(e,l(H,r,1),l(x,r,1))}catch(e){x.call(r,e)}}):(n._v=e,n._s=1,R(n,!1))}catch(e){x.call({_w:n,_d:!1},e)}}};T||(M=function(e){p(this,M,"Promise","_h"),f(e),r.call(this);try{e(l(H,this,1),l(x,this,1))}catch(e){x.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(257)(M.prototype,{then:function(e,t){var n=k(m(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=I?U.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(H,e,1),this.reject=l(x,e,1)},v.f=k=function(e){return e===M||e===s?new i(e):a(e)}),d(d.G+d.W+d.F*!T,{Promise:M}),n(117)(M,"Promise"),n(258)("Promise"),s=n(14).Promise,d(d.S+d.F*!T,"Promise",{reject:function(e){var t=k(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(o||!T),"Promise",{resolve:function(e){return b(o&&this===s?M:this,e)}}),d(d.S+d.F*!(T&&n(102)(function(e){M.all(e).catch(w)})),"Promise",{all:function(e){var t=this,n=k(t),r=n.resolve,a=n.reject,i=E(function(){var n=[],i=0,s=1;y(e,!1,function(e){var o=i++,u=!1;n.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,n[o]=e,--s||r(n))},a)}),--s||r(n)});return i.e&&a(i.v),n.promise},race:function(e){var t=this,n=k(t),r=n.reject,a=E(function(){y(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return a.e&&r(a.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(31),a=n(99),i=n(100),s=n(21),o=n(115),u=n(101),l={},c={};(t=e.exports=function(e,t,n,d,h){var f,p,y,m,g=h?function(){return e}:u(e),_=r(n,d,t?2:1),v=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(f=o(e.length);f>v;v++)if((m=t?_(s(p=e[v])[0],p[1]):_(e[v]))===l||m===c)return m}else for(y=g.call(e);!(p=y.next()).done;)if((m=a(y,_,p.value,t))===l||m===c)return m}).BREAK=l,t.RETURN=c},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(19),a=n(135).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,o=r.Promise,u="process"==n(37)(s);e.exports=function(){var e,t,n,l=function(){var r,a;for(u&&(r=s.domain)&&r.exit();e;){a=e.fn,e=e.next;try{a()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(o&&o.resolve){var c=o.resolve(void 0);n=function(){c.then(l)}}else n=function(){a.call(r,l)};else{var d=!0,h=document.createTextNode("");new i(l).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var a={fn:r,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a}}},function(e,t,n){var r=n(19).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(48);e.exports=function(e,t,n){for(var a in t)n&&e[a]?e[a]=t[a]:r(e,a,t[a]);return e}},function(e,t,n){"use strict";var r=n(19),a=n(14),i=n(27),s=n(23),o=n(17)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:r[e];s&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(18),a=n(14),i=n(19),s=n(134),o=n(137);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,a.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return o(t,e()).then(function(){return n})}:e,n?function(n){return o(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(18),a=n(87),i=n(136);r(r.S,"Promise",{try:function(e){var t=a.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";e.exports={primaryButton:"D(b) Cur(p) Bgc(#0078ff) Bdrs(3px) Bdw(1px) Bds(s) Bdc(#0078ff) C(#fff) Px(20px) Py(9px) Bgc(#3393ff):h C(#fff):h Td(n)! Ell",secondaryButton:"D(b) Cur(p) Bgc(#fff) Bdrs(3px) Bdw(1px) Bds(s) Bdc(#0078ff) C(#0078ff) Px(20px) Py(9px) Bgc(#0078ff):h C(#fff):h Td(n)! Ell",chatPointerWrapper:"Bgc(normal-black) C(white) Px(10px) Va(m) H(35px) D(f)",chatPointer:"Pos(a) T(-15px) Start(110px) W(0px) H(0px) Bds(s) Bdc(t) Bdbc(normal-black) Bdendw(15px) Bdstartw(15px) Bdbw(15px)",chatListWrapper:"W(280px) Ta(s) Va(t) Pos(a) Z(2147483647) Bxsh(chat-list-box-shadow) D(n)!",unreadIndicator:"Anim(pulse) Z(2147483640) Pos(a) Pstart(1px) Va(m) Fw(b) Bgc(notification-color) Bdrs(50%) H(11px) W(11px) Fz(11px) C(white) Ta(c) As(c)"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;try{t=JSON.parse(e)}catch(e){}return t},e.exports=t.default},function(e,t,n){"use strict";var r,a,i,s,o;function u(){return a=n(34)}function l(){return i=n(337)}function c(){return s=n(88)}function d(){return o=n(105)}Object.defineProperty(t,"__esModule",{value:!0}),t.setDoneTyping=t.setTyping=t.markAsRead=t.createChatHandler=t.registerGroupChannelHandler=t.startNewChat=t.initLocalStorageChats=t.toggleChatMinimize=t.closeChat=t.openChat=t.getGroupChannelList=void 0;t.getGroupChannelList=function(e,t){var n=[];return function(r){e.hasNext?(0,(i||l()).sbGetGroupChannelList)(e).then(function(e){e=e.reduce(function(e,t){return t.firstLoad=!0,e[t.url]=t,n.push(t.url),e},{}),r(t?{type:(a||u()).GROUP_CHANNEL_LIST_SUCCESS,channels:e,channelsOrder:n}:{type:(a||u()).NEW_GROUP_CHANNEL_LIST_SUCCESS,channels:e,channelsOrder:n})}).catch(function(e){return r({type:(a||u()).GROUP_CHANNEL_LIST_FAIL})}):r({type:(a||u()).GROUP_CHANNEL_LIST_FAIL})}},t.openChat=function(e,t){return(0,(s||c()).toggleChatList)(),(0,(s||c()).addChatToLocalStorage)(t),e=(0,(i||l()).sbMarkChannelAsRead)(e),function(n){n({type:(a||u()).OPEN_CHAT_SUCCESS,channelUrl:t,channel:e})}},t.closeChat=function(e){return(0,(s||c()).removeChatFromLocalStorage)(e),function(t){t({type:(a||u()).CLOSE_CHAT_SUCCESS,channelUrl:e})}},t.toggleChatMinimize=function(e){return(0,(s||c()).toggleChatMinStateLocalStorage)(e),function(t){t({type:(a||u()).TOGGLE_CHAT_MINIMIZE_SUCCESS,channelUrl:e})}},t.initLocalStorageChats=function(){var e=(0,(s||c()).getActiveChatListFromLocalStorage)();return function(t){t({type:(a||u()).OPEN_CHAT_SUCCESS,channelUrl:e})}},t.startNewChat=function(e,t){return function(n){(0,(i||l()).sbCreateGroupChannel)(e,t).then(function(e){(0,(s||c()).addChatToLocalStorage)(e.url),n({type:(a||u()).OPEN_CHAT_SUCCESS,channelUrl:e.url}),n({type:(a||u()).START_NEW_CHAT_SUCCESS,channel:e})}).catch(function(e){return n({type:(a||u()).START_NEW_CHAT_FAILURE})})}};var h=t.registerGroupChannelHandler=function(e,t){var i=(r||(r=function(e){return e&&e.__esModule?e:{default:e}}(n(103)))).default.getInstance()||{},s=new i.ChannelHandler||{};s.onMessageReceived=function(e,n){t({type:(a||u()).MESSAGE_RECEIVED,payload:n,channel:(0,(o||d()).sbSetupChannelDetails)(e)})},s.onMessageUpdated=function(e,n){t({type:(a||u()).MESSAGE_UPDATED,payload:n,channel:(0,(o||d()).sbSetupChannelDetails)(e)})},s.onMessageDeleted=function(e,n){e.refresh(function(e){t({type:(a||u()).MESSAGE_DELETED,payload:n,channel:(0,(o||d()).sbSetupChannelDetails)(e)})})},s.onTypingStatusUpdated=function(e){t({type:(a||u()).TYPING_STATUS_UPDATED,payload:e.getTypingMembers(),channel:e})},i.addChannelHandler(e,s)};t.createChatHandler=function(e){return function(t){h(e,t),t({type:(a||u()).CREATE_CHAT_HANDLER_SUCCESS})}},t.markAsRead=function(e){return e=(0,(i||l()).sbMarkChannelAsRead)(e),function(t){t({type:(a||u()).MARK_AS_READ,channel:e})}},t.setTyping=function(e){return e=(0,(i||l()).sbMarkChannelAsTyping)(e),function(t){t({type:(a||u()).USER_IS_TYPING,channel:e})}},t.setDoneTyping=function(e){return e=(0,(i||l()).sbMarkChannelAsDoneTyping)(e),function(t){t({type:(a||u()).USER_IS_DONE_TYPING,channel:e})}}},function(e,t,n){"use strict";var r,a,i;function s(){return a=u(n(103))}function o(){return i=n(105)}function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sbMarkChannelAsDoneTyping=t.sbMarkChannelAsTyping=t.sbMarkChannelAsRead=t.sbCreateGroupChannel=t.sbGetGroupChannelList=t.sbGetChannelMetadata=t.sbCreateGroupChannelListQuery=void 0;t.sbCreateGroupChannelListQuery=function(){var e=((a||s()).default.getInstance()||{}).GroupChannel,t=e?e.createMyGroupChannelListQuery():{};return t.includeEmpty=!0,t};var l=t.sbGetChannelMetadata=function(e){var t=Object.keys(e.memberMap);return t=t.reduce(function(e,t){return e.push("userTeamLogoUrl_"+t,"userTeamName_"+t),e},[]),new Promise(function(n,r){e.getMetaData(t,function(e,t){t?r(t):n(e)})})};t.sbGetGroupChannelList=function(e){return new Promise(function(t,n){e.next(function(e,r){r?n(r):Promise.all(e.map(function(e){return new Promise(function(t){e=(0,(i||o()).sbSetupChannelDetails)(e),l(e).then(function(n){e.metaData=n,t(e)}).catch(function(e){return console.error(e)})})})).then(function(e){return t(e)})})})},t.sbCreateGroupChannel=function(e,t){var l=((a||s()).default.getInstance()||{}).GroupChannel||{};return new Promise(function(a,s){l.createChannelWithUserIds([].concat((0,(r||(r=u(n(52)))).default)(e)),!0,t,"","","direct_message",function(e,t){t?s(t):(e=(0,(i||o()).sbSetupChannelDetails)(e),a(e))})})},t.sbMarkChannelAsRead=function(e){return e?(e.markAsRead(),e.unreadMessageCount=0,e):{}},t.sbMarkChannelAsTyping=function(e){return e?(e.startTyping(),e):{}},t.sbMarkChannelAsDoneTyping=function(e){return e?(e.endTyping(),e):{}}},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h,f,p;function y(){return o=v(n(0))}function m(){return l=n(11)}function g(){return c=n(15)}function _(){return f=v(n(261))}function v(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var E=function(e){function t(e){(0,(r||(r=v(n(4)))).default)(this,t);var a=(0,(i||(i=v(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.openNewDirectMessage=a.openNewDirectMessage.bind(a),a}return(0,(s||(s=v(n(7)))).default)(t,e),(0,(a||(a=v(n(5)))).default)(t,[{key:"openNewDirectMessage",value:function(e){var t=(0,(p||(p=n(138))).getMyUserObj)();if(e&&e.userId&&t&&t.userId){var r=e.nickname+" - "+t.nickname;this.props.startChat([e.userId,t.userId],r)}this.props.hideUserOverlay()}},{key:"blockSelectedUser",value:function(e,t){this.props.blockChatUser(t),this.props.hideUserOverlay()}},{key:"unBlockSelectedUser",value:function(e,t){this.props.unBlockChatUser(t),this.props.hideUserOverlay()}},{key:"render",value:function(){var e=this,t=this.props,r=t.chatMetaData||{},a=t.selectedUser||{},i=a.userId||"",s=a.nickname,u=r["userTeamName_"+i],p=a.isBlockedByMe,E=(o||y()).default.createElement("div",{className:"Ta(c) Pt(7px)"},(o||y()).default.createElement((c||g()).I13nDiv,{i13nModel:{sec:"blockUserButton"},onClick:p?function(t){return e.unBlockSelectedUser(t,a,s)}:function(t){return e.blockSelectedUser(t,a,s)},className:(f||_()).default.secondaryButton},(o||y()).default.createElement((l||m()).FormattedMessage,{id:p?"UNBLOCK_USER_X":"BLOCK_USER_X",values:{userName:s}})));return(o||y()).default.createElement("div",{className:"Pos(a) H(overlay-height) W(100%) T(0px) Bgc(bg-overlay)"},(o||y()).default.createElement("div",{className:"Bgc(white) Bdrs(3px) W(85%) Mx(a) Mt(180px) P(10px) Pos(r)"},(o||y()).default.createElement((c||g()).I13nDiv,{i13nModel:{sec:"closeBlockOverlay"},className:"O(n):f Pos(a) T(0) End(0) Pt(10px) Pend(10px)",onClick:function(){return e.props.hideUserOverlay()}},(o||y()).default.createElement((d||(d=n(16))).Icon,{role:"button",className:"Cur(p)!",color:"#787d82",asset:(h||(h=v(n(104)))).default,height:"15",width:"15"})),(o||y()).default.createElement("div",{className:"Fz(13px) C(#787d82) Pb(7px) Ta(c) Maw(80%)! Mx(a) Ell Whs(nw)"},(o||y()).default.createElement("span",{className:"Mend(3px)"},s),(o||y()).default.createElement("span",null,"(",u,")")),(o||y()).default.createElement("div",{className:"Ta(c) Pt(7px)"},(o||y()).default.createElement((c||g()).I13nDiv,{i13nModel:{sec:"startNewChat"},onClick:function(t){return e.openNewDirectMessage(a)},className:(f||_()).default.primaryButton},(o||y()).default.createElement((l||m()).FormattedMessage,{id:"OPEN_DIRECT_MESSAGE"}))),E))}}]),t}((u||(u=n(0))).Component);t.default=E,e.exports=t.default},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.sbDeleteMessage=t.sbSendFileMessage=t.sbSendTextMessage=t.sbGetMessageList=t.sbCreatePreviousMessageListQuery=void 0;t.sbCreatePreviousMessageListQuery=function(e,t){return new Promise(function(e,n){t?e(t.createPreviousMessageListQuery()):n("Channel is Undefined")})},t.sbGetMessageList=function(e){return new Promise(function(t,n){e.load(30,!0,function(e,r){r?n(r):t(e)})})},t.sbSendTextMessage=function(e,t,n){return e.sendUserMessage(t,function(e,t){n(e,t)})},t.sbSendFileMessage=function(e,t,a,i,s){var o=new(((r||(r=function(e){return e&&e.__esModule?e:{default:e}}(n(103)))).default.getInstance()||{}).FileMessageParams);return"gif"===i&&(o.data=JSON.stringify({imageSize:a,source:"tenor"}),o.fileUrl=t,o.customType="gif",o.mimeType="image/gif",o.thumbnailSizes=[{maxWidth:160,maxHeight:160}],o.fileName="tenor.gif"),e.sendFileMessage(o,function(e,t){s(e,t)})},t.sbDeleteMessage=function(e,t,n){return e.deleteMessage(t,function(e,t){n(e,t)})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d;function h(){return r=g(n(0))}function f(){return s=n(667)}function p(){return o=n(54)}function y(){return u=n(11)}function m(){return d=n(708)}function g(e){return e&&e.__esModule?e:{default:e}}var _="en-US";console.log("Chat Version: ",(d||m()).version),window.fantasyChatVersion=(d||m()).version,window.bootstrapFantasyChat=function(e,t,d,m,v,E,C){(0,(u||y()).addLocaleData)((l||(l=g(n(243)))).default);var b=(0,(o||p()).createStore)((s||f()).reducer,(0,(o||p()).applyMiddleware)((c||(c=g(n(244)))).default));b.dispatch((0,(s||f()).initEnv)(d));var S=JSON.parse(E);(0,(a||(a=n(53))).render)((r||h()).default.createElement("div",null,(r||h()).default.createElement((u||y()).IntlProvider,{locale:_,messages:(s||f()).lang},(r||h()).default.createElement((i||(i=n(45))).Provider,{store:b},(r||h()).default.createElement((s||f()).App,{guid:e,showTout:m,loadOnClick:v,chatContext:S,chatContextEndpoint:C,useContext:!0})))),t)},window.toggleChatList=(s||f()).toggleChatList},function(e,t,n){"use strict";var r,a,i,s,o;function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.lang=t.initEnv=t.toggleChatList=t.reducer=t.App=void 0,t.App=(r||(r=u(n(668)))).default,t.reducer=(a||(a=u(n(700)))).default,t.toggleChatList=(i||(i=n(88))).toggleChatList,t.initEnv=(s||(s=n(706))).initEnv,t.lang=(o||(o=u(n(707)))).default},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h,f,p,y,m;function g(){return u=E(n(0))}function _(){return d=n(98)}function v(){return p=n(88)}function E(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var C=t.App=function(e){function t(e){(0,(r||(r=E(n(4)))).default)(this,t);var a=(0,(i||(i=E(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.login=a.login.bind(a),a.loginSuccess=a.loginSuccess.bind(a),a}return(0,(s||(s=E(n(7)))).default)(t,e),(0,(a||(a=E(n(5)))).default)(t,[{key:"componentDidMount",value:function(){var e=this.props||{},t=e.login.loggedIn,n=e.loadOnClick,r=(0,(p||v()).getActiveChatListFromLocalStorage)(),a=e.chatContext,i=!0;(!n||n&&(r.length||a.sendbird_user_id))&&(i=!1,this.login()),n&&!t&&(this.setState({willLoadOnClick:i}),document.getElementById("FantasyChatButton").addEventListener("click",this.login))}},{key:"loginSuccess",value:function(){var e=this.state||{};(this.props||{}).login.loggedIn&&document.getElementById("FantasyChatButton").removeEventListener("click",this.login),e.willLoadOnClick&&!(0,(p||v()).isChatListOpen)()&&(0,(p||v()).toggleChatList)()}},{key:"login",value:function(){var e=this.props||{},t=e.guid,n=e.env||{},r=e.chatContext||{},a=e.chatContextEndpoint||"",i=e.useContext||"",s=n.env;t&&s&&r&&this.props.sendbirdLogin({userId:t,env:s,chatContext:r,chatContextEndpoint:a,useContext:i,successCallback:this.loginSuccess})}},{key:"render",value:function(){var e=this.props,t=e.login||{},r=t.user||{},a=t.error||{},i=t.loggedIn,s=e.showTout,o=(d||_()).RapidManager.getRapidInstance();return(u||g()).default.createElement("div",{className:"FantasyChat"},i?(u||g()).default.createElement((y||(y=E(n(678)))).default,{rapidInstance:o,user:r,showTout:s}):(u||g()).default.createElement((m||(m=E(n(699)))).default,{error:a}))}}]),t}((l||(l=n(0))).Component);(d||_()).RapidManager.init((h||(h=E(n(669)))).default),t.default=(0,(c||(c=n(45))).connect)(function(e){return(0,(o||(o=E(n(10)))).default)({},e)},{sendbirdLogin:(f||(f=n(670))).sendbirdLogin})(C)},function(e,t,n){"use strict";e.exports={initRapid:!0,rapid:{keys:{site:"fantasy-chat"},compr_type:"deflate",tracked_mods_viewability:[],test_id:"",webworker_file:"/__rapid-worker-1.2.js",client_only:1,track_right_click:!0,pageview_on_init:!1,viewability:!0,dwell_on:!0},rootModelData:{site:"fantasy-chat"}}},function(e,t,n){"use strict";var r,a,i,s;function o(){return r=n(34)}function u(){return a=n(671)}function l(){return i=n(245)}function c(){return s=function(e){return e&&e.__esModule?e:{default:e}}(n(9))}Object.defineProperty(t,"__esModule",{value:!0}),t.sendbirdLogin=t.getContextParams=t.getUserParams=void 0;var d=t.getUserParams=function(e){var t=e.userId,n=e.env,r="dev"===n?"sendbird-dev":"sendbird-prod";return(0,(i||l()).get)("fantasy.user",{params:{guid:t,provider:r},env:n})},h=t.getContextParams=function(e){var t=e.chatContextEndpoint;return(0,(i||l()).get)("",{},t)};t.sendbirdLogin=function(e){var t=e.userId,n=e.env,i=e.chatContext,l=void 0===i?{}:i,f=e.chatContextEndpoint,p=e.useContext,y=e.successCallback;return function(e){(0,(a||u()).sbConnect)(l.sendbird_user_id,l.sendbird_token,l.sendbird_app_id).then(function(t){t.crumb=l.crumb,e({type:(r||o()).LOGIN_SUCCESS,payload:t})}).catch(function(i){p&&f?h({chatContextEndpoint:f}).then(function(t){var n=(0,(s||c()).default)(t,["objects",0]);(0,(a||u()).sbConnect)(n.sendbird_user_id,n.sendbird_token,n.sendbird_app_id).then(function(t){t.crumb=n.chat_context_crumb,e({type:(r||o()).LOGIN_SUCCESS,payload:t}),y&&y()}).catch(function(t){e({type:(r||o()).LOGIN_FAIL,payload:t})})}).catch(function(t){e({type:(r||o()).LOGIN_FAIL,payload:t})}):d({userId:t,env:n}).then(function(t){var n=(0,(s||c()).default)(t,["service","externalUser","userId"]).trim(),i=(0,(s||c()).default)(t,["service","externalUser","appId"]).trim(),l=(0,(s||c()).default)(t,["service","externalUser","accessToken","token"]).trim(),d=(0,(s||c()).default)(t,["service","externalUser","crumb"]).trim();(0,(a||u()).sbConnect)(n,l,i).then(function(t){t.crumb=d,e({type:(r||o()).LOGIN_SUCCESS,payload:t}),y&&y()}).catch(function(t){e({type:(r||o()).LOGIN_FAIL,payload:t})})}).catch(function(t){e({type:(r||o()).LOGIN_FAIL,payload:t})})})}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.sbConnect=void 0;t.sbConnect=function(e,t,a){return new Promise(function(i,s){new((r||(r=function(e){return e&&e.__esModule?e:{default:e}}(n(103)))).default)({appId:a}).connect(e,t,function(e,t){t?s(t):i(e)})})}},function(e,t){e.exports=XMLHttpRequest},function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t,n){"use strict";var r,a;function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={fantasy:(r||(r=i(n(675)))).default,bootcamp:(a||(a=i(n(676)))).default},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={environments:{default:{host:"pub-api-chat.fantasysports.yahoo.com",rootPath:"/chat/v1/",protocol:"https",credentials:"include",format:"json"},dev:{host:"fan-stage-bf1-4080.sports.yahoo.com",rootPath:"/chat/v1/",protocol:"https",credentials:"include",format:"json"}},resources:{user:{path:"users/{guid}/",defaults:{format:"json"},query:["provider"]},report:{path:"report_abuse",defaults:{format:"json"},query:["provider","crumb"]}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={environments:{default:{host:"data.mail.yahoo.com",rootPath:"/callisto/",protocol:"https",credentials:"include",format:"json"},dev:{host:"devcal.xobni.yahoo.com",rootPath:"/ws/v1/",protocol:"https",credentials:"include",format:"json"}},resources:{items:{path:"tenor",defaults:{format:"json"},query:["query","appid","offset"]}}},e.exports=t.default},function(e,t,n){"use strict";(function(t){var n=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function a(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}o(t.promise,r)}else(1===e._state?o:u)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(a);return s(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);var i=a.length;function s(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var o=r.then;if("function"==typeof o)return void o.call(r,function(t){s(e,t)},n)}a[e]=r,0==--i&&t(a)}catch(e){n(e)}}for(var o=0;o<a.length;o++)s(o,a[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var a=0,s=e.length;a<s;a++)i.resolve(e[a]).then(t,n)})},i._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=i}).call(this,n(148).setImmediate)},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h,f,p,y,m,g,_,v,E,C,b,S;function U(){return o=L(n(0))}function A(){return u=L(n(8))}function N(){return c=n(15)}function M(){return d=n(16)}function I(){return h=n(11)}function w(){return m=n(336)}function k(){return g=n(337)}function T(){return v=n(88)}function O(){return b=L(n(139))}function R(){return S=L(n(261))}function L(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChatWrapper=void 0;var P=t.ChatWrapper=function(e){function t(e){(0,(r||(r=L(n(4)))).default)(this,t);var a=(0,(i||(i=L(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={channels:{},activeChats:[],channelsOrder:[],showHiddenChatPanel:!1,leaguesOnly:!1,searchValue:"",focusedImageMedia:null},a.handleScroll=a.handleScroll.bind(a),a.handleClickOutside=a.handleClickOutside.bind(a),a.onChatListItemClick=a.onChatListItemClick.bind(a),a.onCloseChatClick=a.onCloseChatClick.bind(a),a.toggleChatMinimize=a.toggleChatMinimize.bind(a),a.showTout=a.showTout.bind(a),a.markChannelAsRead=a.markChannelAsRead.bind(a),a.showFocusedImageMedia=a.showFocusedImageMedia.bind(a),a.hideFocusedImageMedia=a.hideFocusedImageMedia.bind(a),a}return(0,(s||(s=L(n(7)))).default)(t,e),(0,(a||(a=L(n(5)))).default)(t,[{key:"componentDidMount",value:function(){this.initChatList(),this.props.createChatHandler(this.props.user.userId),document.addEventListener("click",this.handleClickOutside),(0,(v||T()).positionUnreadCount)(),(0,(v||T()).positionChatList)()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside)}},{key:"componentWillReceiveProps",value:function(e){var t=e.channels;JSON.stringify(t)!==JSON.stringify(this.props.channels)&&(0===t.length?this.setState({channels:{}}):this.setState({channels:t}))}},{key:"onChatListItemClick",value:function(e,t){this.props.rapidInstance.beaconClick("fantasy-chat","open-chat"),this.setState({showHiddenChatPanel:!1}),this.props.openChat(e,t)}},{key:"onCloseChatClick",value:function(e){this.props.closeChat(e)}},{key:"toggleChatMinimize",value:function(e){this.props.toggleChatMinimize(e)}},{key:"initChatList",value:function(){this.getGroupChannelList(!0),this.props.initLocalStorageChats()}},{key:"getGroupChannelList",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var r=(0,(g||k()).sbCreateGroupChannelListQuery)();this.setState({groupChannelListQuery:r},function(){t.props.getGroupChannelList(t.state.groupChannelListQuery,n)})}else this.props.getGroupChannelList(this.state.groupChannelListQuery,n)}},{key:"handleScroll",value:function(){var e=this.chatListScrollList,t=this.chatListEnd,n=e.scrollTop+e.clientHeight;t.offsetTop-120<=n&&this.getGroupChannelList(!1,!0)}},{key:"handleClickOutside",value:function(e){this.chatListDiv&&!this.chatListDiv.contains(e.target)&&(0,(v||T()).isChatListOpen)()&&(0,(v||T()).toggleChatList)()}},{key:"showHiddenChatPanel",value:function(){var e=this.state.showHiddenChatPanel;this.setState({showHiddenChatPanel:!e})}},{key:"showTout",value:function(e,t){this.props.showTout(e,t)}},{key:"showLeaguesOnly",value:function(){var e=this,t=(0,(g||k()).sbCreateGroupChannelListQuery)();t.customTypeStartsWithFilter="league",this.state.searchValue&&(t.channelNameContainsFilter=this.state.searchValue),this.setState({groupChannelListQuery:t,leaguesOnly:!0},function(){e.getGroupChannelList(!1,!1)})}},{key:"showAllChats",value:function(){var e=this,t=(0,(g||k()).sbCreateGroupChannelListQuery)();this.state.searchValue&&(t.channelNameContainsFilter=this.state.searchValue),this.setState({groupChannelListQuery:t,leaguesOnly:!1},function(){e.getGroupChannelList(!1,!1)})}},{key:"changeSearchVal",value:function(e){var t=this;if(e&&e.target){var n=(0,(g||k()).sbCreateGroupChannelListQuery)();n.channelNameContainsFilter=e.target.value,this.setState({groupChannelListQuery:n,searchValue:e.target.value,leaguesOnly:!1},function(){t.getGroupChannelList(!1,!1)})}}},{key:"markChannelAsRead",value:function(e){this.props.markAsRead(e)}},{key:"showFocusedImageMedia",value:function(e){e&&e.url&&(this.setState({focusedImageMedia:e}),document.addEventListener("keydown",this.hideFocusedImageMedia,!1))}},{key:"hideFocusedImageMedia",value:function(e){"Escape"!==e.key&&"click"!==e.type||(this.setState({focusedImageMedia:null}),document.removeEventListener("keydown",this.hideFocusedImageMedia,!1))}},{key:"render",value:function(){var e=this,t=this,r=this.props,a=this.state,i=r.channels||{},s=r.channelsOrder||[],l=[],m=r.activeChats||[],g=a.showHiddenChatPanel,v=(b||O()).default.MAX_OPEN_CHATS,w=a.leaguesOnly,k=a.searchValue,T=!1;return s.forEach(function(e){var r=i[e]||{},a=r.lastMessage||{},s=a.messageId,d=a.message,f=(a.sender||{}).nickname,p=a.customType,y=(0,(_||(_=n(105))).isLeagueChannel)(r);r.unreadMessageCount&&(T=!0),l.push((o||U()).default.createElement((c||N()).I13nDiv,{i13nModel:{sec:"chatListItem"},onClick:function(){return t.onChatListItemClick(r,r.url)},key:r.url,className:(0,(u||A()).default)("Py(10px) Cur(p) D(f) Bgc(#f5f8fa):h O(0):f Bgc(white) Px(10px) Td(n)!:h",{"ysf-chat-league":y,"ysf-chat-direct":!y})},(o||U()).default.createElement("div",{className:"D(ib) Ta(s) As(c) W(15%)"},(o||U()).default.createElement("div",{className:"W(35px) H(35px) Pos(r)"},(o||U()).default.createElement("img",{className:"Bdrs(50%)",alt:"Chat Cover",src:r.display_coverUrl,width:"35px",height:"35px"}),r.unreadMessageCount>0?(o||U()).default.createElement("div",{className:"Pos(a) W(10px) H(10px) Bdrs(50%) End(0) B(0) Bgc(#0078ff)"}):null)),(o||U()).default.createElement("div",{className:(0,(u||A()).default)("W(200px)","Ta(s)","Mstart(8px)",{"As(t) W(55%)":d,"As(c) W(80%)":!d})},(o||U()).default.createElement("div",{className:"Ovx(h) Whs(nw) Tov(e)"},r.display_name),s?(o||U()).default.createElement("div",{className:"Ovx(h) Whs(nw) Tov(e) C(grey-8) Pt(3px) Ell"},(o||U()).default.createElement((h||I()).FormattedMessage,{id:"LAST_MESSAGE",values:{sender:f,message:d||"["+p.toUpperCase()+"]"}})):null),s?(o||U()).default.createElement("div",{className:"D(ib) As(t) W(30%) C(grey-8) Fz(10px) Ta(e) Whs(nw) Ell"},(o||U()).default.createElement((h||I()).FormattedRelative,{value:a.createdAt})):null))}),(o||U()).default.createElement("div",{className:"ysf-ChatWrapper Z(1)"},(o||U()).default.createElement("div",{id:"ChatUnreadIndicator",className:(0,(u||A()).default)((S||R()).default.unreadIndicator,{"D(n)":!T})}),(o||U()).default.createElement("div",{ref:function(t){e.chatListDiv=t},id:"ChatList",className:(S||R()).default.chatListWrapper},(o||U()).default.createElement("div",{className:(S||R()).default.chatPointerWrapper},(o||U()).default.createElement("div",{className:(S||R()).default.chatPointer}),(o||U()).default.createElement("div",{className:"D(f) Ai(c) W(100%) Jc(fe)"},(o||U()).default.createElement((c||N()).I13nAnchor,{className:"Cur(p) C(white) C(white):h Td(n) Td(u):h",href:(b||O()).default.SURVEY_LINK,i13nModel:{action:"click",label:"feedback"}},(o||U()).default.createElement((h||I()).FormattedMessage,{id:"FEEDBACK"})))),(o||U()).default.createElement("div",{className:"W(100%) Py(8px) Bgc(white) Px(10px) Bds(s) Bdw(1px) Bdc(border-color) Bdbw(0px) Bdtw(0px)"},(o||U()).default.createElement("div",{className:"W(10%) D(ib)"},(o||U()).default.createElement((d||M()).Icon,{color:"normal-black333",asset:(p||(p=L(n(680)))).default,height:"15",width:"15"})),(o||U()).default.createElement("div",{className:"D(ib) W(90%)"},(o||U()).default.createElement("input",{className:"W(100%) Fz(13px) Bd(n) O(n):f",placeholder:"Search",type:"text",value:k,onChange:function(t){return e.changeSearchVal(t)}}))),(o||U()).default.createElement("div",{className:"Py(8px) W(100%) Bgc(white) Bds(s) Bdw(1px) Bdc(border-color) Bdbw(0px)"},(o||U()).default.createElement((c||N()).I13nDiv,{onClick:function(){return e.showAllChats()},className:(0,(u||A()).default)("W(50%)","Ta(c)","D(ib)","C(normal-orange):h","Cur(p)","Td(n)!:h","ys-chats-filter",{"C(normal-orange)":!w})},(o||U()).default.createElement((h||I()).FormattedMessage,{id:"CHATS"})),(o||U()).default.createElement((c||N()).I13nDiv,{onClick:function(){return e.showLeaguesOnly()},className:(0,(u||A()).default)("W(50%)","Ta(c)","D(ib)","C(normal-orange):h","Cur(p)","Td(n)!:h","ys-leagues-filter",{"C(normal-orange)":w})},(o||U()).default.createElement((h||I()).FormattedMessage,{id:"LEAGUES"}))),(o||U()).default.createElement("div",{ref:function(t){e.chatListScrollList=t},className:"Mah(400px) H(400px) Ovy(s) Bds(s) Bdw(1px) Bdc(border-color) Bgc(white) Bdrs(chat-list-border-radius)",onScroll:function(t){return e.handleScroll(t)}},l,(o||U()).default.createElement("div",{ref:function(t){e.chatListEnd=t}}))),m.slice(0,v).map(function(e,r){var a=i[e];return a?(o||U()).default.createElement((E||(E=L(n(681)))).default,{key:"chat-"+e,chatObj:a,chatUrl:e,closeChat:function(){return t.onCloseChatClick(e)},toggleChatMinimize:function(){return t.toggleChatMinimize(e)},isMinimized:!!a.isMinimized,showTout:t.showTout,showFocusedImageMedia:t.showFocusedImageMedia,markChannelAsRead:t.markChannelAsRead,rightPosition:(b||O()).default.RIGHT_PADDING+r*((b||O()).default.CHAT_WIDTH_PIXELS+(b||O()).default.CHAT_SPACING_BETWEEN)}):null}),m.length&&m.length>v?(o||U()).default.createElement("div",{className:"D(ib) Va(b) B(0px) End(10px) Ta(end) Z(2147483640) Pos(f) Whs(nw)",style:{right:(b||O()).default.RIGHT_PADDING+v*((b||O()).default.CHAT_WIDTH_PIXELS+(b||O()).default.CHAT_SPACING_BETWEEN)+"px"}},m.length>v?(o||U()).default.createElement("div",{className:"MoreChats D(ib) Bgc(normal-grey) Bgc(#cfcfd1):h Va(b) P(5px) Bdrststart(6px) Bdrstend(6px)"},(o||U()).default.createElement((c||N()).I13nDiv,{i13nModel:{sec:"moreChatsButton"},onClick:function(){return e.showHiddenChatPanel()},className:"O(n):f Cur(p)"},(o||U()).default.createElement((d||M()).Icon,{role:"button",className:"Cur(p)!",color:"normal-black333",asset:(f||(f=L(n(679)))).default,height:"25",width:"25"}))):null,(o||U()).default.createElement("div",{className:"Pos(a) Bgc(normal-grey) B(20px) End(50px)"},(o||U()).default.createElement((C||(C=L(n(698)))).default,{chatList:i,closeChatHandler:this.onCloseChatClick,openChatHandler:this.onChatListItemClick,hiddenChats:m.slice(v),showHiddenChatPanel:g}))):null,a.focusedImageMedia?(o||U()).default.createElement((c||N()).I13nDiv,{className:"Pos(f) H(100%) W(100%) Z(2147483648) D(f) Ai(c) Jc(sa) T(0) B(0) Start(0) End(0) Bgc(bg-overlay) Cur(p)",onClick:this.hideFocusedImageMedia,onKeyDown:this.hideFocusedImageMedia},(o||U()).default.createElement("img",{src:a.focusedImageMedia.url,alt:a.focusedImageMedia.name,className:"Maw(80%) Mah(80%)"}),(o||U()).default.createElement((d||M()).Icon,{role:"button",className:"Cur(p)! Va(t)! Pos(a) T(50px) End(20%)",color:"#fff",asset:(y||(y=L(n(104)))).default,height:"24",width:"24"})):null)}}]),t}((o||U()).default.Component);t.default=(0,(l||(l=n(45))).connect)(function(e){var t=e.groupChannel,n=(t||{}).channels,r=t||[];return{channels:n,activeChats:r.activeChats,channelsOrder:r.channelsOrder}},{createChatHandler:(m||w()).createChatHandler,getGroupChannelList:(m||w()).getGroupChannelList,openChat:(m||w()).openChat,closeChat:(m||w()).closeChat,toggleChatMinimize:(m||w()).toggleChatMinimize,initLocalStorageChats:(m||w()).initLocalStorageChats,markAsRead:(m||w()).markAsRead})(P)},function(e,t){if(void 0===n)var n={};n.message={name:"message",height:48,width:48,path:"M40.8 28.9c0 2-1.7 3.7-3.8 3.7H13.4l-5.6 5.2V10.6c0-2 1.7-3.7 3.8-3.7H37c2.1 0 3.8 1.6 3.8 3.7v18.3zM11.7 3.3c-4.1 0-7.5 3.3-7.5 7.3v31.1c0 .7.4 1.4 1.1 1.7.2.1.5.2.7.2.5 0 .9-.2 1.2-.5l7.6-6.8H37c4.1 0 7.5-3.3 7.5-7.3V10.6c0-4-3.4-7.3-7.5-7.3H11.7zm21.8 11H15.2c-1 0-1.8.8-1.8 1.8s.8 1.8 1.8 1.8h18.3c1 0 1.8-.8 1.8-1.8.1-1-.8-1.8-1.8-1.8m-18.3 7.3c-1 0-1.8.8-1.8 1.8s.8 1.8 1.8 1.8h18.3c1 0 1.8-.8 1.8-1.8s-.8-1.8-1.8-1.8H15.2z"},void 0!==e&&e.exports&&(e.exports=n.message)},function(e,t){if(void 0===n)var n={};n.search={name:"search",height:24,width:24,path:"M9 3C5.686 3 3 5.686 3 9c0 3.313 2.686 6 6 6s6-2.687 6-6c0-3.314-2.686-6-6-6m13.713 19.713c-.387.388-1.016.388-1.404 0l-7.404-7.404C12.55 16.364 10.85 17 9 17c-4.418 0-8-3.582-8-8 0-4.42 3.582-8 8-8s8 3.58 8 8c0 1.85-.634 3.55-1.69 4.905l7.403 7.404c.39.386.39 1.015 0 1.403"},void 0!==e&&e.exports&&(e.exports=n.search)},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h,f,p,y,m,g,_,v,E,C,b,S,U,A,N,M,I,w;function k(){return o=H(n(0))}function T(){return l=H(n(8))}function O(){return c=n(15)}function R(){return d=n(16)}function L(){return h=n(11)}function P(){return N=n(697)}function D(){return M=n(88)}function x(){return I=n(336)}function H(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;var F=t.Chat=function(e){function t(e){(0,(r||(r=H(n(4)))).default)(this,t);var a=(0,(i||(i=H(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={previousMessageListQuery:null,textMessage:"",showSettingsPanel:!1,showGifPicker:!1},a.keyPressHandler=a.keyPressHandler.bind(a),a.onChangeHandler=a.onChangeHandler.bind(a),a.fileUploadHandler=a.fileUploadHandler.bind(a),a.reportMessage=a.reportMessage.bind(a),a.blockChatUser=a.blockChatUser.bind(a),a.unBlockChatUser=a.unBlockChatUser.bind(a),a.handleScroll=a.handleScroll.bind(a),a.getMessageList=a.getMessageList.bind(a),a.deleteMessage=a.deleteMessage.bind(a),a.sendGifMessage=a.sendGifMessage.bind(a),a.toggleGifPicker=a.toggleGifPicker.bind(a),a}return(0,(s||(s=H(n(7)))).default)(t,e),(0,(a||(a=H(n(5)))).default)(t,[{key:"componentDidMount",value:function(){this.componentInit()}},{key:"componentInit",value:function(){this.getMessageList(!0)}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=(this.props.chatObj||{}).firstLoad,r=this.props.chatUrl,a=this.props.list[r]||[],i=e.list[r]||[],s=(a[0]||{}).messageId,o=(i[0]||{}).messageId,u=this.messageScrollList;return n||u&&u.scrollHeight===u.scrollTop+u.clientHeight?{scrollBottom:!0}:i.length!==a.length&&s===o?{scrollHeight:this.messageScrollList.scrollHeight,scrollBottom:!1}:null}},{key:"componentDidUpdate",value:function(e,t,n){this.props.toutMsg&&null!==this.props.toutError&&this.props.showTout(this.props.toutMsg,this.props.toutError),n&&this.messageScrollList&&(n.scrollBottom?(this.props.chatObj&&this.props.chatObj.unreadMessageCount&&!this.props.isMinimized&&this.props.markChannelAsRead(this.props.chatObj),this.messageScrollList.scrollTop=this.messageScrollList.scrollHeight):this.messageScrollList.scrollTop=this.messageScrollList.scrollHeight-n.scrollHeight),this.props.reloadChat&&this.componentInit()}},{key:"getMessageList",value:function(e){var t=this;if(this.state.previousMessageListQuery||e){var r=this.props,a=r.chatUrl,i=r.chatObj;e?(0,(U||(U=n(339))).sbCreatePreviousMessageListQuery)(a,i).then(function(e){t.setState({previousMessageListQuery:e},function(){t.props.getPrevMessageList(t.state.previousMessageListQuery,a,!0)})}).catch(function(e){return console.log(e)}):this.props.getPrevMessageList(this.state.previousMessageListQuery,a)}}},{key:"keyPressHandler",value:function(e){var t=this,n=this.props,r=n.chatUrl,a=n.chatObj;if(e&&13===e.keyCode&&!e.shiftKey){e.preventDefault();var i=e.target,s=this.state.textMessage.trim();this.setState({textMessage:""},function(){i&&(0,(M||D()).autoExpandTextArea)(i),s&&(t.props.sendTextMessage(r,s,a),t.props.setDoneTyping(a))})}}},{key:"onChangeHandler",value:function(e){if(e&&e.target){(0,(M||D()).autoExpandTextArea)(e.target);var t=e.target.value;this.setState({textMessage:t}),this.props.setTyping(this.props.chatObj)}}},{key:"fileUploadHandler",value:function(e){var t=this.props,n=t.chatUrl,r=t.chatObj,a=e.target.files[0];a&&this.props.sendFileMessage(n,a,r)}},{key:"closeChat",value:function(e){e.stopPropagation();var t=this.props.chat;this.props.closeChat(t)}},{key:"openSettingsPanel",value:function(e){e.stopPropagation();var t=this.state.showSettingsPanel,n=this.props.isMinimized?t:!t;this.setState({showSettingsPanel:n,showGifPicker:!1})}},{key:"toggleGifPicker",value:function(e){e.stopPropagation(),this.setState({showGifPicker:!this.state.showGifPicker})}},{key:"toggleChatMinimize",value:function(){this.props.toggleChatMinimize(),this.setState({showGifPicker:!1})}},{key:"reportMessage",value:function(e,t,n){if(e&&t){var r=this.props.env,a=this.props.crumb;this.props.reportMessage(e,t,n,r,a,this.props.intl)}}},{key:"deleteMessage",value:function(e){var t=this.props.chatObj;e&&this.props.deleteMessage(e,t,this.props.intl)}},{key:"blockChatUser",value:function(e){e&&this.props.blockUser(e,this.props.intl)}},{key:"unBlockChatUser",value:function(e){e&&this.props.unBlockUser(e,this.props.intl)}},{key:"handleScroll",value:function(){var e=this.messageScrollList,t=e.scrollTop;0===t?this.getMessageList():e.scrollHeight===t+e.clientHeight&&this.props.markChannelAsRead(this.props.chatObj)}},{key:"sendGifMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.props,r=n.chatUrl,a=n.chatObj;e&&(this.props.sendFileMessage(r,e,t,a,"gif"),this.setState({showGifPicker:!1}))}},{key:"render",value:function(){var e=this,t=this,r=this.state,a=this.props,i=a.chatObj||{},s=a.chatUrl,u=i.display_name,g=i.metaData||{},U=i.unreadMessageCount,A=(a.list||{})[s]||[],N=[],M=r.textMessage,I=a.isMinimized,P=r.showSettingsPanel,D=r.showGifPicker,x=i.typingMembers||[],F=x.length>0;return A.forEach(function(e,r){N.unshift((o||k()).default.createElement((_||(_=H(n(685)))).default,{key:"message-"+e.messageId,message:e,fantasyMetadata:g,reportMessage:t.reportMessage,deleteMessage:t.deleteMessage,startChat:t.props.startNewChat,blockChatUser:t.blockChatUser,unBlockChatUser:t.unBlockChatUser,showFocusedImageMedia:a.showFocusedImageMedia}))}),r.previousMessageListQuery&&r.previousMessageListQuery.reverse&&!A.length&&N.push((o||k()).default.createElement((b||(b=H(n(694)))).default,{key:"emptychat-"+i.url,chat:i})),(o||k()).default.createElement("div",{className:"ysf-chatcontainer D(ib) Mx(5px) Va(t) W(chat-width) Bxsh(chat-box-shadow) Bdrs(chat-border-radius) Ta(s) Pos(f) Z(2147483640) B(0)",style:{right:a.rightPosition+"px"}},(o||k()).default.createElement("div",{tabIndex:0,role:"button",onKeyDown:function(){},onClick:function(){return e.toggleChatMinimize()},className:(0,(l||T()).default)("ysf-chatHeader Bdrs(chat-border-radius) Cur(p) W(chat-width) Bgc(#333) C(white) Px(10px) Va(m) H(35px) D(f) Bgc(#4c4c4c):h Cur(p) O(n):f",{"Pos(a) B(0px)":I})},(o||k()).default.createElement("div",{className:(0,(l||T()).default)("Ta(s) As(c) W(10%) O(n):f",{"Pe(n)":I})},(o||k()).default.createElement((c||O()).I13nDiv,{i13nModel:{sec:"openSettingsPanel"},className:"O(n):f Py(5px) Cur(p) ysf-settings-toggle",onClick:function(t){return e.openSettingsPanel(t)}},(o||k()).default.createElement((d||R()).Icon,{role:"button",className:"Cur(p)!",color:"white",asset:P?(y||(y=H(n(683)))).default:(p||(p=H(n(682)))).default,height:"15",width:"15"}))),(o||k()).default.createElement("div",{className:"Ta(s) As(c) W(80%) Whs(nw) Tov(e) Ovx(h)"},(o||k()).default.createElement("span",{className:"Va(m) Fz(15px) ysf-chat-name"},u),(o||k()).default.createElement("span",null,U?(o||k()).default.createElement("span",{className:"Pstart(1px) Va(m) Mstart(10px) D(ib) Fw(b) Bgc(notification-color) Bdrs(30%) H(15px) W(15px) Fz(11px) C(white) Ta(c) As(c)"},U):null)),(o||k()).default.createElement("div",{className:"Ta(e) As(c) W(10%)"},(o||k()).default.createElement((c||O()).I13nDiv,{i13nModel:{sec:"closeChatButton"},className:"O(n):f Cur(p) ysf-close-chat",onClick:function(t){return e.closeChat(t)}},(o||k()).default.createElement((d||R()).Icon,{role:"button",className:"Cur(p)!",color:"white",asset:(f||(f=H(n(104)))).default,height:"15",width:"15"})))),(o||k()).default.createElement("div",{className:(0,(l||T()).default)("ysfChatBody Pos(r)",{"D(n)!":I})},P?(o||k()).default.createElement((E||(E=H(n(691)))).default,{showTout:this.props.showTout,chat:i,startChat:this.props.startNewChat,blockChatUser:this.blockChatUser,unBlockChatUser:this.unBlockChatUser}):(o||k()).default.createElement("div",{className:"Pos(r)"},(o||k()).default.createElement("div",{ref:function(t){e.messageScrollList=t},onScroll:function(t){return e.handleScroll(t)},className:(0,(l||T()).default)("Bds(s) Bdw(1px) Bdc(border-color) Bdbw(0px) H(355px) Ovy(s) Bgc(white)",{"Py(5px)":!F,"Pt(5px) Pb(20px)":F})},(o||k()).default.createElement("div",{className:"ysf-MessageList Pb(5px)"},N.length?(o||k()).default.createElement((C||(C=H(n(693)))).default,{messageMarkup:N}):null),F?(o||k()).default.createElement("div",{className:"H(15px) Pos(a) B(30px) Fz(12px) C(grey-8) Bgc(white) Start(0) End(0)"},(o||k()).default.createElement("div",{className:"Mstart(15%) Pstart(5px) Pos(r)"},(o||k()).default.createElement((h||L()).FormattedMessage,{id:x.length>1?"MULTIPLE_USERS_ARE_TYPING":"ONE_USER_IS_TYPING",values:{userName:(0,(w||(w=H(n(9)))).default)(x,[0,"nickname"]),numberUsers:x.length}}))):null),(o||k()).default.createElement("div",{className:"ysf-message-input H(25px) Pos(r) D(ib) W(90%) Va(m)"},(o||k()).default.createElement((v||(v=H(n(690)))).default,{ref:function(t){e.messageInput=t},name:s,textMessage:M,keyPressHandler:this.keyPressHandler,onChangeHandler:this.onChangeHandler,fileUploadHandler:this.fileUploadHandler})),(o||k()).default.createElement("div",{className:"P(5px) Bgc(white) Bdc(border-color) Bds(s) Bdw(1px) D(ib) W(10%) Va(m) Bdstartc(n) Bdstarts(n) H(30px) Pos(a) B(0) Ta(c)"},(o||k()).default.createElement((c||O()).I13nDiv,{i13nModel:{sec:"openGifPicker"},className:"O(n):f Cur(p)",onClick:function(t){return e.toggleGifPicker(t)}},(o||k()).default.createElement((d||R()).Icon,{role:"button",className:"Cur(p)! Fill(#606770)!:h",color:"#9499a2",asset:(m||(m=H(n(684)))).default,height:"20",width:"20"}))))),(o||k()).default.createElement("div",null,D?(o||k()).default.createElement((S||(S=H(n(695)))).default,{toggleGifPicker:this.toggleGifPicker,sendGifMessage:this.sendGifMessage}):null))}}]),t}((u||(u=n(0))).Component);t.default=(0,(h||L()).injectIntl)((0,(g||(g=n(45))).connect)(function(e){var t=e.chat,r=e.env,a=e.login,i=t.list,s={},o=r.env,u=(a.user||{}).crumb,l=t.toutError,c=t.toutMsg,d=t.reloadChat;return Object.keys(i).forEach(function(e){var t=i[e]||[];s[e]=(0,(A||(A=n(105))).sbAdjustMessageList)(t)}),{list:s,env:o,crumb:u,toutMsg:c,toutError:l,reloadChat:d}},{getPrevMessageList:(N||P()).getPrevMessageList,sendTextMessage:(N||P()).sendTextMessage,sendFileMessage:(N||P()).sendFileMessage,startNewChat:(I||x()).startNewChat,reportMessage:(N||P()).reportMessage,deleteMessage:(N||P()).deleteMessage,blockUser:(N||P()).blockUser,unBlockUser:(N||P()).unBlockUser,setTyping:(I||x()).setTyping,setDoneTyping:(I||x()).setDoneTyping})(F))},function(e,t){if(void 0===n)var n={};n.information={name:"information",height:48,width:48,path:"M24.993 47.136c-12.13 0-22-9.868-22-22 0-12.13 9.87-22 22-22s22 9.87 22 22c0 12.132-9.87 22-22 22zm0-40c-9.925 0-18 8.075-18 18 0 9.927 8.075 18 18 18s18-8.073 18-18c0-9.925-8.075-18-18-18zM24.993 36.136c-1.104 0-2-.895-2-2v-10c0-1.104.896-2 2-2s2 .896 2 2v10c0 1.105-.895 2-2 2zM22.993 16.136a2 2 0 1 0 4 0 2 2 0 1 0-4 0z"},void 0!==e&&e.exports&&(e.exports=n.information)},function(e,t){if(void 0===n)var n={};n.CoreArrowLeft={name:"CoreArrowLeft",height:32,width:32,path:"M22.72.665c-.886-.887-2.323-.887-3.21 0L4.175 16 19.51 31.335c.442.443 1.023.665 1.604.665s1.162-.222 1.605-.665c.886-.887.886-2.324 0-3.21L10.596 16 22.72 3.876c.887-.887.887-2.324 0-3.21z"},void 0!==e&&e.exports&&(e.exports=n.CoreArrowLeft)},function(e,t){if(void 0===n)var n={};n.gif={name:"gif",height:48,width:48,path:"M44.307 9.087H3.69M46.154 5.395H1.846C.826 5.395 0 6.22 0 7.24v33.232c0 1.02.826 1.846 1.846 1.846h44.308c1.02 0 1.846-.826 1.846-1.846V7.242c0-1.02-.826-1.847-1.846-1.847zm-1.847 33.23l-40.615.01V9.087h40.615v29.538zM33.363 31.975v-6.35h6.195v-2.75h-6.195V18.54h6.79v-2.802H30.04v16.237h3.323zm-6.55 0V15.738h-3.324v16.237h3.322zm-5.944-10.99c-.106-2.824-2.132-5.556-6.254-5.556-4.26 0-6.77 2.902-6.77 7.36v2.023c0 4.27 2.05 7.47 6.713 7.47 4.682 0 6.33-3.28 6.33-5.9v-3.21h-6.204v2.52h3.057v.918c0 1.547-1.204 2.806-3.138 2.806-2.45 0-3.414-1.938-3.414-4.612v-1.987c0-3.108 1.41-4.522 3.38-4.522 1.647 0 2.874.99 3.068 2.692h3.23z"},void 0!==e&&e.exports&&(e.exports=n.gif)},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h,f,p,y,m,g,_,v;function E(){return o=N(n(0))}function C(){return l=n(11)}function b(){return c=n(15)}function S(){return d=n(16)}function U(){return y=N(n(8))}function A(){return v=n(138)}function N(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var M=function(e){function t(e){(0,(r||(r=N(n(4)))).default)(this,t);var a=(0,(i||(i=N(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={showUserOverlay:!1,selectedUser:{},showReportOverlay:!1,reportingReason:"",showDeleteBtn:!1},a.showMessageAction=a.showMessageAction.bind(a),a.hideMessageAction=a.hideMessageAction.bind(a),a.openReportOverlay=a.openReportOverlay.bind(a),a.hideReportOverlay=a.hideReportOverlay.bind(a),a.reportMessage=a.reportMessage.bind(a),a.hideUserOverlay=a.hideUserOverlay.bind(a),a.showUserOverlay=a.showUserOverlay.bind(a),a.deleteMessage=a.deleteMessage.bind(a),a}return(0,(s||(s=N(n(7)))).default)(t,e),(0,(a||(a=N(n(5)))).default)(t,[{key:"showMessageAction",value:function(){var e=(this.props.message||{}).sender||{};(0,(v||A()).isUserMe)(e)&&this.setState({showDeleteBtn:!0})}},{key:"hideMessageAction",value:function(){this.setState({showDeleteBtn:!1})}},{key:"openReportOverlay",value:function(){this.setState({showReportOverlay:!0})}},{key:"hideReportOverlay",value:function(){this.setState({showReportOverlay:!1})}},{key:"updateReportingReason",value:function(e){e&&e.target&&this.setState({reportingReason:e.target.value})}},{key:"reportMessage",value:function(){var e=this.state.reportingReason,t=this.props.message||{},n=t.messageId,r=t.channelUrl;n&&r&&(this.props.reportMessage(n,r,e),this.hideReportOverlay())}},{key:"deleteMessage",value:function(){var e=this.props.message||{};e&&e.messageId&&this.props.deleteMessage(e)}},{key:"showUserOverlay",value:function(e){(e.hasOwnProperty("isMe")&&!e.isMe||!(0,(v||A()).isUserMe)(e))&&this.setState({showUserOverlay:!0,selectedUser:e})}},{key:"hideUserOverlay",value:function(){this.setState({showUserOverlay:!1,selectedUser:{}})}},{key:"render",value:function(){var e=this,t=this.props,r=this.state,a=r.selectedUser,i=r.showUserOverlay,s=r.showReportOverlay,u=r.reportingReason,v=r.showDeleteBtn,A=t.message||{},M=t.fantasyMetadata||{},I=Object.keys(M).length,w=A.sender||{},k=w.userId,T=M["userTeamName_"+k],O=M["userTeamLogoUrl_"+k],R=w.nickname,L=O||(w.profileUrl?w.profileUrl:(_||(_=N(n(139)))).default.DEFAULT_AVATAR),P=w.isShow;return(o||E()).default.createElement("div",{className:"ysf-message Bgc(#f7f7f7):h",onMouseLeave:function(){return e.hideMessageAction()},onMouseEnter:function(){return e.showMessageAction()}},(o||E()).default.createElement("div",{className:(0,(y||U()).default)({"Mt(12px)":P})},P?(o||E()).default.createElement("div",{className:"D(ib) W(15%) Va(t) Ta(c)"},(o||E()).default.createElement("span",{onKeyDown:I?function(){return e.showUserOverlay(w)}:null,role:"button",tabIndex:0,onClick:I?function(){return e.showUserOverlay(w)}:null},(o||E()).default.createElement("img",{src:L,className:(0,(y||U()).default)("Bdrs(50%)",{"Cur(p)":I}),alt:"Profile",width:"40px",height:"40px"}))):(o||E()).default.createElement("div",{className:"D(ib) W(15%) Va(t)"}),(o||E()).default.createElement((m||(m=N(n(688)))).default,{isShow:P,firstName:R,teamName:T,message:A,showFocusedImageMedia:t.showFocusedImageMedia}),(o||E()).default.createElement("div",{className:(0,(y||U()).default)("Va(t)","Ta(e)","Pend(5px)","Pt(5px)","D(n)","ysf-message:h_D(ib)!")},(o||E()).default.createElement((c||b()).I13nDiv,{i13nModel:{sec:"reportMessage"},className:"O(n):f Cur(p)",onClick:v?function(){return e.deleteMessage()}:function(){return e.openReportOverlay()}},(o||E()).default.createElement((d||S()).Icon,{role:"button",className:"Cur(p)!",color:"normal-black333",asset:v?(f||(f=N(n(686)))).default:(p||(p=N(n(687)))).default,height:"15",width:"15"})))),(o||E()).default.createElement("span",null,s?(o||E()).default.createElement("div",{className:"Pos(a) H(overlay-height) W(100%) T(0px) Bgc(bg-overlay)"},(o||E()).default.createElement("div",{className:"Bgc(white) Bdrs(3px) W(85%) Mx(a) Mt(180px) P(10px)"},(o||E()).default.createElement((c||b()).I13nDiv,{i13nModel:{sec:"closeBlockOverlay"},className:"O(n):f Cur(p) Ta(e)",onClick:function(){return e.hideReportOverlay()}},(o||E()).default.createElement((d||S()).Icon,{role:"button",className:"Cur(p)!",color:"#787d82",asset:(h||(h=N(n(104)))).default,height:"15",width:"15"})),(o||E()).default.createElement("div",{className:"Fz(15px) Pb(7px) Ta(c)"},(o||E()).default.createElement((l||C()).FormattedMessage,{id:"REPORT_MESSAGE"}),(o||E()).default.createElement("div",{className:"Pt(10px) Fz(11px)"},(o||E()).default.createElement((l||C()).FormattedMessage,{id:"REASON_FOR_REPORTING"})),(o||E()).default.createElement("div",{className:"Pt(5px) Ta(s)"},(o||E()).default.createElement("input",{className:"Mx(a) W(95%)",onChange:function(t){return e.updateReportingReason(t)},type:"text",value:u,id:"reportingReason"})),(o||E()).default.createElement("div",{className:"Ta(c) Pt(15px)"},(o||E()).default.createElement((c||b()).I13nDiv,{i13nModel:{sec:"startNewChat"},onClick:function(){return e.reportMessage()},className:"D(b) Cur(p) Bgc(#0078ff) Bgc(#3393ff):h Py(10px) Px(8px) W(70%) Mx(a) C(white) Bdrs(3px)"},(o||E()).default.createElement((l||C()).FormattedMessage,{id:"REPORT"})))))):null),(o||E()).default.createElement("span",null,i?(o||E()).default.createElement((g||(g=N(n(338)))).default,{selectedUser:a,chatMetaData:M,hideUserOverlay:this.hideUserOverlay,startChat:this.props.startChat,blockChatUser:this.props.blockChatUser,unBlockChatUser:this.props.unBlockChatUser}):null))}}]),t}((u||(u=n(0))).Component);t.default=M,e.exports=t.default},function(e,t){if(void 0===n)var n={};n.delete={name:"delete",height:48,width:48,path:"M42.885 7.616h-9v-2c0-1.104-.896-2-2-2h-14c-1.104 0-2 .896-2 2v2h-9c-1.104 0-2 .896-2 2s.896 2 2 2h36c1.104 0 2-.896 2-2s-.897-2-2-2zM35.885 41.616h-22v-24h-4v26c0 1.104.896 2 2 2h26c1.104 0 2-.896 2-2v-26h-4v24z"},void 0!==e&&e.exports&&(e.exports=n.delete)},function(e,t){if(void 0===n)var n={};n.flag={name:"flag",height:48,width:48,path:"M40 10H28.62l-2.888-5-.008.004C25.38 4.407 24.74 4 24 4H8c-1.105 0-2 .896-2 2v36c0 1.105.895 2 2 2s2-.895 2-2V28h12.846l2.887 5c.357.62 1.018 1 1.732 1H40c1.105 0 2-.895 2-2V12c0-1.104-.895-2-2-2zm-2 20h-9.38l-2.888-5c-.357-.617-1.018-1-1.732-1H10V8h12.845l2.887 5c.37.642 1.04 1 1.732 1H38v16z"},void 0!==e&&e.exports&&(e.exports=n.flag)},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h,f;function p(){return o=_(n(0))}function y(){return l=n(11)}function m(){return c=_(n(8))}function g(){return h=n(15)}function _(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var v=function(e){function t(e){(0,(r||(r=_(n(4)))).default)(this,t);var a=(0,(i||(i=_(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={dimensions:{width:"160px",height:"160px"}},a.onImgLoad=a.onImgLoad.bind(a),a.onImageClick=a.onImageClick.bind(a),a}return(0,(s||(s=_(n(7)))).default)(t,e),(0,(a||(a=_(n(5)))).default)(t,[{key:"onImgLoad",value:function(e){var t=e.target,n=t.offsetWidth,r=t.offsetHeight,a=160/n,i=160/r,s=a<=i?a:i;s>1&&(s=1);var o=n*s,u=r*s;this.setState({dimensions:{height:u,width:o}})}},{key:"onImageClick",value:function(e){e&&e.preventDefault&&e.preventDefault(),this.props.showFocusedImageMedia(this.props.message)}},{key:"getProperTeamName",value:function(e){var t="";try{t=(d||(d=_(n(689)))).default.decode(e)}catch(n){t=e}return t}},{key:"render",value:function(){var e,t=this.state,r=this.props,a=t.dimensions||{},i=a.width,s=a.height,u=r.isShow,d=r.firstName,v=this.getProperTeamName(r.teamName),E=r.message||{},C=E.messageType;e=E.data?(0,(f||(f=_(n(335)))).default)(E.data)||{}:"";var b="file"===C&&E.url,S=[];return!b&&E.message&&(S=E.message.split(" ").map(function(e,t){return function(e){return!!new RegExp("^(https://|http://)","i").test(e)}(e)?(o||p()).default.createElement((h||g()).I13nAnchor,{key:t+"message"+E.messageId,href:e},t?" "+e:e):(o||p()).default.createElement("span",{key:t+"message"+E.messageId},t?" "+e:e)})),(o||p()).default.createElement("div",{className:"ysf-messagecontainer D(ib) Va(t) Mstart(5px) W(75%)"},u?(o||p()).default.createElement("div",{className:"D(f) Ai(c) Jc(fs) Whs(nw) Cur(d)"},(o||p()).default.createElement("span",{title:d||null,className:"Fw(b) Fz(14px) Ell"},d||null),(o||p()).default.createElement("span",{title:v||null,className:"Fz(12px) C(grey-8) Mstart(5px) Ell"},v?"("+v+")":null),(o||p()).default.createElement("span",{className:"Fz(12px) C(grey-8) Mstart(5px)"},(o||p()).default.createElement((l||y()).FormattedRelative,{value:E.createdAt}))):null,(o||p()).default.createElement("div",{className:(0,(c||m()).default)({"Mt(4px)":u&&"file"!==C,"Mt(8px)":u&&"file"===C})},b?(o||p()).default.createElement("div",null,e.message?(o||p()).default.createElement("div",{className:"Wow(bw) Maw(100%) Fz(14px) Pb(3px)"},e.message):null,(o||p()).default.createElement((h||g()).I13nDiv,{style:{width:i,height:s},className:"D(ib) Maw(100%) Cur(p)",onClick:this.onImageClick},(o||p()).default.createElement("img",{onLoad:this.onImgLoad,onError:this.onImgLoad,src:E.url,alt:E.name,width:"100%",className:"Bdrs(6px)"}),e.source?(o||p()).default.createElement("span",{className:"D(b) C(grey-8) Fz(11px) Ta(s)"},(o||p()).default.createElement((l||y()).FormattedMessage,{id:"VIA_X",values:{source:e.source}})):null)):E.message?(o||p()).default.createElement("div",{className:(0,(c||m()).default)("Wow(bw)","D(ib)","Maw(100%)","Fz(14px)","Pb(3px)",{"Pt(3px)":!u})},S):null))}}]),t}((u||(u=n(0))).Component);t.default=v,e.exports=t.default},function(e,t,n){!function(e){var t,n,r,a=String.fromCharCode;function i(e){for(var t,n,r=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function s(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function o(e,t){return a(e>>t&63|128)}function u(e){if(0==(4294967168&e))return a(e);var t="";return 0==(4294965248&e)?t=a(e>>6&31|192):0==(4294901760&e)?(s(e),t=a(e>>12&15|224),t+=o(e,6)):0==(4292870144&e)&&(t=a(e>>18&7|240),t+=o(e,12),t+=o(e,6)),t+=a(63&e|128)}function l(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function c(){var e,a;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(e=255&t[r],r++,0==(128&e))return e;if(192==(224&e)){if((a=(31&e)<<6|l())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&e)){if((a=(15&e)<<12|l()<<6|l())>=2048)return s(a),a;throw Error("Invalid continuation byte")}if(240==(248&e)&&(a=(7&e)<<18|l()<<12|l()<<6|l())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=i(e),n=t.length,r=-1,a="";++r<n;)a+=u(t[r]);return a},e.decode=function(e){t=i(e),n=t.length,r=0;for(var s,o=[];!1!==(s=c());)o.push(s);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=a(t);return i}(o)}}(t)},function(e,t,n){"use strict";var r,a,i,s,o,u,l;function c(){return o=d(n(0))}function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){function t(){return(0,(r||(r=d(n(4)))).default)(this,t),(0,(i||(i=d(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,(s||(s=d(n(7)))).default)(t,e),(0,(a||(a=d(n(5)))).default)(t,[{key:"componentDidMount",value:function(){this.messageInputText.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.intl;return(o||c()).default.createElement("div",{className:"W(100%)"},(o||c()).default.createElement("textarea",{placeholder:n.formatMessage({id:"ADD_A_MESSAGE"}),rows:"1",ref:function(t){e.messageInputText=t},id:t.name,name:t.name,onKeyDown:function(e){return t.keyPressHandler(e)},value:t.textMessage,onChange:function(e){return t.onChangeHandler(e)},className:"Fz(14px) H(30px) Rsz(n) P(5px) O(n) Mih(30px) Ovy(s) Ovx(h) Mah(90px) Pos(a) W(100%) B(0px) End(0px) Bgc(white) Bds(s) Bdw(1px) Bdc(border-color)"}))}}]),t}((u||(u=n(0))).Component);t.default=(0,(l||(l=n(11))).injectIntl)(h),e.exports=t.default},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h,f,p,y,m,g,_;function v(){return o=U(n(0))}function E(){return c=n(15)}function C(){return p=n(138)}function b(){return m=U(n(139))}function S(){return g=U(n(261))}function U(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var A=function(e){function t(e){(0,(r||(r=U(n(4)))).default)(this,t);var a=(0,(i||(i=U(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={showOverlay:!1,selectedUser:{}},a.showUserOverlay=a.showUserOverlay.bind(a),a.getOtherUserInChat=a.getOtherUserInChat.bind(a),a.hideUserOverlay=a.hideUserOverlay.bind(a),a}return(0,(s||(s=U(n(7)))).default)(t,e),(0,(a||(a=U(n(5)))).default)(t,[{key:"showUserOverlay",value:function(e){(e.hasOwnProperty("isMe")&&!e.isMe||!(0,(p||C()).isUserMe)(e))&&this.setState({showOverlay:!0,selectedUser:e})}},{key:"hideUserOverlay",value:function(){this.setState({showOverlay:!1,selectedUser:{}})}},{key:"blockSelectedUser",value:function(e,t){this.props.blockChatUser(t),this.hideUserOverlay()}},{key:"unBlockSelectedUser",value:function(e,t){this.props.unBlockChatUser(t),this.hideUserOverlay()}},{key:"getOtherUserInChat",value:function(e){var t={};return e.some(function(e){return!((!e.hasOwnProperty("isMe")||e.isMe)&&(0,(p||C()).isUserMe)(e))&&(t=e,!0)}),t}},{key:"render",value:function(){var e=this,t=this,r=this.state,a=this.props.chat||{},i=a.metaData||{},s=a.members||[],u=(0,(y||(y=n(105))).isLeagueChannel)(a),p=[],C=r.showOverlay,A=(u?r.selectedUser:this.getOtherUserInChat(s))||{},N=A.nickname,M=A.isBlockedByMe;s.forEach(function(e){var r=e.userId||"",a=i["userTeamName_"+r]||"",s=i["userTeamLogoUrl_"+r]||(m||b()).default.DEFAULT_AVATAR,d=e.nickname,y=e.isBlockedByMe,g=e.profileUrl||(m||b()).default.DEFAULT_AVATAR;p.push((o||v()).default.createElement((c||E()).I13nDiv,{i13nModel:{sec:"memberRow"},key:"memberrow-"+r,onClick:function(){return t.showUserOverlay(e)},className:(0,(l||(l=U(n(8)))).default)("D(b)","Py(8px)","Ta(s)","Px(5px)","Whs(nw)","Tov(e)","Ovx(h)",{"Bgc(hover-blue):h Cur(p)":!e.isMe})},(o||v()).default.createElement("div",{className:"D(ib) W(90%) Whs(nw) Tov(e) Ovx(h) Va(m)"},(o||v()).default.createElement("span",null,(o||v()).default.createElement("img",{alt:"Profile",className:"Bdrs(50%) Va(m)",src:u?s:g,width:"25px",height:"25px"})),(o||v()).default.createElement("span",{className:"Fw(b) Mx(5px) Va(m)"},d),u?(o||v()).default.createElement("span",{className:"Mend(3px) C(#787d82) Va(m)"},a):null),(o||v()).default.createElement("div",{className:"D(ib) W(10%) Ta(c) Va(m)"},y?(o||v()).default.createElement("span",null,(o||v()).default.createElement((h||(h=n(16))).Icon,{color:"#787d82",asset:(f||(f=U(n(692)))).default,height:"12",width:"12"})):null)))});var I=(o||v()).default.createElement("div",{className:"Ta(c) Pt(7px)"},(o||v()).default.createElement((c||E()).I13nDiv,{i13nModel:{sec:"blockUserButton"},onClick:M?function(t){return e.unBlockSelectedUser(t,A,N)}:function(t){return e.blockSelectedUser(t,A,N)},className:u?(g||S()).default.secondaryButton:(g||S()).default.primaryButton},(o||v()).default.createElement((d||(d=n(11))).FormattedMessage,{id:M?"UNBLOCK_USER_X":"BLOCK_USER_X",values:{userName:N}})));return(o||v()).default.createElement("div",{className:"ysf-SettingsPanel Bds(s) Bdw(1px) Bdc(border-color) H(380px) Ovy(s) Py(5px) Bgc(white) H(370px) Ovy(h) Pos(r)"},(o||v()).default.createElement("div",{className:"Ta(c) Pt(10px)"},(o||v()).default.createElement("div",null,(o||v()).default.createElement("img",{alt:"Profile",className:"Bdrs(50%)",src:a.display_coverUrl,width:"75px",height:"75px"}),(o||v()).default.createElement("div",{className:"Pt(10px) Fz(16px)"},a.display_name),u?(o||v()).default.createElement("div",{className:"Fz(11px) C(#26282a) Pt(3px)"},s.length," Members"):null),u?(o||v()).default.createElement("div",{className:"Bdtw(1px) Bdtc(#787d82) Bdts(s) Mt(10px) Pt(5px) H(225px) Ovy(s)"},p):(o||v()).default.createElement("div",{className:"P(10px)"},I)),C?(o||v()).default.createElement((_||(_=U(n(338)))).default,{selectedUser:A,chatMetaData:i,hideUserOverlay:this.hideUserOverlay,startChat:this.props.startChat,blockChatUser:this.props.blockChatUser,unBlockChatUser:this.props.unBlockChatUser}):null)}}]),t}((u||(u=n(0))).Component);t.default=A,e.exports=t.default},function(e,t){if(void 0===n)var n={};n.block={name:"block",height:48,width:48,path:"M23.167 41.084c9.573 0 17.333-7.762 17.333-17.334 0-9.573-7.76-17.334-17.333-17.334-9.572 0-17.333 7.76-17.333 17.334 0 9.572 7.76 17.334 17.333 17.334zm.25-38.918C35.337 2.166 45 11.83 45 23.75s-9.664 21.583-21.583 21.583c-11.92 0-21.583-9.663-21.583-21.583 0-11.92 9.663-21.584 21.583-21.584zM7.24 36.37L35.387 7.717l3.033 2.98L10.273 39.35z"},void 0!==e&&e.exports&&(e.exports=n.block)},function(e,t,n){"use strict";var r,a,i,s,o,u;function l(){return o=c(n(0))}function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(){return(0,(r||(r=c(n(4)))).default)(this,t),(0,(i||(i=c(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,(s||(s=c(n(7)))).default)(t,e),(0,(a||(a=c(n(5)))).default)(t,[{key:"componentDidMount",value:function(){this.scrollBottom()}},{key:"scrollBottom",value:function(){var e=this.messagesEnd;e&&e.scrollIntoView()}},{key:"render",value:function(){var e=this,t=this.props.messageMarkup||[];return(o||l()).default.createElement("div",{className:"W(100%) Whs(pl)"},t,(o||l()).default.createElement("div",{ref:function(t){e.messagesEnd=t}}))}}]),t}((u||(u=n(0))).Component);t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c;function d(){return o=h(n(0))}function h(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(){return(0,(r||(r=h(n(4)))).default)(this,t),(0,(i||(i=h(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,(s||(s=h(n(7)))).default)(t,e),(0,(a||(a=h(n(5)))).default)(t,[{key:"render",value:function(){var e=this.props.chat||{},t=e.members||[],r=(0,(l||(l=n(105))).isLeagueChannel)(e);return(o||d()).default.createElement("div",{className:"W(100%)"},(o||d()).default.createElement("div",{className:"Ta(c)"},(o||d()).default.createElement("img",{alt:"Profile",className:"Bdrs(50%)",src:e.display_coverUrl,width:"75px",height:"75px"}),(o||d()).default.createElement("div",{className:"Pt(10px) Fz(16px)"},e.display_name),r?(o||d()).default.createElement("div",{className:"Fz(11px) C(#26282a) Pt(3px)"},t.length," Members"):null,(o||d()).default.createElement("div",{className:"Pt(10px)"},(o||d()).default.createElement((c||(c=n(11))).FormattedMessage,{id:"START_CHATTING_NOW"}))))}}]),t}((u||(u=n(0))).Component);t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h,f,p,y;function m(){return u=_(n(0))}function g(){return h=n(15)}function _(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GifPicker=void 0;var v=t.GifPicker=function(e){function t(e){(0,(r||(r=_(n(4)))).default)(this,t);var a=(0,(i||(i=_(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={gifQuery:""},a.updateGifQuery=a.updateGifQuery.bind(a),a.handleScroll=a.handleScroll.bind(a),a}return(0,(s||(s=_(n(7)))).default)(t,e),(0,(a||(a=_(n(5)))).default)(t,[{key:"componentDidMount",value:function(){this.props.getGifList()}},{key:"updateGifQuery",value:function(e){var t=this;e&&e.target&&this.setState({gifQuery:e.target.value},function(){t.props.getGifList(t.state.gifQuery)})}},{key:"handleScroll",value:function(){var e=this.gifListScrollList,t=this.gifListEnd,n=e.scrollTop+e.clientHeight;if(t.offsetTop-120<=n){var r=(this.props.gif||{}).gifItems||[];this.props.getGifList(this.state.gifQuery,r.length)}}},{key:"render",value:function(){var e=this,t=this.props,r=this.state,a=t.intl||{},i=(t.gif||{}).gifItems||[],s=[],o=r.gifQuery;return i.forEach(function(t){var n=[t.width,t.height];s.push((u||m()).default.createElement((h||g()).I13nDiv,{onClick:function(){return e.props.sendGifMessage(t.downloadLink,n)},key:t.id+"-gif",className:"W(50%) D(ib) Px(5px) Cur(p)"},(u||m()).default.createElement("img",{alt:"Gif",width:"100%",src:t.thumbnailSquare})))}),(u||m()).default.createElement("div",{id:"GifPicker",className:"Ovy(s) Bxsh(gif-picker-box-shadow) Bdrs(6px) Bgc(white) Pos(a) Z(2147483647) T(30px) End(10px) W(300px) H(355px)",ref:function(t){e.gifListScrollList=t},onScroll:this.handleScroll},(u||m()).default.createElement((h||g()).I13nDiv,{i13nModel:{sec:"closeGifPicker"},className:"O(n):f Pos(a) T(0) End(0) Pt(10px) Pend(10px)",onClick:function(t){return e.props.toggleGifPicker(t)}},(u||m()).default.createElement((c||(c=n(16))).Icon,{role:"button",className:"Cur(p)!",color:"#787d82",asset:(d||(d=_(n(104)))).default,height:"15",width:"15"})),(u||m()).default.createElement("div",{className:"Pt(30px) Ta(c)"},(u||m()).default.createElement("input",{placeholder:a.formatMessage({id:"GIF_SEARCH"}),className:"P(3px) Mx(a) W(95%) Bdrs(3px) Bdc(border-color) Bdw(1px) Bds(s)",onChange:this.updateGifQuery,type:"text",value:o,id:"gifQuery"})),(u||m()).default.createElement("div",{className:"W(100%) Py(20px)"},s,(u||m()).default.createElement("div",{ref:function(t){e.gifListEnd=t}})))}}]),t}((l||(l=n(0))).Component);t.default=(0,(f||(f=n(11))).injectIntl)((0,(p||(p=n(45))).connect)(function(e){return(0,(o||(o=_(n(10)))).default)({},e)},{getGifList:(y||(y=n(696))).getGifList})(v))},function(e,t,n){"use strict";var r,a,i;function s(){return r=n(34)}function o(){return i=function(e){return e&&e.__esModule?e:{default:e}}(n(139))}Object.defineProperty(t,"__esModule",{value:!0}),t.getGifList=void 0;t.getGifList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(i||o()).default.GIF_DEFAULTQUERY,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(u){(0,(a||(a=n(245))).get)("bootcamp.items",{params:{appid:(i||o()).default.GIF_APPID,query:e,offset:t},env:"default"}).then(function(t){var n=t.gifList||[];n.length?u({type:(r||s()).GIF_LIST_SUCCESS,gifItems:n,queryText:e}):u({type:(r||s()).GIF_LIST_FAILURE})})}}},function(e,t,n){"use strict";var r,a,i,s;function o(){return a=n(34)}function u(){return i=n(339)}function l(){return s=n(138)}Object.defineProperty(t,"__esModule",{value:!0}),t.unBlockUser=t.blockUser=t.deleteMessage=t.reportMessage=t.sendFileMessage=t.sendTextMessage=t.getPrevMessageList=void 0;t.getPrevMessageList=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){e.hasMore?(0,(i||u()).sbGetMessageList)(e).then(function(e){r({type:(a||o()).MESSAGE_LIST_SUCCESS,messageList:e,channelUrl:t,init:n})}).catch(function(e){return r({type:(a||o()).MESSAGE_LIST_FAIL})}):r({type:(a||o()).MESSAGE_LIST_FAIL})}},t.sendTextMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){var s=(0,(i||u()).sbSendTextMessage)(n,t,function(t,i){r(i?{type:(a||o()).SEND_MESSAGE_FAIL,channelUrl:e}:{type:(a||o()).SEND_MESSAGE_SUCCESS,message:t,channelUrl:e,channe:n})});r({type:(a||o()).SEND_MESSAGE_TEMPORARY,message:s,channelUrl:e})}},t.sendFileMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments[4];return function(l){var c=(0,(i||u()).sbSendFileMessage)(r,t,n,s,function(t,n){l(n?{type:(a||o()).SEND_MESSAGE_FAIL,channelUrl:e}:{type:(a||o()).SEND_MESSAGE_SUCCESS,message:t,channelUrl:e})});l({type:(a||o()).SEND_MESSAGE_TEMPORARY,message:c,channelUrl:e})}},t.reportMessage=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments[3],u=arguments[4],l=arguments[5],c="dev"===s?"sendbird-dev":"sendbird-prod";return function(d){(0,(r||(r=n(245))).post)("fantasy.report",{params:{crumb:u,messageId:e.toString(),channelUrl:t,reason:i,provider:c},env:s}).then(function(e){d({type:(a||o()).REPORT_MESSAGE_SUCCESS,message:l.formatMessage({id:"MESSAGE_REPORTED"})}),d({type:(a||o()).RESET_TOUT})}).catch(function(e){d({type:(a||o()).REPORT_MESSAGE_FAILURE,message:l.formatMessage({id:"MESSAGE_REPORTED_ERROR"})}),d({type:(a||o()).RESET_TOUT})})}},t.deleteMessage=function(e,t,n){return function(r){(0,(i||u()).sbDeleteMessage)(t,e,function(e,t){r(t?{type:(a||o()).DELETE_MESSAGE_FAILURE,message:n.formatMessage({id:"MESSAGE_DELETED_FAILURE"})}:{type:(a||o()).DELETE_MESSAGE_SUCCESS,message:n.formatMessage({id:"MESSAGE_DELETED"})}),r({type:(a||o()).RESET_TOUT})})}},t.blockUser=function(e,t){return function(n){(0,(s||l()).sbBlockUser)(e).then(function(e){n({type:(a||o()).BLOCK_USER,message:t.formatMessage({id:"BLOCKED_USER"})}),n({type:(a||o()).RESET_TOUT})}).catch(function(e){n({type:(a||o()).BLOCK_USER_FAILURE,message:t.formatMessage({id:"BLOCKED_USER_FAILURE"})}),n({type:(a||o()).RESET_TOUT})})}},t.unBlockUser=function(e,t){return function(n){(0,(s||l()).sbUnBlockUser)(e).then(function(e){n({type:(a||o()).UNBLOCK_USER,message:t.formatMessage({id:"UNBLOCKED_USER"})}),n({type:(a||o()).RESET_TOUT})}).catch(function(e){n({type:(a||o()).UNBLOCK_USER_FAILURE,message:t.formatMessage({id:"UNBLOCKED_USER_FAILURE"})}),n({type:(a||o()).RESET_TOUT})})}}},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c,d,h;function f(){return o=y(n(0))}function p(){return l=n(15)}function y(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){function t(e){(0,(r||(r=y(n(4)))).default)(this,t);var a=(0,(i||(i=y(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.openChatHandler=a.openChatHandler.bind(a),a.closeChatHandler=a.closeChatHandler.bind(a),a}return(0,(s||(s=y(n(7)))).default)(t,e),(0,(a||(a=y(n(5)))).default)(t,[{key:"openChatHandler",value:function(e,t){t&&this.props.openChatHandler(e,t)}},{key:"closeChatHandler",value:function(e){e&&this.props.closeChatHandler(e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hiddenChats||[],a=t.chatList||{},i=[],s=t.showHiddenChatPanel&&r.length;return r.forEach(function(t){var r=a[t]||{},s=r.display_name;i.push((o||f()).default.createElement("div",{key:"hiddenChatRow-"+t,className:"D(f) W(100%)"},(o||f()).default.createElement((l||p()).I13nDiv,{i13nModel:{sec:"hiddenChatList"},className:"Cur(p) Bgc(dark-grey):h P(3px) D(b) Cur(p) As(c)",onClick:function(){return e.openChatHandler(r,t)}},s),(o||f()).default.createElement((l||p()).I13nDiv,{i13nModel:{sec:"closeChatButton"},className:"O(n):f Cur(p) As(c)",onClick:function(){return e.closeChatHandler(t)}},(o||f()).default.createElement((c||(c=n(16))).Icon,{role:"button",className:"Cur(p)!",color:"black",asset:(d||(d=y(n(104)))).default,height:"15",width:"15"}))))}),(o||f()).default.createElement("div",{className:(0,(h||(h=y(n(8)))).default)("ysf-hiddenChatPanel","Ta(s)","P(10px)","Bdrs(3px)","Whs(nw)",{"D(n)":!s})},i)}}]),t}((u||(u=n(0))).Component);t.default=m,e.exports=t.default},function(e,t,n){"use strict";var r,a,i,s,o,u,l,c;function d(){return o=f(n(0))}function h(){return l=n(11)}function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(e){function t(){return(0,(r||(r=f(n(4)))).default)(this,t),(0,(i||(i=f(n(6)))).default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,(s||(s=f(n(7)))).default)(t,e),(0,(a||(a=f(n(5)))).default)(t,[{key:"componentDidMount",value:function(){(0,(c||(c=n(88))).positionChatList)()}},{key:"render",value:function(){var e=(this.props.error||{}).error||{};return(o||d()).default.createElement("div",{className:"W(100%) Whs(pl)"},(o||d()).default.createElement("div",{id:"ChatList",className:"W(250px) Ta(s) D(ib) Va(t) D(n)! Pos(a) Z(100000) Bxsh(chat-list-box-shadow)"},(o||d()).default.createElement("div",{className:"Bgc(normal-black) C(white) Px(10px) Va(m) H(35px) D(f)"},(o||d()).default.createElement("div",{className:"Pos(a) T(-15px) Start(110px) W(0px) H(0px) Bds(s) Bdc(t) Bdbc(normal-black) Bdendw(15px) Bdstartw(15px) Bdbw(15px)"})),e.description?(o||d()).default.createElement("div",{className:"Py(20px) Px(5px) C(error-color) Bgc(white)"},(o||d()).default.createElement("h3",null,(o||d()).default.createElement((l||h()).FormattedMessage,{id:"THERE_WAS_AN_ERROR"})),(o||d()).default.createElement("h4",{className:"Pt(10px) Fw(n) Fz(13px)"},(o||d()).default.createElement((l||h()).FormattedMessage,{id:"ERROR_MESSAGE",values:{errorMessage:e.description}}))):(o||d()).default.createElement("div",{className:"Py(20px) Px(5px) Bgc(white) Ta(c)"},(o||d()).default.createElement("img",{alt:"Loading",width:"50px",src:"https://s.yimg.com/dh/ap/sbsq/blue-28@2x.gif"}))))}}]),t}((u||(u=n(0))).Component);t.default=p,e.exports=t.default},function(e,t,n){"use strict";var r,a,i,s,o,u;function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=(0,(r||(r=n(54))).combineReducers)({login:(a||(a=l(n(701)))).default,groupChannel:(i||(i=l(n(702)))).default,chat:(s||(s=l(n(703)))).default,env:(o||(o=l(n(704)))).default,gif:(u||(u=l(n(705)))).default}),e.exports=t.default},function(e,t,n){"use strict";var r,a;function i(){return r=function(e){return e&&e.__esModule?e:{default:e}}(n(10))}function s(){return a=n(34)}Object.defineProperty(t,"__esModule",{value:!0});var o={error:"",user:null,loggedIn:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case(a||s()).LOGIN_SUCCESS:return(0,(r||i()).default)({},e,{user:t.payload,loggedIn:!0});case(a||s()).LOGIN_FAIL:return(0,(r||i()).default)({},e,{error:t.payload,loggedIn:!1});default:return e}},e.exports=t.default},function(e,t,n){"use strict";var r,a,i;function s(){return r=l(n(10))}function o(){return a=l(n(52))}function u(){return i=n(34)}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c={channels:{},channelsOrder:[],activeChats:[]},d=function(e,t){var n;return n=e.filter(function(e){return e!==t}),[t].concat((0,(a||o()).default)(n))};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],l={},h=e.activeChats,f=e.channelsOrder,p=t.channel||{};p.firstLoad=!1;var y=t.channelUrl||p.url;switch(t.type){case(i||u()).NEW_GROUP_CHANNEL_LIST_SUCCESS:return(0,(r||s()).default)({},e,{channelsOrder:[].concat((0,(a||o()).default)(t.channelsOrder)),channels:(0,(r||s()).default)({},e.channels,t.channels)});case(i||u()).GROUP_CHANNEL_LIST_SUCCESS:return(0,(r||s()).default)({},e,{channelsOrder:[].concat((0,(a||o()).default)(e.channelsOrder),(0,(a||o()).default)(t.channelsOrder)),channels:(0,(r||s()).default)({},e.channels,t.channels)});case(i||u()).GROUP_CHANNEL_LIST_FAIL:return e;case(i||u()).OPEN_CHAT_SUCCESS:return Array.isArray(y)?(0,(r||s()).default)({},e,{activeChats:y}):(p.firstLoad=!0,p.isMinimized=!1,n=d(h,y),l[p.url]=p,(0,(r||s()).default)({},e,{channels:(0,(r||s()).default)({},e.channels,l),activeChats:[].concat((0,(a||o()).default)(n))}));case(i||u()).OPEN_CHAT_FAILURE:return e;case(i||u()).CLOSE_CHAT_SUCCESS:var m=h.filter(function(e){return e!==y});return(0,(r||s()).default)({},e,{activeChats:m});case(i||u()).TOGGLE_CHAT_MINIMIZE_SUCCESS:return y&&e.channels&&e.channels[y]&&(e.channels[y].isMinimized=!e.channels[y].isMinimized),(0,(r||s()).default)({},e,{channels:(0,(r||s()).default)({},e.channels)});case(i||u()).START_NEW_CHAT_SUCCESS:var g=p||{};return l[g.url]=g,(0,(r||s()).default)({},e,{channels:(0,(r||s()).default)({},e.channels,l)});case(i||u()).SEND_MESSAGE_SUCCESS:return n=d(f,y),(0,(r||s()).default)({},e,{channelsOrder:[].concat((0,(a||o()).default)(n)),channels:(0,(r||s()).default)({},e.channels,p)});case(i||u()).MESSAGE_RECEIVED:return n=d(f,y),l[p.url]=p,(0,(r||s()).default)({},e,{channelsOrder:[].concat((0,(a||o()).default)(n)),channels:(0,(r||s()).default)({},e.channels,l)});case(i||u()).MARK_AS_READ:return l[p.url]=p,(0,(r||s()).default)({},e,{channels:(0,(r||s()).default)({},e.channels,l)});case(i||u()).TYPING_STATUS_UPDATED:return y&&e.channels&&e.channels[y]&&(e.channels[y].typingMembers=t.payload),(0,(r||s()).default)({},e,{channels:(0,(r||s()).default)({},e.channels)});default:return y&&e.channels&&e.channels[y]?(e.channels[y].firstLoad=!!t.init,(0,(r||s()).default)({},e,{channels:(0,(r||s()).default)({},e.channels)})):e}},e.exports=t.default},function(e,t,n){"use strict";var r,a,i;function s(){return r=l(n(52))}function o(){return a=l(n(10))}function u(){return i=n(34)}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c={list:{},toutError:null,toutMsg:"",reloadChat:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],n=t.channelUrl,l=e.list,d=t.payload,h=(t.channel||{}).url,f=l[h]||[];switch(t.type){case(i||u()).BLOCK_USER:return(0,(a||o()).default)({},e,{toutError:!1,toutMsg:t.message,reloadChat:!0});case(i||u()).BLOCK_USER_FAILURE:return(0,(a||o()).default)({},e,{toutError:!0,toutMsg:t.message});case(i||u()).CLOSE_CHAT_SUCCESS:return l[n]=[],(0,(a||o()).default)({},e,{list:l});case(i||u()).INIT_CHAT_SCREEN:return(0,(a||o()).default)({},e,c);case(i||u()).CREATE_CHAT_HANDLER_SUCCESS:case(i||u()).CREATE_CHAT_HANDLER_FAIL:return(0,(a||o()).default)({},e);case(i||u()).MESSAGE_LIST_SUCCESS:var p=t.messageList,y=l[n]||[];return l[n]=function(e){var t={};return e.filter(function(e){var n=e.messageId;return!t[n]&&(t[n]=!0,!0)})}(t.init?[].concat((0,(r||s()).default)(p)):[].concat((0,(r||s()).default)(y),(0,(r||s()).default)(p))),(0,(a||o()).default)({},e,{list:l});case(i||u()).MESSAGE_LIST_FAIL:return(0,(a||o()).default)({},e);case(i||u()).MESSAGE_RECEIVED:return l[h]=l[h]?[d].concat((0,(r||s()).default)(l[h])):[],(0,(a||o()).default)({},e,{list:l});case(i||u()).DELETE_MESSAGE_SUCCESS:return(0,(a||o()).default)({},e,{toutError:!1,toutMsg:t.message});case(i||u()).DELETE_MESSAGE_FAILURE:return(0,(a||o()).default)({},e,{toutError:!0,toutMsg:t.message});case(i||u()).MESSAGE_DELETED:return l[h]=f.filter(function(e){return parseFloat(e.messageId)!==parseFloat(d)}),(0,(a||o()).default)({},e,{list:l});case(i||u()).REPORT_MESSAGE_SUCCESS:return(0,(a||o()).default)({},e,{toutError:!1,toutMsg:t.message});case(i||u()).REPORT_MESSAGE_FAILURE:return(0,(a||o()).default)({},e,{toutError:!0,toutMsg:t.message});case(i||u()).RESET_TOUT:return(0,(a||o()).default)({},e,{toutError:null,toutMsg:"",reloadChat:!1});case(i||u()).SEND_MESSAGE_TEMPORARY:return l[n]=[t.message].concat((0,(r||s()).default)(l[n])),(0,(a||o()).default)({},e,{list:l});case(i||u()).SEND_MESSAGE_SUCCESS:var m=t.message,g=l[n].map(function(e){return e.reqId&&m.reqId&&e.reqId.toString()===m.reqId.toString()?m:e});return l[n]=g,(0,(a||o()).default)({},e,{list:l});case(i||u()).SEND_MESSAGE_FAIL:return(0,(a||o()).default)({},e);case(i||u()).UNBLOCK_USER:return(0,(a||o()).default)({},e,{toutError:!1,toutMsg:t.message,reloadChat:!0});case(i||u()).UNBLOCK_USER_FAILURE:return(0,(a||o()).default)({},e,{toutError:!0,toutMsg:t.message});default:return e}},e.exports=t.default},function(e,t,n){"use strict";var r,a;Object.defineProperty(t,"__esModule",{value:!0});var i={env:"default"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case(a||(a=n(34))).INIT_SUCCESS:return(0,(r||(r=function(e){return e&&e.__esModule?e:{default:e}}(n(10)))).default)({},e,{env:t.env});default:return e}},e.exports=t.default},function(e,t,n){"use strict";var r,a,i;function s(){return a=o(n(52))}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u={gifItems:[],extendUrl:"",queryText:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case(i||(i=n(34))).GIF_LIST_SUCCESS:var l=e.queryText===t.queryText?[].concat((0,(a||s()).default)(e.gifItems),(0,(a||s()).default)(t.gifItems)):t.gifItems;return(0,(r||(r=o(n(10)))).default)({},e,{gifItems:l,extendUrl:t.extendUrl,queryText:t.queryText});default:return e}},e.exports=t.default},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.initEnv=void 0;t.initEnv=function(e){return function(t){t({type:(r||(r=n(34))).INIT_SUCCESS,env:e})}}},function(e){e.exports={BLOCKED_USER:"User has been successfully blocked",BLOCKED_USER_FAILURE:"There was an error blocking this user, please try again",BLOCK_USER_X:"Block {userName}",CHATS:"Chats",DAYS_AGO:"{num}d ago",ERROR_MESSAGE:" {errorMessage} ",FEEDBACK:"Feedback",GIF_SEARCH:"Search for a gif...",JUST_NOW:"Just now",LAST_MESSAGE:"{sender}: {message}",LEAGUES:"Leagues",MESSAGE_DELETED:"Message Deleted",MESSAGE_DELETED_FAILURE:"There was an error deleting this message, please try again",MESSAGE_REPORTED:"Message Reported",MESSAGE_REPORTED_ERROR:"There was an error reporting this message, please try again",MINUTES_AGO:"{num}m ago",OPEN_DIRECT_MESSAGE:"Open Direct Message",REPORT:"Report",REPORT_MESSAGE:"Report Message",REASON_FOR_REPORTING:"Reason for reporting? (optional)",START_CHATTING_NOW:"Start Chatting Now!",ADD_A_MESSAGE:"Add a message...",THERE_WAS_AN_ERROR:"There was an error.",UNBLOCKED_USER:"User has been successfully unblocked",UNBLOCKED_USER_FAILURE:"There was an error unblocking this user, please try again",UNBLOCK_USER_X:"Unblock {userName}",YEARS_AGO:"{num}y ago",VIA_X:"via {source}",ONE_USER_IS_TYPING:"{userName} is typing...",MULTIPLE_USERS_ARE_TYPING:"{numberUsers} people are typing..."}},function(e){e.exports={_args:[[{raw:"fantasy-chat@^0.3.9",scope:null,escapedName:"fantasy-chat",name:"fantasy-chat",rawSpec:"^0.3.9",spec:">=0.3.9 <0.4.0",type:"range"},"/sd/workspace/src/git.ouroath.com/sports/sports/fantasy/react_modules"]],_from:"fantasy-chat@>=0.3.9 <0.4.0",_id:"fantasy-chat@0.3.9",_inCache:!0,_location:"/fantasy-chat",_phantomChildren:{},_requested:{raw:"fantasy-chat@^0.3.9",scope:null,escapedName:"fantasy-chat",name:"fantasy-chat",rawSpec:"^0.3.9",spec:">=0.3.9 <0.4.0",type:"range"},_requiredBy:["/"],_resolved:"https://registry.npm.vzbuilders.com:4443/npm-registry/api/npm/npm-registry/fantasy-chat/-/fantasy-chat-0.3.9.tgz",_shasum:"7ad4464736fb7f3e99c815af148b635cc59554d2",_shrinkwrap:null,_spec:"fantasy-chat@^0.3.9",_where:"/sd/workspace/src/git.ouroath.com/sports/sports/fantasy/react_modules",author:{name:"sports-frontend-devel@oath.com"},browserslist:[">0.2%","not dead","not ie < 11","not op_mini all"],dependencies:{classnames:"^2.2.6","object-assign":"^4.1.1","promise-polyfill":"^8.1.0",react:"^16.6.3","react-dom":"^16.6.3","react-i13n":"^2.7.3","react-i13n-rapid":"^3.2.1","react-icons":"^4.3.3","react-intl":"^2.8.0","react-redux":"^4.4.5","react-scripts":"2.1.1",redux:"^3.5.2","redux-thunk":"^2.3.0",sendbird:"^3.0.92","svg-icons":"^5.1.58","td-utils":"^1.0.60",utf8:"^3.0.0","whatwg-fetch":"^3.0.0"},description:"Fantasy Chat Application",devDependencies:{"babel-core":"^6.10.4","babel-eslint":"^9.0.0","babel-jest":"23.6.0","babel-loader":"8.0.4","babel-preset-pubs":"~2.5.1","babel-preset-react-native":"1.9.1","babel-register":"~6.18.0",enzyme:"^3.0.0","enzyme-adapter-react-16":"^1.0.0",eslint:"5.6.0","eslint-config-pubs":"^3.0.0","eslint-plugin-json":"^1.2.0","eslint-plugin-jsx-a11y":"^6.1.2",grunt:"^1.0.4","grunt-atomizer":"^3.1.3","grunt-cli":"^1.3.2","grunt-concurrent":"^2.3.1","grunt-contrib-watch":"^1.1.0","grunt-reactors":"^4.0.10","grunt-shell":"^3.0.1","grunt-webpack":"^3.1.3","identity-obj-proxy":"^3.0.0","jasmine-reporters":"^2.2.0",jest:"^23.0.0","jest-enzyme":"~2.1.2","precommit-hook":"1.0.x",sinon:"^7.2.3"},dist:{tarball:"https://registry.npm.vzbuilders.com:4443/npm-registry/api/npm/npm-registry/fantasy-chat/-/fantasy-chat-0.3.9.tgz",shasum:"7ad4464736fb7f3e99c815af148b635cc59554d2"},locator:{rulesets:"td-locator-rulesets"},main:"index.js",name:"fantasy-chat",optionalDependencies:{},"pre-commit":["lint","test"],readme:"ERROR: No README data found!",scripts:{build:"grunt dist","ci-build":"grunt dist","ci-lint":"eslint --ext .js,.jsx,.json .","ci-test":"jest",eject:"react-scripts eject",lint:"eslint --ext .js,.jsx,.json .",start:"grunt dev",test:"jest"},version:"0.3.9",yahoo:{bugzilla:{product:"Sports",component:"Engineering Infrastructure"},custodian:{email:"sports-frontend-devel@oath.com"},screwdriver:{project_id:"1009667",project_url:"https://screwdriver.ouroath.com/pipelines/1009667"},git:{repo:"git@git.ouroath.com:sports/fantasy-chat",branch:"origin/master",commit:"c29386958322c27b6315559fc98cf68617be9c66"},sdv4:{pipeline_id:"1009667",job_name:"component",build_id:"5411020"}}}}]);